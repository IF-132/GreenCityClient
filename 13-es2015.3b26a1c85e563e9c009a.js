(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"MO+k":function(t,e,n){t.exports=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(t,n){return function(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);var r=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw new Error("missing channels property: "+a);if(!("labels"in r[a]))throw new Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw new Error("channel and label counts mismatch: "+a);var o=r[a].channels,s=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:o}),Object.defineProperty(r[a],"labels",{value:s})}r.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s===o?e=0:i===s?e=(r-a)/l:r===s?e=2+(a-i)/l:a===s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},r.rgb.hsv=function(t){var e,n,i,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,c=Math.max(o,s,l),d=c-Math.min(o,s,l),p=function(t){return(c-t)/6/d+.5};return 0===d?r=a=0:(a=d/c,e=p(o),n=p(s),i=p(l),o===c?r=i-n:s===c?r=1/3+e-i:l===c&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*a,100*c]},r.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[r.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},r.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},r.rgb.keyword=function(t){var i=n[t];if(i)return i;var r,a,o,s=1/0;for(var l in e)if(e.hasOwnProperty(l)){var c=(a=t,o=e[l],Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)+Math.pow(a[2]-o[2],2));c<s&&(s=c,r=l)}return r},r.keyword.rgb=function(t){return e[t]},r.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},r.rgb.lab=function(t){var e=r.rgb.xyz(t),n=e[0],i=e[1],a=e[2];return i/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.hsl.rgb=function(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=o+1/3*-(c-1))<0&&i++,i>1&&i--,r[c]=255*(a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e);return r},r.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,a=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=a<=1?a:2-a,[e,100*(0===i?2*r/(a+r):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},r.hsv.hsl=function(t){var e,n,i,r=t[0],a=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return i=(2-a)*o,n=a*s,[r,100*(n=(n/=(e=(2-a)*s)<=1?e:2-e)||0),100*(i/=2)]},r.hwb.rgb=function(t){var e,n,i,r,a,o,s,l=t[0]/360,c=t[1]/100,d=t[2]/100,p=c+d;switch(p>1&&(c/=p,d/=p),i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),r=c+i*((n=1-d)-c),e){default:case 6:case 0:a=n,o=r,s=c;break;case 1:a=r,o=n,s=c;break;case 2:a=c,o=n,s=r;break;case 3:a=c,o=r,s=n;break;case 4:a=r,o=c,s=n;break;case 5:a=n,o=c,s=r}return[255*a,255*o,255*s]},r.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-i)+i)),255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},r.xyz.rgb=function(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=(e=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},r.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(t){var e,n,i;e=t[1]/500+(n=(t[0]+16)/116),i=n-t[2]/200;var r=Math.pow(n,3),a=Math.pow(e,3),o=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},r.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},r.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},r.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],a=1 in arguments?arguments[1]:r.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===a&&(o+=60),o},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},r.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(Math.max(n,i),r),o=Math.min(Math.min(n,i),r),s=a-o;return e=s<=0?0:a===n?(i-r)/s%6:a===i?2+(r-n)/s:4+(n-i)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},r.hsl.hcg=function(t){var e,n=t[1]/100,i=t[2]/100,r=0;return(e=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*e)/(1-e)),[t[0],100*e,100*r]},r.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},r.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var i,r=[0,0,0],a=t[0]/360%1*6,o=a%1,s=1-o;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return[255*(e*r[0]+(i=(1-e)*n)),255*(e*r[1]+i),255*(e*r[2]+i)]},r.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},r.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},r.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},r.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=r.gray.hsv=function(t){return[0,0,t[0]]},r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}(n={exports:{}}),n.exports}();function i(t,e){return function(n){return e(t(n))}}function r(t,e){for(var r=[e[t].parent,t],a=n[e[t].parent][t],o=e[t].parent;e[o].parent;)r.unshift(e[o].parent),a=i(n[e[o].parent][o],a),o=e[o].parent;return a.conversion=r,a}var a={};Object.keys(n).forEach((function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:n[t].channels}),Object.defineProperty(a[t],"labels",{value:n[t].labels});var e=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(n),i=e.length,r=0;r<i;r++)t[e[r]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var r=i.pop(),a=Object.keys(n[r]),o=a.length,s=0;s<o;s++){var l=a[s],c=e[l];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,i.unshift(l))}return e}(t),i={},a=Object.keys(e),o=a.length,s=0;s<o;s++){var l=a[s];null!==e[l].parent&&(i[l]=r(l,e))}return i}(t);Object.keys(e).forEach((function(n){var i=e[n];a[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),a[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))}));var o=a,s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l={getRgba:c,getHsla:d,getRgb:function(t){var e=c(t);return e&&e.slice(0,3)},getHsl:function(t){var e=d(t);return e&&e.slice(0,3)},getHwb:p,getAlpha:function(t){var e=c(t);return e||(e=d(t))||(e=p(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+m(t[0])+m(t[1])+m(t[2])+(e>=0&&e<1?m(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?h(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:h,percentString:function(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:g,hslString:function(t,e){return e<1||t[3]&&t[3]<1?u(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:u,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return b[t.slice(0,3)]}};function c(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=s[i[1]]))return}for(a=0;a<e.length;a++)e[a]=f(e[a],0,255);return n=n||0==n?f(n,0,1):1,e[3]=n,e}}function d(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[f(parseInt(e[1]),0,360),f(parseFloat(e[2]),0,100),f(parseFloat(e[3]),0,100),f(isNaN(n)?1:n,0,1)]}}}function p(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[f(parseInt(e[1]),0,360),f(parseFloat(e[2]),0,100),f(parseFloat(e[3]),0,100),f(isNaN(n)?1:n,0,1)]}}}function h(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function g(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function u(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function f(t,e,n){return Math.min(Math.max(e,t),n)}function m(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var b={};for(var v in s)b[s[v]]=v;var x=function(t){return t instanceof x?t:this instanceof x?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=l.getRgba(t))?this.setValues("rgb",e):(e=l.getHsla(t))?this.setValues("hsl",e):(e=l.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new x(t);var e};x.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return l.hexString(this.values.rgb)},rgbString:function(){return l.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return l.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return l.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return l.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return l.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return l.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return l.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new x,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&("[object Array]"===(e={}.toString.call(t=i[a]))?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},x.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},x.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},x.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},x.prototype.setValues=function(t,e){var n,i,r=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)r[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[a[t][0]]){var c=a[t];for(n=0;n<t.length;n++)r[t][n]=e[c[n]];l=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(s[t][n],r[t][n])),r[t][n]=Math.round(i);for(var d in a)d!==t&&(r[d]=o[t][d](r[t]));return!0},x.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},x.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=x);var y=x;function C(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var _,M={noop:function(){},uid:(_=0,function(){return _++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return M.valueOrDefault(M.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,a,o;if(M.isArray(t))if(a=t.length,i)for(r=a-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if(M.isObject(t))for(a=(o=Object.keys(t)).length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])},arrayEquals:function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=e[n],(r=t[n])instanceof Array&&a instanceof Array){if(!M.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(M.isArray(t))return t.map(M.clone);if(M.isObject(t)){for(var e=Object.create(t),n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=M.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){if(C(t)){var r=e[t],a=n[t];M.isObject(r)&&M.isObject(a)?M.merge(r,a,i):e[t]=M.clone(a)}},_mergerIf:function(t,e,n){if(C(t)){var i=e[t],r=n[t];M.isObject(i)&&M.isObject(r)?M.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=M.clone(r))}},merge:function(t,e,n){var i,r,a,o,s,l=M.isArray(e)?e:[e],c=l.length;if(!M.isObject(t))return t;for(i=(n=n||{}).merger||M._merger,r=0;r<c;++r)if(M.isObject(e=l[r]))for(s=0,o=(a=Object.keys(e)).length;s<o;++s)i(a[s],t,e,n);return t},mergeIf:function(t,e){return M.merge(t,e,{merger:M._mergerIf})},extend:Object.assign||function(t){return M.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=M.inherits,t&&M.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){void 0!==e&&console.warn(t+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},P=M;M.callCallback=M.callback,M.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},M.getValueOrDefault=M.valueOrDefault,M.getValueAtIndexOrDefault=M.valueAtIndexOrDefault;var w={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}},O={effects:w};P.easingEffects=w;var S=Math.PI,k=S/180,I=2*S,E=S/2,F=S/4,D=2*S/3,A={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=e+o,l=n+o,c=e+i-o,d=n+r-o;t.moveTo(e,l),s<c&&l<d?(t.arc(s,l,o,-S,-E),t.arc(c,l,o,-E,0),t.arc(c,d,o,0,E),t.arc(s,d,o,E,S)):s<c?(t.moveTo(s,n),t.arc(c,l,o,-E,E),t.arc(s,l,o,E,S+E)):l<d?(t.arc(s,l,o,-S,0),t.arc(s,d,o,0,S)):t.arc(s,l,o,-S,S),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r,a){var o,s,l,c,d,p=(a||0)*k;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(o=e.toString())||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,r),t.rotate(p),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,r,n,0,I),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(p)*n,r-Math.cos(p)*n),p+=D,t.lineTo(i+Math.sin(p)*n,r-Math.cos(p)*n),p+=D,t.lineTo(i+Math.sin(p)*n,r-Math.cos(p)*n),t.closePath();break;case"rectRounded":c=n-(d=.516*n),s=Math.cos(p+F)*c,l=Math.sin(p+F)*c,t.arc(i-s,r-l,d,p-S,p-E),t.arc(i+l,r-s,d,p-E,p),t.arc(i+s,r+l,d,p,p+E),t.arc(i-l,r+s,d,p+E,p+S),t.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*n,t.rect(i-c,r-c,2*c,2*c);break}p+=F;case"rectRot":s=Math.cos(p)*n,l=Math.sin(p)*n,t.moveTo(i-s,r-l),t.lineTo(i+l,r-s),t.lineTo(i+s,r+l),t.lineTo(i-l,r+s),t.closePath();break;case"crossRot":p+=F;case"cross":s=Math.cos(p)*n,l=Math.sin(p)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"star":s=Math.cos(p)*n,l=Math.sin(p)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s),p+=F,s=Math.cos(p)*n,l=Math.sin(p)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"line":s=Math.cos(p)*n,l=Math.sin(p)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(p)*n,r+Math.sin(p)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(e.x+n.x)/2;t.lineTo(a,i?n.y:e.y),t.lineTo(a,i?e.y:n.y)}else"after"===r&&!i||"after"!==r&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},L=A;P.clear=A.clear,P.drawRoundedRectangle=function(t){t.beginPath(),A.roundedRect.apply(A,arguments)};var T={_set:function(t,e){return P.merge(this[t]||(this[t]={}),e)}};T._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var z=T,j=P.valueOrDefault,N={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return P.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},_parseFont:function(t){var e=z.global,n=j(t.fontSize,e.defaultFontSize),i={family:j(t.fontFamily,e.defaultFontFamily),lineHeight:P.options.toLineHeight(j(t.lineHeight,e.defaultLineHeight),n),size:n,style:j(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=function(t){return!t||P.isNullOrUndef(t.size)||P.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i},resolve:function(t,e,n,i){var r,a,o,s=!0;for(r=0,a=t.length;r<a;++r)if(void 0!==(o=t[r])&&(void 0!==e&&"function"==typeof o&&(o=o(e),s=!1),void 0!==n&&P.isArray(o)&&(o=o[n],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}},B={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e==0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort((function(t,e){return t-e})).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e}},R=B;P.log10=B.log10;var V=P,H=L,q=N,$=R;V.easing=O,V.canvas=H,V.options=q,V.math=$,V.rtl={getRtlAdapter:function(t,e,n){return t?function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,n):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var n,i;"ltr"!==e&&"rtl"!==e||(i=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};var W=function(t){V.extend(this,t),this.initialize.apply(this,arguments)};V.extend(W.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=V.extend({},t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),function(t,e,n,i){var r,a,o,s,l,c,d,p,h,g=Object.keys(n);for(r=0,a=g.length;r<a;++r)if(c=n[o=g[r]],e.hasOwnProperty(o)||(e[o]=c),(s=e[o])!==c&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(d=typeof c)==typeof(l=t[o]))if("string"===d){if((p=y(l)).valid&&(h=y(c)).valid){e[o]=h.mix(p,i).rgbString();continue}}else if(V.isFinite(l)&&V.isFinite(c)){e[o]=l+(c-l)*i;continue}e[o]=c}}(i,r,n,t),e):(e._view=V.extend({},n),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return V.isNumber(this._model.x)&&V.isNumber(this._model.y)}}),W.extend=V.inherits;var U=W,Y=U.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),G=Y;Object.defineProperty(Y.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Y.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),z._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:V.noop,onComplete:V.noop}});var Q={animations:[],request:null,addAnimation:function(t,e,n,i){var r,a,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=V.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=V.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,r=this.animations,a=0;a<r.length;)e=(t=r[a]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),V.callback(t.render,[e,t],e),V.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(V.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(a,1)):++a}},X=V.options.resolve,K=["push","pop","shift","splice","unshift"];function Z(t,e){var n=t._chartjs;if(n){var i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(K.forEach((function(e){delete t[e]})),delete t._chartjs)}}var J=function(t,e){this.initialize(t,e)};V.extend(J.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.chart,n=e.scales,i=this.getDataset(),r=e.options.scales;null!==t.xAxisID&&t.xAxisID in n&&!i.xAxisID||(t.xAxisID=i.xAxisID||r.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in n&&!i.yAxisID||(t.yAxisID=i.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Z(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(t=0,e=i.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&Z(n._data,n),r&&Object.isExtensible(r)&&(e=n,(t=r)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),K.forEach((function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=i.apply(this,e);return V.each(t._chartjs.listeners,(function(t){"function"==typeof t[n]&&t[n].apply(t,e)})),r}})})))),n._data=r),n.resyncElements()},_configure:function(){this._config=V.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(t,e,n){"_meta"!==t&&"data"!==t&&V._merger(t,e,n)}})},_update:function(t){this._configure(),this._cachedDataOpts=null,this.update(t)},update:V.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this.getMeta(),i=n.dataset;return this._configure(),!1!==(e=i&&void 0===t?this._resolveDatasetElementOptions(i||{}):this._resolveDataElementOptions(n.data[t=t||0]||{},t)).fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,r,a,o=this,s=o.chart,l=o._config,c=t.custom||{},d=s.options.elements[o.datasetElementType.prototype._type]||{},p=o._datasetElementOptions,h={},g={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(n=0,i=p.length;n<i;++n)r=p[n],a=e?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=X([c[a],l[a],d[a]],g);return h},_resolveDataElementOptions:function(t,e){var n=this,i=t&&t.custom,r=n._cachedDataOpts;if(r&&!i)return r;var a,o,s,l,c=n.chart,d=n._config,p=c.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,g={},u={chart:c,dataIndex:e,dataset:n.getDataset(),datasetIndex:n.index},f={cacheable:!i};if(i=i||{},V.isArray(h))for(o=0,s=h.length;o<s;++o)g[l=h[o]]=X([i[l],d[l],p[l]],u,e,f);else for(o=0,s=(a=Object.keys(h)).length;o<s;++o)g[l=a[o]]=X([i[l],d[h[l]],d[l],p[l]],u,e,f);return f.cacheable&&(n._cachedDataOpts=Object.freeze(g)),g},removeHoverStyle:function(t){V.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,a=V.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=X([i.hoverBackgroundColor,e.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=X([i.hoverBorderColor,e.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=X([i.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,r,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,r=this._resolveDatasetElementOptions(o,!0),t=0,e=(i=Object.keys(r)).length;t<e;++t)s[n=i[t]]=a[n],a[n]=r[n];o.$previousStyle=s}},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),J.extend=V.inherits;var tt=J,et=2*Math.PI;function nt(t,e){var n=e.startAngle,i=e.endAngle,r=e.pixelMargin,a=r/e.outerRadius,o=e.x,s=e.y;t.beginPath(),t.arc(o,s,e.outerRadius,n-a,i+a),e.innerRadius>r?t.arc(o,s,e.innerRadius-r,i+(a=r/e.innerRadius),n-a,!0):t.arc(o,s,r,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}z._set("global",{elements:{arc:{backgroundColor:z.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var it=U.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=V.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=et;for(;r>s;)r-=et;for(;r<o;)r+=et;return r>=o&&r<=s&&a>=n.innerRadius&&a<=n.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/et)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+et,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),t=0;t<r.fullCircles;++t)e.fill();r.endAngle=r.startAngle+n.circumference%et}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&function(t,e,n){var i="inner"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),n.fullCircles&&function(t,e,n,i){var r,a=n.endAngle;for(i&&(n.endAngle=n.startAngle+et,nt(t,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=et,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+et,n.startAngle,!0),r=0;r<n.fullCircles;++r)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+et),r=0;r<n.fullCircles;++r)t.stroke()}(t,e,n,i),i&&nt(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}(e,n,r),e.restore()}}),rt=V.valueOrDefault,at=z.global.defaultColor;z._set("global",{elements:{line:{tension:.4,backgroundColor:at,borderWidth:3,borderColor:at,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ot=U.extend({_type:"line",draw:function(){var t,e,n,i=this,r=i._view,a=i._chart.ctx,o=r.spanGaps,s=i._children.slice(),l=z.global,c=l.elements.line,d=-1,p=i._loop;if(s.length){if(i._loop){for(t=0;t<s.length;++t)if(e=V.previousItem(s,t),!s[t]._view.skip&&e._view.skip){s=s.slice(t).concat(s.slice(0,t)),p=o;break}p&&s.push(s[0])}for(a.save(),a.lineCap=r.borderCapStyle||c.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||c.borderDash),a.lineDashOffset=rt(r.borderDashOffset,c.borderDashOffset),a.lineJoin=r.borderJoinStyle||c.borderJoinStyle,a.lineWidth=rt(r.borderWidth,c.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),(n=s[0]._view).skip||(a.moveTo(n.x,n.y),d=0),t=1;t<s.length;++t)n=s[t]._view,e=-1===d?V.previousItem(s,t):s[d],n.skip||(d!==t-1&&!o||-1===d?a.moveTo(n.x,n.y):V.canvas.lineTo(a,e._view,n),d=t);p&&a.closePath(),a.stroke(),a.restore()}}}),st=V.valueOrDefault,lt=z.global.defaultColor;function ct(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}z._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:lt,borderColor:lt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var dt=U.extend({_type:"point",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ct,inXRange:ct,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,r=e.rotation,a=e.radius,o=e.x,s=e.y,l=z.global,c=l.defaultColor;e.skip||(void 0===t||V.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||c,n.lineWidth=st(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||c,V.canvas.drawPoint(n,i,a,o,s,r))}}),pt=z.global.defaultColor;function ht(t){return t&&void 0!==t.width}function gt(t){var e,n,i,r,a;return ht(t)?(e=t.x-(a=t.width/2),n=t.x+a,i=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-a,r=t.y+a),{left:e,top:i,right:n,bottom:r}}function ut(t,e,n){return t===e?n:t===n?e:t}function ft(t,e,n){var i=null===e,r=null===n,a=!(!t||i&&r)&&gt(t);return a&&(i||e>=a.left&&e<=a.right)&&(r||n>=a.top&&n<=a.bottom)}z._set("global",{elements:{rectangle:{backgroundColor:pt,borderColor:pt,borderSkipped:"bottom",borderWidth:0}}});var mt=U.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=gt(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){var i,r,a,o,s=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=ut(e,"left","right")):t.base<t.y&&(e=ut(e,"bottom","top")),n[e]=!0,n):n}(t);return V.isObject(s)?(i=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):i=r=a=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>e?e:r,b:l.bottom||a<0?0:a>n?n:a,l:l.left||o<0?0:o>e?e:o}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(e),i=n.outer,r=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return ft(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return ht(n)?ft(n,t,null):ft(n,null,e)},inXRange:function(t){return ft(this._view,t,null)},inYRange:function(t){return ft(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return ht(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return ht(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),bt={},vt=ot,xt=dt,yt=mt;bt.Arc=it,bt.Line=vt,bt.Point=xt,bt.Rectangle=yt;var Ct=V._deprecated,_t=V.valueOrDefault;z._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),z._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Mt=tt.extend({dataElementType:bt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,n=this;tt.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0,e=n._getIndexScale().options,Ct("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ct("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ct("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ct("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ct("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveDataElementOptions(t,e);t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[e]},V.isArray(a.data[e])&&(t._model.borderSkipped=null),i._updateElementGeometry(t,e,n,o),t.pivot()},_updateElementGeometry:function(t,e,n,i){var r=this,a=t._model,o=r._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),c=r._ruler||r.getRuler(),d=r.calculateBarValuePixels(r.index,e,i),p=r.calculateBarIndexPixels(r.index,e,c,i);a.horizontal=l,a.base=n?s:d.base,a.x=l?n?s:d.head:p.center,a.y=l?p.center:n?s:d.head,a.height=l?p.size:void 0,a.width=l?void 0:p.size},_getStacks:function(t){var e,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),a=i.options.stacked,o=r.length,s=[];for(e=0;e<o&&(n=r[e],(!1===a||-1===s.indexOf(n.stack)||void 0===a&&void 0===n.stack)&&s.push(n.stack),n.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=[];for(t=0,e=this.getMeta().data.length;t<e;++t)i.push(n.getPixelForValue(null,t,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,n){var i,r,a,o,s,l,c,d=this.chart,p=this._getValueScale(),h=p.isHorizontal(),g=d.data.datasets,u=p._getMatchingVisibleMetas(this._type),f=p._parseValue(g[t].data[e]),m=n.minBarLength,b=p.options.stacked,v=this.getMeta().stack,x=void 0===f.start?0:f.max>=0&&f.min>=0?f.min:f.max,y=void 0===f.start?f.end:f.max>=0&&f.min>=0?f.max-f.min:f.min-f.max,C=u.length;if(b||void 0===b&&void 0!==v)for(i=0;i<C&&(r=u[i]).index!==t;++i)r.stack===v&&(a=void 0===(c=p._parseValue(g[r.index].data[e])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(f.min<0&&a<0||f.max>=0&&a>0)&&(x+=a));return o=p.getPixelForValue(x),l=(s=p.getPixelForValue(x+y))-o,void 0!==m&&Math.abs(l)<m&&(l=m,s=y>=0&&!h||y<0&&h?o-m:o+m),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,n,i){var r="flex"===i.barThickness?function(t,e,n){var i,r=e.pixels,a=r[t],o=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?e.end-e.start:s-a)),null===s&&(s=a+a-o),i=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):function(t,e,n){var i,r,a=n.barThickness,o=e.stackCount,s=e.pixels[t],l=V.isNullOrUndef(a)?function(t,e){var n,i,r,a,o=t._length;for(r=1,a=e.length;r<a;++r)o=Math.min(o,Math.abs(e[r]-e[r-1]));for(r=0,a=t.getTicks().length;r<a;++r)i=t.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(i-n)):o,n=i;return o}(e.scale,e.pixels):-1;return V.isNullOrUndef(a)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}(e,n,i),a=this.getStackIndex(t,this.getMeta().stack),o=r.start+r.chunk*a+r.chunk/2,s=Math.min(_t(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(V.canvas.clipArea(t.ctx,t.chartArea);a<r;++a){var o=e._parseValue(i.data[a]);isNaN(o.min)||isNaN(o.max)||n[a].draw()}V.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var t=this,e=V.extend({},tt.prototype._resolveDataElementOptions.apply(t,arguments)),n=t._getIndexScale().options,i=t._getValueScale().options;return e.barPercentage=_t(n.barPercentage,e.barPercentage),e.barThickness=_t(n.barThickness,e.barThickness),e.categoryPercentage=_t(n.categoryPercentage,e.categoryPercentage),e.maxBarThickness=_t(n.maxBarThickness,e.maxBarThickness),e.minBarLength=_t(i.minBarLength,e.minBarLength),e}}),Pt=V.valueOrDefault,wt=V.options.resolve;z._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}});var Ot=tt.extend({dataElementType:bt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,n=e.getMeta();V.each(n.data,(function(n,i){e.updateElement(n,i,t)}))},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=t.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveDataElementOptions(t,e),c=i.getDataset().data[e],d=i.index,p=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,e,d),h=n?s.getBasePixel():s.getPixelForValue(c,e,d);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(p)||isNaN(h),x:p,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Pt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Pt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Pt(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this,i=n.chart,r=n.getDataset(),a=t.custom||{},o=r.data[e]||{},s=tt.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:e,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=V.extend({},s)),s.radius=wt([a.radius,o.r,n._config.radius,i.options.elements.point.radius],l,e),s}}),St=V.valueOrDefault,kt=Math.PI,It=2*kt,Et=kt/2;z._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(e=0,n=o[0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var r=t.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(e.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-Et,circumference:It,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return V.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Ft=tt.extend({dataElementType:bt.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i=this,r=i.chart,a=r.chartArea,o=r.options,s=1,l=1,c=0,d=0,p=i.getMeta(),h=p.data,g=o.cutoutPercentage/100||0,u=o.circumference,f=i._getRingWeight(i.index);if(u<It){var m=o.rotation%It,b=(m+=m>=kt?-It:m<-kt?It:0)+u,v=Math.cos(m),x=Math.sin(m),y=Math.cos(b),C=Math.sin(b),_=m<=0&&b>=0||b>=It,M=m<=Et&&b>=Et||b>=It+Et,P=m<=-Et&&b>=-Et||b>=kt+Et,w=m===-kt||b>=kt?-1:Math.min(v,v*g,y,y*g),O=P?-1:Math.min(x,x*g,C,C*g),S=_?1:Math.max(v,v*g,y,y*g),k=M?1:Math.max(x,x*g,C,C*g);s=(S-w)/2,l=(k-O)/2,c=-(S+w)/2,d=-(k+O)/2}for(e=0,n=h.length;e<n;++e)h[e]._options=i._resolveDataElementOptions(h[e],e);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max(Math.min((a.right-a.left-r.borderWidth)/s,(a.bottom-a.top-r.borderWidth)/l)/2,0),r.innerRadius=Math.max(r.outerRadius*g,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=c*r.outerRadius,r.offsetY=d*r.outerRadius,p.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*f,0),e=0,n=h.length;e<n;++e)i.updateElement(h[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=o.rotation,p=o.rotation,h=i.getDataset(),g=n&&s.animateRotate||t.hidden?0:i.calculateCircumference(h.data[e])*(o.circumference/It),u=t._options||{};V.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,borderAlign:u.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:d,endAngle:p,circumference:g,outerRadius:n&&s.animateScale?0:i.outerRadius,innerRadius:n&&s.animateScale?0:i.innerRadius,label:V.valueAtIndexOrDefault(h.label,e,r.data.labels[e])}});var f=t._model;n&&s.animateRotate||(f.startAngle=0===e?o.rotation:i.getMeta().data[e-1]._model.endAngle,f.endAngle=f.startAngle+f.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return V.each(n.data,(function(n,r){t=e.data[r],isNaN(t)||n.hidden||(i+=Math.abs(t))})),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?It*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,r,a,o,s,l,c=0,d=this.chart;if(!t)for(e=0,n=d.data.datasets.length;e<n;++e)if(d.isDatasetVisible(e)){t=(i=d.getDatasetMeta(e)).data,e!==this.index&&(a=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],a?(a._configure(),o=a._resolveDataElementOptions(r,e)):o=r._options,"inner"!==o.borderAlign&&(c=(l=o.hoverBorderWidth)>(c=(s=o.borderWidth)>c?s:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=St(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=St(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=St(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(St(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});z._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),z._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Dt=Mt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),At=V.valueOrDefault,Lt=V.options.resolve,Tt=V.canvas._isPointInArea;function zt(t,e){var n=t&&t.options.ticks||{},i=n.reverse,r=void 0===n.min?e:0,a=void 0===n.max?e:0;return{start:i?a:r,end:i?r:a}}function jt(t,e,n){var i=n/2,r=zt(t,i),a=zt(e,i);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function Nt(t){var e,n,i,r;return V.isObject(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r}}z._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Bt=tt.extend({datasetElementType:bt.Line,dataElementType:bt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i._config,l=i._showLine=At(s.showLine,i.chart.options.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),l&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),a._scale=i._yScale,a._datasetIndex=i.index,a._children=o,a._model=i._resolveDatasetElementOptions(a),a.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(l&&0!==a._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,r,a=this,o=a.getMeta(),s=t.custom||{},l=a.getDataset(),c=a.index,d=l.data[e],p=a._xScale,h=a._yScale,g=o.dataset._model,u=a._resolveDataElementOptions(t,e);i=p.getPixelForValue("object"==typeof d?d:NaN,e,c),r=n?h.getBasePixel():a.calculatePointY(d,e,c),t._xScale=p,t._yScale=h,t._options=u,t._datasetIndex=c,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:u.radius,pointStyle:u.pointStyle,rotation:u.rotation,backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,tension:At(s.tension,g?g.tension:0),steppedLine:!!g&&g.steppedLine,hitRadius:u.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,n=e._config,i=t.custom||{},r=e.chart.options,a=r.elements.line,o=tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=At(n.spanGaps,r.spanGaps),o.tension=At(n.lineTension,a.tension),o.steppedLine=Lt([i.steppedLine,n.steppedLine,a.stepped]),o.clip=Nt(At(n.clip,jt(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,n){var i,r,a,o,s,l,c=this.chart,d=this._yScale,p=0,h=0;if(d.options.stacked){for(o=+d.getRightValue(t),l=(s=c._getSortedVisibleDatasetMetas()).length,i=0;i<l&&(r=s[i]).index!==n;++i)"line"===r.type&&r.yAxisID===d.id&&((a=+d.getRightValue(c.data.datasets[r.index].data[e]))<0?h+=a||0:p+=a||0);return d.getPixelForValue(o<0?h+o:p+o)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function c(t,e,n){return Math.max(Math.min(t,n),e)}if(o.spanGaps&&(l=l.filter((function(t){return!t._model.skip}))),"monotone"===o.cubicInterpolationMode)V.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=V.splineCurve(V.previousItem(l,t)._model,n,V.nextItem(l,t)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)Tt(n=l[t]._model,s)&&(t>0&&Tt(l[t-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&Tt(l[t+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],r=e.chartArea,a=e.canvas,o=0,s=i.length;for(this._showLine&&(V.canvas.clipArea(e.ctx,{left:!1===(t=n.dataset._model.clip).left?0:r.left-t.left,right:!1===t.right?a.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?a.height:r.bottom+t.bottom}),n.dataset.draw(),V.canvas.unclipArea(e.ctx));o<s;++o)i[o].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=At(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=At(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=At(n.hoverBorderWidth,n.borderWidth),e.radius=At(n.hoverRadius,n.radius)}}),Rt=V.options.resolve;z._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(e=0,n=o[0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var r=t.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(e.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Vt=tt.extend({dataElementType:bt.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],d=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),e=0,n=a.data.length;e<n;e++)l[e]=s,i=r._computeAngle(e),c[e]=i,s+=i;for(e=0,n=d.length;e<n;++e)d[e]._options=r._resolveDataElementOptions(d[e],e),r.updateElement(d[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,d=l.xCenter,p=l.yCenter,h=o.startAngle,g=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),u=i._starts[e],f=u+(t.hidden?0:i._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]),b=t._options||{};V.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,borderAlign:b.borderAlign,x:d,y:p,innerRadius:0,outerRadius:n?m:g,startAngle:n&&s.animateRotate?h:u,endAngle:n&&s.animateRotate?h:f,label:V.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return V.each(e.data,(function(e,i){isNaN(t.data[i])||e.hidden||n++})),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor,r=V.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),r=e.getMeta();return isNaN(i.data[t])||r.data[t].hidden?0:Rt([e.chart.options.elements.arc.angle,2*Math.PI/n],{chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index},t)}});z._set("pie",V.clone(z.doughnut)),z._set("pie",{cutoutPercentage:0});var Ht=Ft,qt=V.valueOrDefault;z._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var $t=tt.extend({datasetElementType:bt.Line,dataElementType:bt.Point,linkScales:V.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveDatasetElementOptions(a),a.pivot(),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i=this,r=t.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(e,a.data[e]),l=i._resolveDataElementOptions(t,e),c=i.getMeta().dataset._model,d=n?o.xCenter:s.x,p=n?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:d,y:p,skip:r.skip||isNaN(d)||isNaN(p),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:qt(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,n=t.chart.options,i=tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=qt(e.spanGaps,n.spanGaps),i.tension=qt(e.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var t,e,n,i,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(r.dataset._model.spanGaps&&(o=o.filter((function(t){return!t._model.skip}))),t=0,e=o.length;t<e;++t)n=o[t]._model,i=V.splineCurve(V.previousItem(o,t,!0)._model,n,V.nextItem(o,t,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,a.left,a.right),n.controlPointPreviousY=s(i.previous.y,a.top,a.bottom),n.controlPointNextX=s(i.next.x,a.left,a.right),n.controlPointNextY=s(i.next.y,a.top,a.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=V.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=qt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=qt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=qt(n.hoverBorderWidth,n.borderWidth),e.radius=qt(n.hoverRadius,n.radius)}});z._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),z._set("global",{datasets:{scatter:{showLine:!1}}});var Wt={bar:Mt,bubble:Ot,doughnut:Ft,horizontalBar:Dt,line:Bt,polarArea:Vt,pie:Ht,radar:$t,scatter:Bt};function Ut(t,e){return t.native?{x:t.x,y:t.y}:V.getRelativePosition(t,e)}function Yt(t,e){var n,i,r,a,o,s,l=t._getSortedVisibleDatasetMetas();for(i=0,a=l.length;i<a;++i)for(r=0,o=(n=l[i].data).length;r<o;++r)(s=n[r])._view.skip||e(s)}function Gt(t,e){var n=[];return Yt(t,(function(t){t.inRange(e.x,e.y)&&n.push(t)})),n}function Qt(t,e,n,i){var r=Number.POSITIVE_INFINITY,a=[];return Yt(t,(function(t){if(!n||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=i(e,o);s<r?(a=[t],r=s):s===r&&a.push(t)}})),a}function Xt(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var r=e?Math.abs(t.x-i.x):0,a=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Kt(t,e,n){var i=Ut(e,t);n.axis=n.axis||"x";var r=Xt(n.axis),a=n.intersect?Gt(t,i):Qt(t,i,!1,r),o=[];return a.length?(t._getSortedVisibleDatasetMetas().forEach((function(t){var e=t.data[a[0]._index];e&&!e._view.skip&&o.push(e)})),o):[]}var Zt={modes:{single:function(t,e){var n=Ut(e,t),i=[];return Yt(t,(function(t){if(t.inRange(n.x,n.y))return i.push(t),i})),i.slice(0,1)},label:Kt,index:Kt,dataset:function(t,e,n){var i=Ut(e,t);n.axis=n.axis||"xy";var r=Xt(n.axis),a=n.intersect?Gt(t,i):Qt(t,i,!1,r);return a.length>0&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return Kt(t,e,{intersect:!1})},point:function(t,e){return Gt(t,Ut(e,t))},nearest:function(t,e,n){var i=Ut(e,t);n.axis=n.axis||"xy";var r=Xt(n.axis);return Qt(t,i,n.intersect,r)},x:function(t,e,n){var i=Ut(e,t),r=[],a=!1;return Yt(t,(function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r},y:function(t,e,n){var i=Ut(e,t),r=[],a=!1;return Yt(t,(function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r}}},Jt=V.extend;function te(t,e){return V.where(t,(function(t){return t.pos===e}))}function ee(t,e){return t.sort((function(t,n){var i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function ne(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ie(t,e,n){var i,r,a=n.box,o=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?a.height:a.width,t[n.pos]+=n.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(i=e.outerWidth-ne(o,t,"left","right"),r=e.outerHeight-ne(o,t,"top","bottom"),i!==t.w||r!==t.h){t.w=i,t.h=r;var l=n.horizontal?[i,t.w]:[r,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function re(t,e){var n,i=e.maxPadding;return n={left:0,top:0,right:0,bottom:0},(t?["left","right"]:["top","bottom"]).forEach((function(t){n[t]=Math.max(e[t],i[t])})),n}function ae(t,e,n){var i,r,a,o,s,l,c=[];for(i=0,r=t.length;i<r;++i)(o=(a=t[i]).box).update(a.width||e.w,a.height||e.h,re(a.horizontal,e)),ie(e,n,a)&&(l=!0,c.length&&(s=!0)),o.fullWidth||c.push(a);return s&&ae(c,e,n)||l}function oe(t,e,n){var i,r,a,o,s=n.padding,l=e.x,c=e.y;for(i=0,r=t.length;i<r;++i)o=(a=t[i]).box,a.horizontal?(o.left=o.fullWidth?s.left:e.left,o.right=o.fullWidth?n.outerWidth-s.right:e.left+e.w,o.top=c,o.bottom=c+o.height,o.width=o.right-o.left,c=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=c}z._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var se,le={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)n.hasOwnProperty(i=r[o])&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=V.options.toPadding((t.options.layout||{}).padding),r=e-i.width,a=n-i.height,o=function(t){var e=function(t){var e,n,i,r=[];for(e=0,n=(t||[]).length;e<n;++e)r.push({index:e,box:i=t[e],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(t),n=ee(te(e,"left"),!0),i=ee(te(e,"right")),r=ee(te(e,"top"),!0),a=ee(te(e,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(a),chartArea:te(e,"chartArea"),vertical:n.concat(i),horizontal:r.concat(a)}}(t.boxes),s=o.vertical,l=o.horizontal,c=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,vBoxMaxWidth:r/2/s.length,hBoxMaxHeight:a/2}),d=Jt({maxPadding:Jt({},i),w:r,h:a,x:i.left,y:i.top},i);!function(t,e){var n,i,r;for(n=0,i=t.length;n<i;++n)(r=t[n]).width=r.horizontal?r.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,r.height=r.horizontal&&e.hBoxMaxHeight}(s.concat(l),c),ae(s,d,c),ae(l,d,c)&&ae(s,d,c),function(t){var e=t.maxPadding;function n(n){var i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),oe(o.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,oe(o.rightAndBottom,d,c),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},V.each(o.chartArea,(function(e){var n=e.box;Jt(n,t.chartArea),n.update(d.w,d.h)}))}}},ce=(se=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&se.default||se,de=["animationstart","webkitAnimationStart"],pe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function he(t,e){var n=V.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var ge=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(n){}return t}()&&{passive:!0};function ue(t,e,n){t.addEventListener(e,n,ge)}function fe(t,e,n){t.removeEventListener(e,n,ge)}function me(t,e,n,i,r){return{type:t,chart:e,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function be(t){var e=document.createElement("div");return e.className=t||"",e}var ve={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var n=t.$chartjs||(t.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,e="/* Chart.js */\n"+e;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(e.host?e:document.head,ce)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(this._ensureLoaded(t),function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=he(t,"width");void 0!==a&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=he(t,"height");void 0!==a&&(t.height=o)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var n=e.$chartjs.initial;["height","width"].forEach((function(t){var i=n[t];V.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)})),V.each(n.style||{},(function(t,n){e.style[n]=t})),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=n.$chartjs||(n.$chartjs={});ue(i,e,(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=pe[t.type]||t.type,i=V.getRelativePosition(t,e);return me(n,e,i.x,i.y,t)}(e,t))})}else!function(t,e,n){var i,r,a,o,s=t.$chartjs||(t.$chartjs={}),l=s.resizer=function(t){var e=be("chartjs-size-monitor"),n=be("chartjs-size-monitor-expand"),i=be("chartjs-size-monitor-shrink");n.appendChild(be()),i.appendChild(be()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){e._reset(),t()};return ue(n,"scroll",r.bind(n,"expand")),ue(i,"scroll",r.bind(i,"shrink")),e}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&t.parentNode,r=i?i.clientWidth:0;e(me("resize",n)),i&&i.clientWidth<r&&n.canvas&&e(me("resize",n))}},a=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,a||(a=!0,V.requestAnimFrame.call(window,(function(){a=!1,i.apply(r,o)})))}));!function(t,e){var n=t.$chartjs||(t.$chartjs={}),i=n.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};V.each(de,(function(e){ue(t,e,i)})),n.reflow=!!t.offsetParent,t.classList.add("chartjs-render-monitor")}(t,(function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}}))}(i,n,t)},removeEventListener:function(t,e,n){var i,r,a,o=t.canvas;if("resize"!==e){var s=((n.$chartjs||{}).proxies||{})[t.id+"_"+e];s&&fe(o,e,s)}else a=(r=(i=o).$chartjs||{}).resizer,delete r.resizer,function(t){var e=t.$chartjs||{},n=e.renderProxy;n&&(V.each(de,(function(e){fe(t,e,n)})),delete e.renderProxy),t.classList.remove("chartjs-render-monitor")}(i),a&&a.parentNode&&a.parentNode.removeChild(a)}};V.addEvent=ue,V.removeEvent=fe;var xe=V.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ve._enabled?ve:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}});z._set("global",{plugins:{}});var ye={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,a,o,s,l=this.descriptors(t),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],r=t&&t.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(t){if(-1===n.indexOf(t)){var e=t.id,r=a[e];!1!==r&&(!0===r&&(r=V.clone(z.global.plugins[e])),n.push(t),i.push({plugin:t,options:r||{}}))}})),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},Ce={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=V.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?V.merge(Object.create(null),[z.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=V.extend(this.defaults[t],e))},addScalesToLayout:function(t){V.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,le.addBox(t,e)}))}},_e=V.valueOrDefault,Me=V.rtl.getRtlAdapter;z._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:V.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(t.length>0){var a=t[0];a.label?n=a.label:a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:V.noop,beforeBody:V.noop,beforeLabel:V.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),V.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:V.noop,afterBody:V.noop,beforeFooter:V.noop,footer:V.noop,afterFooter:V.noop}}});var Pe={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(t,e){var n,i,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=V.distanceBetweenPoints(e,c);d<s&&(s=d,r=l)}}if(r){var p=r.tooltipPosition();a=p.x,o=p.y}return{x:a,y:o}}};function we(t,e){return e&&(V.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Oe(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Se(t){var e=z.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:_e(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:_e(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:_e(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:_e(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:_e(t.titleFontStyle,e.defaultFontStyle),titleFontSize:_e(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:_e(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:_e(t.footerFontStyle,e.defaultFontStyle),footerFontSize:_e(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function ke(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Ie(t){return we([],Oe(t))}var Ee=U.extend({initialize:function(){this._model=Se(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),r=n.title.apply(t,arguments),a=n.afterTitle.apply(t,arguments),o=[];return o=we(o,Oe(i)),o=we(o,Oe(r)),we(o,Oe(a))},getBeforeBody:function(){return Ie(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,r=[];return V.each(t,(function(t){var a={before:[],lines:[],after:[]};we(a.before,Oe(i.beforeLabel.call(n,t,e))),we(a.lines,i.label.call(n,t,e)),we(a.after,Oe(i.afterLabel.call(n,t,e))),r.push(a)})),r},getAfterBody:function(){return Ie(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),a=[];return a=we(a,Oe(n)),a=we(a,Oe(i)),we(a,Oe(r))},update:function(t){var e,n,i,r,a,o,s,l,c,d,p=this,h=p._options,g=p._model,u=p._model=Se(h),f=p._active,m=p._data,b={xAlign:g.xAlign,yAlign:g.yAlign},v={x:g.x,y:g.y},x={width:g.width,height:g.height},y={x:g.caretX,y:g.caretY};if(f.length){u.opacity=1;var C=[],_=[];y=Pe[h.position].call(p,f,p._eventPosition);var M=[];for(e=0,n=f.length;e<n;++e)M.push((r=void 0,a=void 0,l=void 0,c=void 0,d=void 0,r=(i=f[e])._xScale,a=i._yScale||i._scale,o=i._index,c=(l=i._chart.getDatasetMeta(s=i._datasetIndex).controller)._getIndexScale(),d=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:d?""+d.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));h.filter&&(M=M.filter((function(t){return h.filter(t,m)}))),h.itemSort&&(M=M.sort((function(t,e){return h.itemSort(t,e,m)}))),V.each(M,(function(t){C.push(h.callbacks.labelColor.call(p,t,p._chart)),_.push(h.callbacks.labelTextColor.call(p,t,p._chart))})),u.title=p.getTitle(M,m),u.beforeBody=p.getBeforeBody(M,m),u.body=p.getBody(M,m),u.afterBody=p.getAfterBody(M,m),u.footer=p.getFooter(M,m),u.x=y.x,u.y=y.y,u.caretPadding=h.caretPadding,u.labelColors=C,u.labelTextColors=_,u.dataPoints=M,x=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,a=e.body,o=a.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0),s=e.title.length,l=e.footer.length,c=e.titleFontSize,d=e.bodyFontSize,p=e.footerFontSize;i+=s*c,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=(o+=e.beforeBody.length+e.afterBody.length)*d,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*p,i+=l?(l-1)*e.footerSpacing:0;var h=0,g=function(t){r=Math.max(r,n.measureText(t).width+h)};return n.font=V.fontString(c,e._titleFontStyle,e._titleFontFamily),V.each(e.title,g),n.font=V.fontString(d,e._bodyFontStyle,e._bodyFontFamily),V.each(e.beforeBody.concat(e.afterBody),g),h=e.displayColors?d+2:0,V.each(a,(function(t){V.each(t.before,g),V.each(t.lines,g),V.each(t.after,g)})),h=0,n.font=V.fontString(p,e._footerFontStyle,e._footerFontFamily),V.each(e.footer,g),{width:r+=2*e.xPadding,height:i}}(this,u),v=function(t,e,n,i){var r=t.x,a=t.y,o=t.caretPadding,s=n.xAlign,l=n.yAlign,c=t.caretSize+o,d=t.cornerRadius+o;return"right"===s?r-=e.width:"center"===s&&((r-=e.width/2)+e.width>i.width&&(r=i.width-e.width),r<0&&(r=0)),"top"===l?a+=c:a-="bottom"===l?e.height+c:e.height/2,"center"===l?"left"===s?r+=c:"right"===s&&(r-=c):"left"===s?r-=d:"right"===s&&(r+=d),{x:r,y:a}}(u,x,b=function(t,e){var n,i,r,a,o,s=t._model,l=t._chart,c=t._chart.chartArea,d="center",p="center";s.y<e.height?p="top":s.y>l.height-e.height&&(p="bottom");var h=(c.left+c.right)/2,g=(c.top+c.bottom)/2;"center"===p?(n=function(t){return t<=h},i=function(t){return t>h}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},a=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=g?"top":"bottom"},n(s.x)?(d="left",r(s.x)&&(d="center",p=o(s.y))):i(s.x)&&(d="right",a(s.x)&&(d="center",p=o(s.y)));var u=t._options;return{xAlign:u.xAlign?u.xAlign:d,yAlign:u.yAlign?u.yAlign:p}}(this,x),p._chart)}else u.opacity=0;return u.xAlign=b.xAlign,u.yAlign=b.yAlign,u.x=v.x,u.y=v.y,u.width=x.width,u.height=x.height,u.caretX=y.x,u.caretY=y.y,p._model=u,t&&h.custom&&h.custom.call(p,u),p},drawCaret:function(t,e){var n=this._chart.ctx,i=this.getCaretPosition(t,e,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(t,e,n){var i,r,a,o,s,l,c=n.caretSize,d=n.cornerRadius,p=n.xAlign,h=n.yAlign,g=t.x,u=t.y,f=e.width,m=e.height;if("center"===h)s=u+m/2,"left"===p?(r=(i=g)-c,a=i,o=s+c,l=s-c):(r=(i=g+f)+c,a=i,o=s-c,l=s+c);else if("left"===p?(i=(r=g+d+c)-c,a=r+c):"right"===p?(i=(r=g+f-d-c)-c,a=r+c):(i=(r=n.caretX)-c,a=r+c),"top"===h)s=(o=u)-c,l=o;else{s=(o=u+m)+c,l=o;var b=a;a=i,i=b}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,e,n){var i,r,a,o=e.title,s=o.length;if(s){var l=Me(e.rtl,e.x,e.width);for(t.x=ke(e,e._titleAlign),n.textAlign=l.textAlign(e._titleAlign),n.textBaseline="middle",i=e.titleFontSize,r=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=V.fontString(i,e._titleFontStyle,e._titleFontFamily),a=0;a<s;++a)n.fillText(o[a],l.x(t.x),t.y+i/2),t.y+=i+r,a+1===s&&(t.y+=e.titleMarginBottom-r)}},drawBody:function(t,e,n){var i,r,a,o,s,l,c,d,p=e.bodyFontSize,h=e.bodySpacing,g=e._bodyAlign,u=e.body,f=e.displayColors,m=0,b=f?ke(e,"left"):0,v=Me(e.rtl,e.x,e.width),x=function(e){n.fillText(e,v.x(t.x+m),t.y+p/2),t.y+=p+h},y=v.textAlign(g);for(n.textAlign=g,n.textBaseline="middle",n.font=V.fontString(p,e._bodyFontStyle,e._bodyFontFamily),t.x=ke(e,y),n.fillStyle=e.bodyFontColor,V.each(e.beforeBody,x),m=f&&"right"!==y?"center"===g?p/2+1:p+2:0,s=0,c=u.length;s<c;++s){for(i=u[s],a=e.labelColors[s],n.fillStyle=r=e.labelTextColors[s],V.each(i.before,x),l=0,d=(o=i.lines).length;l<d;++l){if(f){var C=v.x(b);n.fillStyle=e.legendColorBackground,n.fillRect(v.leftForLtr(C,p),t.y,p,p),n.lineWidth=1,n.strokeStyle=a.borderColor,n.strokeRect(v.leftForLtr(C,p),t.y,p,p),n.fillStyle=a.backgroundColor,n.fillRect(v.leftForLtr(v.xPlus(C,1),p-2),t.y+1,p-2,p-2),n.fillStyle=r}x(o[l])}V.each(i.after,x)}m=0,V.each(e.afterBody,x),t.y-=h},drawFooter:function(t,e,n){var i,r,a=e.footer,o=a.length;if(o){var s=Me(e.rtl,e.x,e.width);for(t.x=ke(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=s.textAlign(e._footerAlign),n.textBaseline="middle",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=V.fontString(i,e._footerFontStyle,e._footerFontFamily),r=0;r<o;++r)n.fillText(a[r],s.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,o=t.x,s=t.y,l=i.width,c=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(o+d,s),"top"===a&&this.drawCaret(t,i),n.lineTo(o+l-d,s),n.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===r&&this.drawCaret(t,i),n.lineTo(o+l,s+c-d),n.quadraticCurveTo(o+l,s+c,o+l-d,s+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(o+d,s+c),n.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===r&&this.drawCaret(t,i),n.lineTo(o,s+d),n.quadraticCurveTo(o,s,o+d,s),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(i,e,t,n),i.y+=e.yPadding,V.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),V.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&n._active.reverse()),(e=!V.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}});Ee.positioners=Pe;var Fe=V.valueOrDefault;function De(){return V.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,a,o,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)a=Fe((o=n[t][r]).type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),V.merge(e[t][r],!e[t][r].type||o.type&&o.type!==e[t][r].type?[Ce.getScaleDefaults(a),o]:o)}else V._merger(t,e,n,i)}})}function Ae(){return V.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){var r=e[t]||Object.create(null),a=n[t];"scales"===t?e[t]=De(r,a):"scale"===t?e[t]=V.merge(r,[Ce.getScaleDefaults(a.type),a]):V._merger(t,e,n,i)}})}function Le(t){var e=t.options;V.each(t.scales,(function(e){le.removeBox(t,e)})),e=Ae(z.global,z[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Te(t,e,n){var i,r=function(t){return t.id===i};do{i=e+n++}while(V.findIndex(t,r)>=0);return i}function ze(t){return"top"===t||"bottom"===t}function je(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}z._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ne=function(t,e){return this.construct(t,e),this};V.extend(Ne.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||Object.create(null)).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Ae(z.global,z[t.type],t.options||{}),t}(e);var i=xe.acquireContext(t,e),r=i&&i.canvas,a=r&&r.height,o=r&&r.width;n.id=V.uid(),n.ctx=i,n.canvas=r,n.config=e,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=e.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Ne.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return ye.notify(t,"beforeInit"),V.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),ye.notify(t,"afterInit"),t},clear:function(){return V.canvas.clear(this),this},stop:function(){return Q.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(V.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:V.getMaximumHeight(i)));if((e.width!==a||e.height!==o)&&(i.width=e.width=a,i.height=e.height=o,i.style.width=a+"px",i.style.height=o+"px",V.retinaScale(e,n.devicePixelRatio),!t)){var s={width:a,height:o};ye.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;V.each(e.xAxes,(function(t,n){t.id||(t.id=Te(e.xAxes,"x-axis-",n))})),V.each(e.yAxes,(function(t,n){t.id||(t.id=Te(e.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],r=Object.keys(n).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),V.each(i,(function(e){var i=e.options,a=i.id,o=Fe(i.type,e.dtype);ze(i.position)!==ze(e.dposition)&&(i.position=e.dposition),r[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=i,s.ctx=t.ctx,s.chart=t;else{var l=Ce.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:i,ctx:t.ctx,chart:t}),n[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)})),V.each(r,(function(t,e){t||delete n[e]})),t.scales=n,Ce.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=this,i=[],r=n.data.datasets;for(t=0,e=r.length;t<e;t++){var a=r[t],o=n.getDatasetMeta(t),s=a.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(t),o=n.getDatasetMeta(t)),o.type=s,o.order=a.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var l=Wt[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(n,t),i.push(o.controller)}}return i},resetElements:function(){var t=this;V.each(t.data.datasets,(function(e,n){t.getDatasetMeta(n).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Le(i),ye._invalidate(i),!1!==ye.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(e=0,n=i.data.datasets.length;e<n;e++)i.getDatasetMeta(e).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&V.each(r,(function(t){t.reset()})),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],ye.notify(i,"afterUpdate"),i._layers.sort(je("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){var t=this;!1!==ye.notify(t,"beforeLayout")&&(le.update(this,this.width,this.height),t._layers=[],V.each(t.boxes,(function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())}),t),t._layers.forEach((function(t,e){t._idx=e})),ye.notify(t,"afterScaleUpdate"),ye.notify(t,"afterLayout"))},updateDatasets:function(){if(!1!==ye.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);ye.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==ye.notify(this,"beforeDatasetUpdate",[n])&&(e.controller._update(),ye.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=Fe(t.duration,n&&n.duration),r=t.lazy;if(!1!==ye.notify(e,"beforeRender")){var a=function(t){ye.notify(e,"afterRender"),V.callback(n&&n.onComplete,[t],e)};if(n&&i){var o=new G({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=e.currentStep,i=n/e.numSteps;t.draw((0,V.easing.effects[e.easing])(i),i,n)},onAnimationProgress:n.onProgress,onAnimationComplete:a});Q.addAnimation(e,o,i,r)}else e.draw(),a(new G({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),V.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&!1!==ye.notify(i,"beforeDraw",[t])){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),ye.notify(i,"afterDraw",[t])}},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=[];for(e=0,n=(this.data.datasets||[]).length;e<n;++e)t&&!this.isDatasetVisible(e)||i.push(this.getDatasetMeta(e));return i.sort(je("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n;if(!1!==ye.notify(this,"beforeDatasetsDraw",[t])){for(n=(e=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(e[n],t);ye.notify(this,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n={meta:t,index:t.index,easingValue:e};!1!==ye.notify(this,"beforeDatasetDraw",[n])&&(t.controller.draw(e),ye.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==ye.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),ye.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Zt.modes.single(this,t)},getElementsAtEvent:function(t){return Zt.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Zt.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=Zt.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return Zt.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),V.canvas.clear(n),xe.releaseContext(n.ctx),n.canvas=null,n.ctx=null),ye.notify(n,"destroy"),delete Ne.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Ee({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};V.each(t.options.events,(function(i){xe.addEventListener(t,i,n),e[i]=n})),t.options.responsive&&(n=function(){t.resize()},xe.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,V.each(e,(function(e,n){xe.removeEventListener(t,n,e)})))},updateHoverStyle:function(t,e,n){var i,r,a,o=n?"set":"remove";for(r=0,a=t.length;r<a;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[o+"HoverStyle"](i);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==ye.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),ye.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===t.type?[]:n.getElementsAtEventForMode(t,r.mode,r),V.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!V.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Ne.instances={};var Be=Ne;function Re(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ve(t){this.options=t||{}}Ne.Controller=Ne,Ne.types={},V.configMerge=Ae,V.scaleMerge=De,V.extend(Ve.prototype,{formats:Re,parse:Re,format:Re,add:Re,diff:Re,startOf:Re,endOf:Re,_create:function(t){return t}}),Ve.override=function(t){V.extend(Ve.prototype,t)};var He={_date:Ve},qe={formatters:{values:function(t){return V.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=V.log10(Math.abs(i)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=V.log10(Math.abs(t)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),a=t.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=t.toFixed(l)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(V.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},$e=V.isArray,We=V.isNullOrUndef,Ue=V.valueOrDefault,Ye=V.valueAtIndexOrDefault;function Ge(t,e,n){var i,r=t.getTicks().length,a=Math.min(e,r-1),o=t.getPixelForTick(a),s=t._startPixel,l=t._endPixel;if(!(n&&(i=1===r?Math.max(o-s,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(a-1))/2,(o+=a<e?i:-i)<s-1e-6||o>l+1e-6)))return o}function Qe(t){return t.drawTicks?t.tickMarkLength:0}function Xe(t){var e,n;return t.display?(e=V.options._parseFont(t),n=V.options.toPadding(t.padding),e.lineHeight+n.height):0}function Ke(t,e){return V.extend(V.options._parseFont({fontFamily:Ue(e.fontFamily,t.fontFamily),fontSize:Ue(e.fontSize,t.fontSize),fontStyle:Ue(e.fontStyle,t.fontStyle),lineHeight:Ue(e.lineHeight,t.lineHeight)}),{color:V.options.resolve([e.fontColor,t.fontColor,z.global.defaultFontColor])})}function Ze(t){var e=Ke(t,t.minor);return{minor:e,major:t.major.enabled?Ke(t,t.major):e}}function Je(t){var e,n,i,r=[];for(n=0,i=t.length;n<i;++n)void 0!==(e=t[n])._index&&r.push(e);return r}function tn(t,e,n,i){var r,a,o,s,l=Ue(n,0),c=Math.min(Ue(i,t.length),t.length),d=0;for(e=Math.ceil(e),i&&(e=(r=i-n)/Math.floor(r/e)),s=l;s<0;)d++,s=Math.round(l+d*e);for(a=Math.max(l,0);a<c;a++)o=t[a],a===s?(o._index=a,d++,s=Math.round(l+d*e)):delete o.label}z._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:qe.formatters.values,minor:{},major:{}}});var en=U.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,a,o,s,l=this,c=l.options.ticks,d=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=V.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],i=0,r=l.ticks.length;i<r;++i)o.push({value:l.ticks[i],major:!1});return l._ticks=o,a=l._convertTicksToLabels((s=d<o.length)?function(t,e){for(var n=[],i=t.length/e,r=0,a=t.length;r<a;r+=i)n.push(t[Math.floor(r)]);return n}(o,d):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(o):o,s&&(a=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=a,l.afterUpdate(),l.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(t){var e=this;return $e(t)&&t.length?V.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=V.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,r,a,o,s=this,l=s.options,c=l.ticks,d=s.getTicks().length,p=c.minRotation||0,h=c.maxRotation,g=p;!s._isVisible()||!c.display||p>=h||d<=1||!s.isHorizontal()?s.labelRotation=p:(e=(t=s._getLabelSizes()).widest.width,n=t.highest.height-t.highest.offset,i=Math.min(s.maxWidth,s.chart.width-e),e+6>(r=l.offset?s.maxWidth/d:i/(d-1))&&(r=i/(d-(l.offset?.5:1)),a=s.maxHeight-Qe(l.gridLines)-c.padding-Xe(l.scaleLabel),o=Math.sqrt(e*e+n*n),g=V.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/r,1)),Math.asin(Math.min(a/o,1))-Math.asin(n/o))),g=Math.max(p,Math.min(h,g))),s.labelRotation=g)},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=t._isVisible(),l="bottom"===i.position,c=t.isHorizontal();if(c?e.width=t.maxWidth:s&&(e.width=Qe(o)+Xe(a)),c?s&&(e.height=Qe(o)+Xe(a)):e.height=t.maxHeight,r.display&&s){var d=Ze(r),p=t._getLabelSizes(),h=p.first,g=p.last,u=p.widest,f=p.highest,m=.4*d.minor.lineHeight,b=r.padding;if(c){var v=0!==t.labelRotation,x=V.toRadians(t.labelRotation),y=Math.cos(x),C=Math.sin(x);e.height=Math.min(t.maxHeight,e.height+(C*u.width+y*(f.height-(v?f.offset:0))+(v?0:m))+b);var _,M,P=t.getPixelForTick(0)-t.left,w=t.right-t.getPixelForTick(t.getTicks().length-1);v?(_=l?y*h.width+C*h.offset:C*(h.height-h.offset),M=l?C*(g.height-g.offset):y*g.width+C*g.offset):(_=h.width/2,M=g.width/2),t.paddingLeft=Math.max((_-P)*t.width/(t.width-P),0)+3,t.paddingRight=Math.max((M-w)*t.width/(t.width-w),0)+3}else e.width=Math.min(t.maxWidth,e.width+(r.mirror?0:u.width+b+m)),t.paddingTop=h.height/2,t.paddingBottom=g.height/2}t.handleMargins(),c?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(We(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i,r=this;for(r.ticks=t.map((function(t){return t.value})),r.beforeTickToLabelConversion(),e=r.convertTicksToLabels(t)||r.ticks,r.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=function(t,e,n,i){var r,a,o,s,l,c,d,p,h,g,u,f,m,b=n.length,v=[],x=[],y=[],C=0,_=0;for(r=0;r<b;++r){if(s=n[r].label,t.font=c=(l=n[r].major?e.major:e.minor).string,d=i[c]=i[c]||{data:{},gc:[]},p=l.lineHeight,h=g=0,We(s)||$e(s)){if($e(s))for(a=0,o=s.length;a<o;++a)We(u=s[a])||$e(u)||(h=V.measureText(t,d.data,d.gc,h,u),g+=p)}else h=V.measureText(t,d.data,d.gc,h,s),g=p;v.push(h),x.push(g),y.push(p/2),C=Math.max(h,C),_=Math.max(g,_)}function M(t){return{width:v[t]||0,height:x[t]||0,offset:y[t]||0}}return function(t,e){V.each(t,(function(t){var n,i=t.gc,r=i.length/2;if(r>e){for(n=0;n<r;++n)delete t.data[i[n]];i.splice(0,r)}}))}(i,b),f=v.indexOf(C),m=x.indexOf(_),{first:M(0),last:M(b-1),widest:M(f),highest:M(m)}}(t.ctx,Ze(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,n,i,r;return $e(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),r=Math.max(e,n)):(e=void 0,n=t=+this.getRightValue(t),i=t,r=t),{min:i,max:r,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(t){var e=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(e?0:1),1);return t<0||t>n-1?null:this.getPixelForDecimal(t*i+(e?i/2:0))},getPixelForDecimal:function(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,i,r,a=this.options.ticks,o=a.maxTicksLimit||this._length/this._tickSize()+1,s=a.major.enabled?function(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(t):[],l=s.length,c=s[0],d=s[l-1];if(l>o)return function(t,e,n){var i,r,a=0,o=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)r=t[i],i===o?(r._index=i,o=e[++a*n]):delete r.label}(t,s,l/o),Je(t);if(i=function(t,e,n,i){var r,a,o,s,l=function(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),c=(e.length-1)/i;if(!l)return Math.max(c,1);for(o=0,s=(r=V.math._factorize(l)).length-1;o<s;o++)if((a=r[o])>c)return a;return Math.max(c,1)}(s,t,0,o),l>0){for(e=0,n=l-1;e<n;e++)tn(t,i,s[e],s[e+1]);return tn(t,i,V.isNullOrUndef(r=l>1?(d-c)/(l-1):null)?0:c-r,c),tn(t,i,d,V.isNullOrUndef(r)?t.length:d+r),Je(t)}return tn(t,i),Je(t)},_tickSize:function(){var t=this.options.ticks,e=V.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i},_isVisible:function(){var t,e,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,r,a,o,s,l,c,d,p,h,g,u,f,m,b,v=this,x=v.chart,y=v.options,C=y.gridLines,_=y.position,M=C.offsetGridLines,P=v.isHorizontal(),w=v._ticksToDraw,O=w.length+(M?1:0),S=Qe(C),k=[],I=C.drawBorder?Ye(C.lineWidth,0,0):0,E=I/2,F=V._alignPixel,D=function(t){return F(x,t,I)};for("top"===_?(e=D(v.bottom),s=v.bottom-S,c=e-E,p=D(t.top)+E,g=t.bottom):"bottom"===_?(e=D(v.top),p=t.top,g=D(t.bottom)-E,s=e+E,c=v.top+S):"left"===_?(e=D(v.right),o=v.right-S,l=e-E,d=D(t.left)+E,h=t.right):(e=D(v.left),d=t.left,h=D(t.right)-E,o=e+E,l=v.left+S),n=0;n<O;++n)We((i=w[n]||{}).label)&&n<w.length||(n===v.zeroLineIndex&&y.offset===M?(u=C.zeroLineWidth,f=C.zeroLineColor,m=C.zeroLineBorderDash||[],b=C.zeroLineBorderDashOffset||0):(u=Ye(C.lineWidth,n,1),f=Ye(C.color,n,"rgba(0,0,0,0.1)"),m=C.borderDash||[],b=C.borderDashOffset||0),void 0!==(r=Ge(v,i._index||n,M))&&(a=F(x,r,u),P?o=l=d=h=a:s=c=p=g=a,k.push({tx1:o,ty1:s,tx2:l,ty2:c,x1:d,y1:p,x2:h,y2:g,width:u,color:f,borderDash:m,borderDashOffset:b})));return k.ticksLength=O,k.borderValue=e,k},_computeLabelItems:function(){var t,e,n,i,r,a,o,s,l,c,d,p,h=this,g=h.options,u=g.ticks,f=g.position,m=u.mirror,b=h.isHorizontal(),v=h._ticksToDraw,x=Ze(u),y=u.padding,C=Qe(g.gridLines),_=-V.toRadians(h.labelRotation),M=[];for("top"===f?(a=h.bottom-C-y,o=_?"left":"center"):"bottom"===f?(a=h.top+C+y,o=_?"right":"center"):"left"===f?(r=h.right-(m?0:C)-y,o=m?"left":"right"):(r=h.left+(m?0:C)+y,o=m?"right":"left"),t=0,e=v.length;t<e;++t)We(i=(n=v[t]).label)||(s=h.getPixelForTick(n._index||t)+u.labelOffset,c=(l=n.major?x.major:x.minor).lineHeight,d=$e(i)?i.length:1,b?(r=s,p="top"===f?((_?1:.5)-d)*c:(_?0:.5)*c):(a=s,p=(1-d)*c/2),M.push({x:r,y:a,rotation:_,label:i,font:l,textOffset:p,textAlign:o}));return M},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,r,a,o,s,l=e.ctx,c=e.chart,d=V._alignPixel,p=n.drawBorder?Ye(n.lineWidth,0,0):0,h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(a=0,o=h.length;a<o;++a)r=(s=h[a]).color,(i=s.width)&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(p){var g,u,f,m,b=p,v=Ye(n.lineWidth,h.ticksLength-1,1),x=h.borderValue;e.isHorizontal()?(g=d(c,e.left,b)-b/2,u=d(c,e.right,v)+v/2,f=m=x):(f=d(c,e.top,b)-b/2,m=d(c,e.bottom,v)+v/2,g=u=x),l.lineWidth=p,l.strokeStyle=Ye(n.color,0),l.beginPath(),l.moveTo(g,f),l.lineTo(u,m),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,n,i,r,a,o,s,l,c=t.ctx,d=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,i=d.length;e<i;++e){if(o=(a=d[e]).font,c.save(),c.translate(a.x,a.y),c.rotate(a.rotation),c.font=o.string,c.fillStyle=o.color,c.textBaseline="middle",c.textAlign=a.textAlign,l=a.textOffset,$e(s=a.label))for(n=0,r=s.length;n<r;++n)c.fillText(""+s[n],0,l),l+=o.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var r,a,o=Ue(i.fontColor,z.global.defaultFontColor),s=V.options._parseFont(i),l=V.options.toPadding(i.padding),c=s.lineHeight/2,d=n.position,p=0;if(t.isHorizontal())r=t.left+t.width/2,a="bottom"===d?t.bottom-c-l.bottom:t.top+c+l.top;else{var h="left"===d;r=h?t.left+c+l.top:t.right-c-l.top,a=t.top+t.height/2,p=h?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(r,a),e.rotate(p),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=s.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,n=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter((function(i){return(!t||i.type===t)&&(n?i.xAxisID===e.id:i.yAxisID===e.id)}))}});en.prototype._draw=en.prototype.draw;var nn=en,rn=V.isNullOrUndef,an=nn.extend({determineDataLimits:function(){var t,e=this,n=e._getLabels(),i=e.options.ticks,r=i.min,a=i.max,o=0,s=n.length-1;void 0!==r&&(t=n.indexOf(r))>=0&&(o=t),void 0!==a&&(t=n.indexOf(a))>=0&&(s=t),e.minIndex=o,e.maxIndex=s,e.min=n[o],e.max=n[s]},buildTicks:function(){var t=this._getLabels(),e=this.minIndex,n=this.maxIndex;this.ticks=0===e&&n===t.length-1?t:t.slice(e,n+1)},getLabelForIndex:function(t,e){var n=this.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[e].data[t]):this._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,n=t.ticks;nn.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),n&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(n.length-(e?0:1),1))},getPixelForValue:function(t,e,n){var i,r,a,o=this;return rn(e)||rn(n)||(t=o.chart.data.datasets[n].data[e]),rn(t)||(i=o.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(r=o._getLabels(),t=V.valueOrDefault(i,t),e=-1!==(a=r.indexOf(t))?a:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(e,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});an._defaults={position:"bottom"};var on=V.isNullOrUndef,sn=nn.extend({getRightValue:function(t){return"string"==typeof t?+t:nn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=V.sign(t.min),i=V.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(t.min=null===t.min?e.suggestedMin:Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(t.max=null===t.max?e.suggestedMax:Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:V.noop,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:V.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i,r,a,o=[],s=t.stepSize,l=s||1,c=t.maxTicks-1,d=t.min,p=t.max,h=t.precision,g=e.min,u=e.max,f=V.niceNum((u-g)/c/l)*l;if(f<1e-14&&on(d)&&on(p))return[g,u];(a=Math.ceil(u/f)-Math.floor(g/f))>c&&(f=V.niceNum(a*f/c/l)*l),s||on(h)?n=Math.pow(10,V._decimalPlaces(f)):(n=Math.pow(10,h),f=Math.ceil(f*n)/n),i=Math.floor(g/f)*f,r=Math.ceil(u/f)*f,s&&(!on(d)&&V.almostWhole(d/f,f/1e3)&&(i=d),!on(p)&&V.almostWhole(p/f,f/1e3)&&(r=p)),a=V.almostEquals(a=(r-i)/f,Math.round(a),f/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(on(d)?i:d);for(var m=1;m<a;++m)o.push(Math.round((i+m*f)*n)/n);return o.push(on(p)?r:p),o}(i,t);t.handleDirectionalChanges(),t.max=V.max(r),t.min=V.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),nn.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,n=e.getTicks(),i=e.min,r=e.max;nn.prototype._configure.call(e),e.options.offset&&n.length&&(i-=t=(r-i)/Math.max(n.length-1,1)/2,r+=t),e._startValue=i,e._endValue=r,e._valueRange=r-i}}),ln={position:"left",ticks:{callback:qe.formatters.linear}};function cn(t,e,n,i){var r,a,o=t.options,s=function(t,e,n){var i=[n.type,void 0===e&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===t[i]&&(t[i]={pos:[],neg:[]}),t[i]}(e,o.stacked,n),l=s.pos,c=s.neg,d=i.length;for(r=0;r<d;++r)a=t._parseValue(i[r]),isNaN(a.min)||isNaN(a.max)||n.data[r].hidden||(l[r]=l[r]||0,c[r]=c[r]||0,o.relativePoints?l[r]=100:a.min<0||a.max<0?c[r]+=a.min:l[r]+=a.max)}function dn(t,e,n){var i,r,a=n.length;for(i=0;i<a;++i)r=t._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||e.data[i].hidden||(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}var pn=sn.extend({determineDataLimits:function(){var t,e,n,i,r=this,a=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=a.stacked,c={},d=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<d;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<d;++t)n=o[(e=s[t]).index].data,l?cn(r,c,e,n):dn(r,e,n);V.each(c,(function(t){i=t.pos.concat(t.neg),r.min=Math.min(r.min,V.min(i)),r.max=Math.max(r.max,V.max(i))})),r.min=V.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=V.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=V.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}});pn._defaults=ln;var hn=V.valueOrDefault,gn=V.math.log10,un={position:"left",ticks:{callback:qe.formatters.logarithmic}};function fn(t,e){return V.isFinite(t)&&t>=0?t:e}var mn=nn.extend({determineDataLimits:function(){var t,e,n,i,r,a,o=this,s=o.options,l=o.chart,c=l.data.datasets,d=o.isHorizontal();function p(t){return d?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&p(e)&&void 0!==e.stack){h=!0;break}if(s.stacked||h){var g={};for(t=0;t<c.length;t++){var u=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&p(e))for(void 0===g[u]&&(g[u]=[]),r=0,a=(i=c[t].data).length;r<a;r++){var f=g[u];n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(f[r]=f[r]||0,f[r]+=n.max)}}V.each(g,(function(t){if(t.length>0){var e=V.min(t),n=V.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,n)}}))}else for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&p(e))for(r=0,a=(i=c[t].data).length;r<a;r++)n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=V.isFinite(o.min)?o.min:null,o.max=V.isFinite(o.max)?o.max:null,o.minNotZero=V.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=fn(e.min,t.min),t.max=fn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(gn(t.min))-1),t.max=Math.pow(10,Math.floor(gn(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(gn(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(gn(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(gn(t.max))):1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:fn(e.min),max:fn(e.max)},r=t.ticks=function(t,e){var n,i,r=[],a=hn(t.min,Math.pow(10,Math.floor(gn(e.min)))),o=Math.floor(gn(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===a?(n=Math.floor(gn(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(gn(a)),i=Math.floor(a/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(a),10==++i&&(i=1,l=++n>=0?1:l),a=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var c=hn(t.max,a);return r.push(c),r}(i,t);t.max=V.max(r),t.min=V.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),nn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(gn(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;nn.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=hn(t.options.ticks.fontSize,z.global.defaultFontSize)/t._length),t._startValue=gn(e),t._valueOffset=n,t._valueRange=(gn(t.max)-gn(e))/(1-n)},getPixelForValue:function(t){var e=this,n=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(n=(gn(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(n)},getValueForPixel:function(t){var e=this,n=e.getDecimalForPixel(t);return 0===n&&0===e.min?0:Math.pow(10,e._startValue+(n-e._valueOffset)*e._valueRange)}});mn._defaults=un;var bn=V.valueOrDefault,vn=V.valueAtIndexOrDefault,xn=V.options.resolve,yn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:qe.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Cn(t){var e=t.ticks;return e.display&&t.display?bn(e.fontSize,z.global.defaultFontSize)+2*e.backdropPaddingY:0}function _n(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Mn(t){return 0===t||180===t?"center":t<180?"left":"right"}function Pn(t,e,n,i){var r,a,o=n.y+i/2;if(V.isArray(e))for(r=0,a=e.length;r<a;++r)t.fillText(e[r],n.x,o),o+=i;else t.fillText(e,n.x,o)}function wn(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function On(t){return V.isNumber(t)?t:0}var Sn=sn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Cn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;V.each(e.data.datasets,(function(r,a){if(e.isDatasetVisible(a)){var o=e.getDatasetMeta(a);V.each(r.data,(function(e,r){var a=+t.getRightValue(e);isNaN(a)||o.data[r].hidden||(n=Math.min(a,n),i=Math.max(a,i))}))}})),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Cn(this.options))},convertTicksToLabels:function(){var t=this;sn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map((function(){var e=V.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""}))},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,r=V.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,c,d=t.chart.data.labels.length;for(e=0;e<d;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,n=V.isArray(c=t.pointLabels[e])?{w:V.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[e]=n;var p=t.getIndexAngle(e),h=V.toDegrees(p)%360,g=_n(h,i.x,n.w,0,180),u=_n(h,i.y,n.h,90,270);g.start<a.l&&(a.l=g.start,o.l=p),g.end>a.r&&(a.r=g.end,o.r=p),u.start<a.t&&(a.t=u.start,o.t=p),u.end>a.b&&(a.b=u.end,o.b=p)}t.setReductions(t.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),a=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=On(r),a=On(a),o=On(o),s=On(s),i.drawingArea=Math.min(Math.floor(t-(r+a)/2),Math.floor(t-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(t,e,n,i){var r=this,a=n+r.drawingArea,o=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((t+r.drawingArea+(r.width-e-r.drawingArea))/2+r.left),r.yCenter=Math.floor((a+o)/2+r.top+r.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(V.isNullOrUndef(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this.min,n=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},_drawGrid:function(){var t,e,n,i=this,r=i.ctx,a=i.options,o=a.gridLines,s=a.angleLines,l=bn(s.lineWidth,o.lineWidth),c=bn(s.color,o.color);if(a.pointLabels.display&&function(t){var e=t.ctx,n=t.options,i=n.pointLabels,r=Cn(n),a=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),o=V.options._parseFont(i);e.save(),e.font=o.string,e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=t.getPointPosition(s,a+(0===s?r/2:0)+5),c=vn(i.fontColor,s,z.global.defaultFontColor);e.fillStyle=c;var d=t.getIndexAngle(s),p=V.toDegrees(d);e.textAlign=Mn(p),wn(p,t._pointLabelSizes[s],l),Pn(e,t.pointLabels[s],l,o.lineHeight)}e.restore()}(i),o.display&&V.each(i.ticks,(function(t,n){0!==n&&(e=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(t,e,n,i){var r,a=t.ctx,o=e.circular,s=t.chart.data.labels.length,l=vn(e.color,i-1),c=vn(e.lineWidth,i-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var d=1;d<s;d++)r=t.getPointPosition(d,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(i,o,e,n))})),s.display&&l&&c){for(r.save(),r.lineWidth=l,r.strokeStyle=c,r.setLineDash&&(r.setLineDash(xn([s.borderDash,o.borderDash,[]])),r.lineDashOffset=xn([s.borderDashOffset,o.borderDashOffset,0])),t=i.chart.data.labels.length-1;t>=0;t--)e=i.getDistanceFromCenterForValue(a.ticks.reverse?i.min:i.max),n=i.getPointPosition(t,e),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var t=this,e=t.ctx,n=t.options.ticks;if(n.display){var i,r,a=t.getIndexAngle(0),o=V.options._parseFont(n),s=bn(n.fontColor,z.global.defaultFontColor);e.save(),e.font=o.string,e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",V.each(t.ticks,(function(a,l){(0!==l||n.reverse)&&(i=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=e.measureText(a).width,e.fillStyle=n.backdropColor,e.fillRect(-r/2-n.backdropPaddingX,-i-o.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),e.fillStyle=s,e.fillText(a,0,-i))})),e.restore()}},_drawTitle:V.noop});Sn._defaults=yn;var kn=V._deprecated,In=V.options.resolve,En=V.valueOrDefault,Fn=Number.MIN_SAFE_INTEGER||-9007199254740991,Dn=Number.MAX_SAFE_INTEGER||9007199254740991,An={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ln=Object.keys(An);function Tn(t,e){return t-e}function zn(t){return V.valueOrDefault(t.time.min,t.ticks.min)}function jn(t){return V.valueOrDefault(t.time.max,t.ticks.max)}function Nn(t,e,n,i){var r=function(t,e,n){for(var i,r,a,o=0,s=t.length-1;o>=0&&o<=s;){if(a=t[i=o+s>>1],!(r=t[i-1]||null))return{lo:null,hi:a};if(a[e]<n)o=i+1;else{if(!(r[e]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(t,e,n),a=r.lo?r.hi?r.lo:t[t.length-2]:t[0],o=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=o[e]-a[e];return a[i]+(o[i]-a[i])*(s?(n-a[e])/s:0)}function Bn(t,e){var n=t._adapter,i=t.options.time,r=i.parser,a=r||i.format,o=e;return"function"==typeof r&&(o=r(o)),V.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(e),V.isFinite(o)||(o=n.parse(o))),o)}function Rn(t,e){if(V.isNullOrUndef(e))return null;var n=t.options.time,i=Bn(t,t.getRightValue(e));return null===i||n.round&&(i=+t._adapter.startOf(i,n.round)),i}function Vn(t,e,n,i){var r,a,o=Ln.length;for(r=Ln.indexOf(t);r<o-1;++r)if((a=An[Ln[r]]).common&&Math.ceil((n-e)/((a.steps?a.steps:Dn)*a.size))<=i)return Ln[r];return Ln[o-1]}function Hn(t,e,n){var i,r,a=[],o={},s=e.length;for(i=0;i<s;++i)o[r=e[i]]=i,a.push({value:r,major:!1});return 0!==s&&n?function(t,e,n,i){var r,a,o=t._adapter,s=+o.startOf(e[0].value,i),l=e[e.length-1].value;for(r=s;r<=l;r=+o.add(r,1,i))(a=n[r])>=0&&(e[a].major=!0);return e}(t,a,o,n):a}var qn=nn.extend({initialize:function(){this.mergeTicksOptions(),nn.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new He._date(e.adapters.date);return kn("time scale",n.format,"time.format","time.parser"),kn("time scale",n.min,"time.min","ticks.min"),kn("time scale",n.max,"time.max","ticks.max"),V.mergeIf(n.displayFormats,i.formats()),nn.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),nn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,a,o,s=this,l=s.chart,c=s._adapter,d=s.options,p=d.time.unit||"day",h=Dn,g=Fn,u=[],f=[],m=[],b=s._getLabels();for(t=0,n=b.length;t<n;++t)m.push(Rn(s,b[t]));for(t=0,n=(l.data.datasets||[]).length;t<n;++t)if(l.isDatasetVisible(t))if(V.isObject((r=l.data.datasets[t].data)[0]))for(f[t]=[],e=0,i=r.length;e<i;++e)a=Rn(s,r[e]),u.push(a),f[t][e]=a;else f[t]=m.slice(0),o||(u=u.concat(m),o=!0);else f[t]=[];m.length&&(h=Math.min(h,m[0]),g=Math.max(g,m[m.length-1])),u.length&&(u=n>1?function(t){var e,n,i,r={},a=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,a.push(i));return a}(u).sort(Tn):u.sort(Tn),h=Math.min(h,u[0]),g=Math.max(g,u[u.length-1])),h=Rn(s,zn(d))||h,g=Rn(s,jn(d))||g,h=h===Dn?+c.startOf(Date.now(),p):h,g=g===Fn?+c.endOf(Date.now(),p)+1:g,s.min=Math.min(h,g),s.max=Math.max(h+1,g),s._table=[],s._timestamps={data:u,datasets:f,labels:m}},buildTicks:function(){var t,e,n,i=this,r=i.min,a=i.max,o=i.options,s=o.ticks,l=o.time,c=i._timestamps,d=[],p=i.getLabelCapacity(r),h=s.source,g=o.distribution;for(c="data"===h||"auto"===h&&"series"===g?c.data:"labels"===h?c.labels:function(t,e,n,i){var r,a=t._adapter,o=t.options,s=o.time,l=s.unit||Vn(s.minUnit,e,n,i),c=In([s.stepSize,s.unitStepSize,1]),d="week"===l&&s.isoWeekday,p=e,h=[];if(d&&(p=+a.startOf(p,"isoWeek",d)),p=+a.startOf(p,d?"day":l),a.diff(n,e,l)>1e5*c)throw e+" and "+n+" are too far apart with stepSize of "+c+" "+l;for(r=p;r<n;r=+a.add(r,c,l))h.push(r);return r!==n&&"ticks"!==o.bounds||h.push(r),h}(i,r,a,p),"ticks"===o.bounds&&c.length&&(r=c[0],a=c[c.length-1]),r=Rn(i,zn(o))||r,a=Rn(i,jn(o))||a,t=0,e=c.length;t<e;++t)(n=c[t])>=r&&n<=a&&d.push(n);return i.min=r,i.max=a,i._unit=l.unit||(s.autoSkip?Vn(l.minUnit,i.min,i.max,p):function(t,e,n,i,r){var a,o;for(a=Ln.length-1;a>=Ln.indexOf(n);a--)if(An[o=Ln[a]].common&&t._adapter.diff(r,i,o)>=e-1)return o;return Ln[n?Ln.indexOf(n):0]}(i,d.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&"year"!==i._unit?function(t){for(var e=Ln.indexOf(t)+1,n=Ln.length;e<n;++e)if(An[Ln[e]].common)return Ln[e]}(i._unit):void 0,i._table=function(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,a,o,s,l,c=[],d=[e];for(r=0,a=t.length;r<a;++r)(s=t[r])>e&&s<n&&d.push(s);for(d.push(n),r=0,a=d.length;r<a;++r)l=d[r+1],s=d[r],void 0!==(o=d[r-1])&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(a-1)});return c}(i._timestamps.data,r,a,g),i._offsets=function(t,e,n,i,r){var a,o,s=0,l=0;return r.offset&&e.length&&(a=Nn(t,"time",e[0],"pos"),s=1===e.length?1-a:(Nn(t,"time",e[1],"pos")-a)/2,o=Nn(t,"time",e[e.length-1],"pos"),l=1===e.length?o:(o-Nn(t,"time",e[e.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,d,0,0,o),s.reverse&&d.reverse(),Hn(i,d,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&t<r.labels.length?r.labels[t]:"",s=r.datasets[e].data[t];return V.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(Bn(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(Bn(n,o),a.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var r=this.options,a=r.time.displayFormats,o=this._majorUnit,s=a[o],l=n[e],c=r.ticks,d=o&&s&&l&&l.major,p=this._adapter.format(t,i||(d?s:a[this._unit])),h=d?c.major:c.minor,g=In([h.callback,h.userCallback,c.callback,c.userCallback]);return g?g(p,e,n):p},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this._offsets,n=Nn(this._table,"time",t,"pos");return this.getPixelForDecimal((e.start+n)*e.factor)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=Rn(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end,i=Nn(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=V.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),a=Math.sin(i),o=En(e.fontSize,z.global.defaultFontSize);return{w:n*r+o*a,h:n*a+o*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,n=e.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=e.tickFormatFunction(t,0,Hn(e,[t],e._majorUnit),r),o=e._getLabelSize(a),s=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&s--,s>0?s:1}});qn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var $n={category:an,linear:pn,logarithmic:mn,radialLinear:Sn,time:qn},Wn={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};He._date.override("function"==typeof t?{_id:"moment",formats:function(){return Wn},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t(e).diff(t(n),i)},startOf:function(e,n,i){return e=t(e),"isoWeek"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),z._set("global",{plugins:{filler:{propagate:!0}}});var Un={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],a=r.length||0;return a?function(t,e){return e<a&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return V.isArray(e)?function(t,n){return e[n]}:function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function Yn(t,e,n){var i,r=t._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Gn(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,n,i,r,a,o=t.el._scale,s=o.options,l=o.chart.data.labels.length,c=t.fill,d=[];if(!l)return null;for(n=s.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,e=s.ticks.reverse?o.max:o.min),r=0;r<l;++r)a="start"===c||"end"===c?o.getPointPositionForValue(r,"start"===c?e:n):o.getBasePosition(r),s.gridLines.circular&&(a.cx=i.x,a.cy=i.y,a.angle=o.getIndexAngle(r)-Math.PI/2),d.push(a);return d}(t):function(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(V.isFinite(a))return{x:(e=i.isHorizontal())?a:null,y:e?null:a}}return null}(t)}function Qn(t,e,n){var i,r=t[e].fill,a=[e];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function Xn(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),Un[n](t))}function Kn(t){return t&&!t.skip}function Zn(t,e,n,i,r){var a,o,s,l;if(i&&r){for(t.moveTo(e[0].x,e[0].y),a=1;a<i;++a)V.canvas.lineTo(t,e[a-1],e[a]);if(void 0===n[0].angle)for(t.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)V.canvas.lineTo(t,n[a],n[a-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),a=r-1;a>0;--a)t.arc(o,s,l,n[a].angle,n[a-1].angle,!0)}}function Jn(t,e,n,i,r,a){var o,s,l,c,d,p,h,g,u=e.length,f=i.spanGaps,m=[],b=[],v=0,x=0;for(t.beginPath(),o=0,s=u;o<s;++o)d=n(c=e[l=o%u]._view,l,i),p=Kn(c),h=Kn(d),a&&void 0===g&&p&&(s=u+(g=o+1)),p&&h?(v=m.push(c),x=b.push(d)):v&&x&&(f?(p&&m.push(c),h&&b.push(d)):(Zn(t,m,b,v,x),v=x=0,m=[],b=[]));Zn(t,m,b,v,x),t.closePath(),t.fillStyle=r,t.fill()}var ti={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,a,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof bt.Line&&(a={visible:t.isDatasetVisible(i),fill:Yn(r,i,o),chart:t,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=Qn(l,i,s),a.boundary=Gn(a),a.mapper=Xn(a))},beforeDatasetsDraw:function(t){var e,n,i,r,a,o,s,l=t._getSortedVisibleDatasetMetas(),c=t.ctx;for(n=l.length-1;n>=0;--n)(e=l[n].$filler)&&e.visible&&(a=(i=e.el)._children||[],s=(r=i._view).backgroundColor||z.global.defaultColor,(o=e.mapper)&&s&&a.length&&(V.canvas.clipArea(c,t.chartArea),Jn(c,a,o,r,s,i._loop),V.canvas.unclipArea(c)))}},ei=V.rtl.getRtlAdapter,ni=V.noop,ii=V.valueOrDefault;function ri(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}z._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map((function(n){var r=n.controller.getStyle(i?0:void 0);return{text:e[n.index].label,fillStyle:r.backgroundColor,hidden:!t.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,n=a.length;e<n;e++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[e].backgroundColor,a[e].label&&i.appendChild(document.createTextNode(a[e].label));return r.outerHTML}});var ai=U.extend({initialize:function(t){V.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:ni,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ni,beforeSetDimensions:ni,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ni,beforeBuildLabels:ni,buildLabels:function(){var t=this,e=t.options.labels||{},n=V.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter((function(n){return e.filter(n,t.chart.data)}))),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:ni,beforeFit:ni,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,r=t.ctx,a=V.options._parseFont(n),o=a.size,s=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=t.maxHeight),i){if(r.font=a.string,c){var d=t.lineWidths=[0],p=0;r.textAlign="left",r.textBaseline="middle",V.each(t.legendItems,(function(t,e){var i=ri(n,o)+o/2+r.measureText(t.text).width;(0===e||d[d.length-1]+i+2*n.padding>l.width)&&(p+=o+n.padding,d[d.length-(e>0?0:1)]=0),s[e]={left:0,top:0,width:i,height:o},d[d.length-1]+=i+n.padding})),l.height+=p}else{var h=n.padding,g=t.columnWidths=[],u=t.columnHeights=[],f=n.padding,m=0,b=0;V.each(t.legendItems,(function(t,e){var i=ri(n,o)+o/2+r.measureText(t.text).width;e>0&&b+o+2*h>l.height&&(f+=m+n.padding,g.push(m),u.push(b),m=0,b=0),m=Math.max(m,i),b+=o+h,s[e]={left:0,top:0,width:i,height:o}})),f+=m,g.push(m),u.push(b),l.width+=f}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:ni,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=z.global,r=i.defaultColor,a=i.elements.line,o=t.height,s=t.columnHeights,l=t.width,c=t.lineWidths;if(e.display){var d,p=ei(e.rtl,t.left,t.minSize.width),h=t.ctx,g=ii(n.fontColor,i.defaultFontColor),u=V.options._parseFont(n),f=u.size;h.textAlign=p.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=g,h.fillStyle=g,h.font=u.string;var m=ri(n,f),b=t.legendHitBoxes,v=function(t,i){switch(e.align){case"start":return n.padding;case"end":return t-i;default:return(t-i+n.padding)/2}},x=t.isHorizontal();d=x?{x:t.left+v(l,c[0]),y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+v(o,s[0]),line:0},V.rtl.overrideTextDirection(t.ctx,e.textDirection);var y=f+n.padding;V.each(t.legendItems,(function(e,i){var g=h.measureText(e.text).width,u=m+f/2+g,C=d.x,_=d.y;p.setWidth(t.minSize.width),x?i>0&&C+u+n.padding>t.left+t.minSize.width&&(_=d.y+=y,d.line++,C=d.x=t.left+v(l,c[d.line])):i>0&&_+y>t.top+t.minSize.height&&(C=d.x=C+t.columnWidths[d.line]+n.padding,d.line++,_=d.y=t.top+v(o,s[d.line]));var M=p.x(C);!function(t,e,i){if(!(isNaN(m)||m<=0)){h.save();var o=ii(i.lineWidth,a.borderWidth);if(h.fillStyle=ii(i.fillStyle,r),h.lineCap=ii(i.lineCap,a.borderCapStyle),h.lineDashOffset=ii(i.lineDashOffset,a.borderDashOffset),h.lineJoin=ii(i.lineJoin,a.borderJoinStyle),h.lineWidth=o,h.strokeStyle=ii(i.strokeStyle,r),h.setLineDash&&h.setLineDash(ii(i.lineDash,a.borderDash)),n&&n.usePointStyle){var s=m*Math.SQRT2/2,l=p.xPlus(t,m/2);V.canvas.drawPoint(h,i.pointStyle,s,l,e+f/2,i.rotation)}else h.fillRect(p.leftForLtr(t,m),e,m,f),0!==o&&h.strokeRect(p.leftForLtr(t,m),e,m,f);h.restore()}}(M,_,e),b[i].left=p.leftForLtr(M,b[i].width),b[i].top=_,function(t,e,n,i){var r=f/2,a=p.xPlus(t,m+r),o=e+r;h.fillText(n.text,a,o),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(a,o),h.lineTo(p.xPlus(a,i),o),h.stroke())}(M,_,e,g),x?d.x+=u+n.padding:d.y+=y})),V.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var n,i,r,a=this;if(t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(t>=(i=r[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===r?e&&i.onClick&&i.onClick.call(n,t.native,e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t.native,e))}});function oi(t,e){var n=new ai({ctx:t.ctx,options:e,chart:t});le.configure(t,n,e),le.addBox(t,n),t.legend=n}var si={id:"legend",_element:ai,beforeInit:function(t){var e=t.options.legend;e&&oi(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(V.mergeIf(e,z.global.legend),n?(le.configure(t,n,e),n.options=e):oi(t,e)):n&&(le.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},li=V.noop;z._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var ci=U.extend({initialize:function(t){V.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:li,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:li,beforeSetDimensions:li,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:li,beforeBuildLabels:li,buildLabels:li,afterBuildLabels:li,beforeFit:li,fit:function(){var t,e=this,n=e.options,i=e.minSize={},r=e.isHorizontal();n.display?(t=(V.isArray(n.text)?n.text.length:1)*V.options._parseFont(n).lineHeight+2*n.padding,e.width=i.width=r?e.maxWidth:t,e.height=i.height=r?t:e.maxHeight):e.width=i.width=e.height=i.height=0},afterFit:li,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,r,a,o=V.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,d=t.top,p=t.left,h=t.bottom,g=t.right;e.fillStyle=V.valueOrDefault(n.fontColor,z.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(r=p+(g-p)/2,a=d+l,i=g-p):(r="left"===n.position?p+l:g-l,a=d+(h-d)/2,i=h-d,c=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,a),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var u=n.text;if(V.isArray(u))for(var f=0,m=0;m<u.length;++m)e.fillText(u[m],0,f,i),f+=s;else e.fillText(u,0,0,i);e.restore()}}});function di(t,e){var n=new ci({ctx:t.ctx,options:e,chart:t});le.configure(t,n,e),le.addBox(t,n),t.titleBlock=n}var pi={},hi=ti,gi=si,ui={id:"title",_element:ci,beforeInit:function(t){var e=t.options.title;e&&di(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(V.mergeIf(e,z.global.title),n?(le.configure(t,n,e),n.options=e):di(t,e)):n&&(le.removeBox(t,n),delete t.titleBlock)}};for(var fi in pi.filler=hi,pi.legend=gi,pi.title=ui,Be.helpers=V,function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&"none"!==t}function n(n,i,r){var a=document.defaultView,o=V._getParentNode(n),s=a.getComputedStyle(n)[i],l=a.getComputedStyle(o)[i],c=e(s),d=e(l),p=Number.POSITIVE_INFINITY;return c||d?Math.min(c?t(s,n,r):p,d?t(l,o,r):p):"none"}V.where=function(t,e){if(V.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return V.each(t,(function(t){e(t)&&n.push(t)})),n},V.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},V.findNextWhere=function(t,e,n){V.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},V.findPreviousWhere=function(t,e,n){V.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var r=t[i];if(e(r))return r}},V.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},V.almostEquals=function(t,e,n){return Math.abs(t-e)<n},V.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t},V.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},V.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},V.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},V.toRadians=function(t){return t*(Math.PI/180)},V.toDegrees=function(t){return t*(180/Math.PI)},V._decimalPlaces=function(t){if(V.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},V.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},V.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},V.aliasPixel=function(t){return t%2==0?0:.5},V._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r},V.splineCurve=function(t,e,n,i){var r=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),d=l/(s+l),p=i*(c=isNaN(c)?0:c),h=i*(d=isNaN(d)?0:d);return{previous:{x:a.x-p*(o.x-r.x),y:a.y-p*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},V.EPSILON=Number.EPSILON||1e-14,V.splineCurveMonotone=function(t){var e,n,i,r,a,o,s,l,c,d=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),p=d.length;for(e=0;e<p;++e)if(!(i=d[e]).model.skip){if(n=e>0?d[e-1]:null,(r=e<p-1?d[e+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}i.mK=!n||n.model.skip?i.deltaK:!r||r.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(e=0;e<p-1;++e)r=d[e+1],(i=d[e]).model.skip||r.model.skip||(V.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(e=0;e<p;++e)(i=d[e]).model.skip||(r=e<p-1?d[e+1]:null,(n=e>0?d[e-1]:null)&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(c=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(i.model.controlPointNextX=i.model.x+(c=(r.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+c*i.mK))},V.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},V.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},V.niceNum=function(t,e){var n=Math.floor(V.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},V.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},V.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.target||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(V.getStyle(a,"padding-left")),c=parseFloat(V.getStyle(a,"padding-top")),d=parseFloat(V.getStyle(a,"padding-right")),p=parseFloat(V.getStyle(a,"padding-bottom")),h=o.bottom-o.top-c-p;return{x:n=Math.round((n-o.left-l)/(o.right-o.left-l-d)*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-c)/h*a.height/e.currentDevicePixelRatio)}},V.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},V.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},V._calculatePadding=function(t,e,n){return(e=V.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},V._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},V.getMaximumWidth=function(t){var e=V._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-V._calculatePadding(e,"padding-left",n)-V._calculatePadding(e,"padding-right",n),r=V.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},V.getMaximumHeight=function(t){var e=V._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-V._calculatePadding(e,"padding-top",n)-V._calculatePadding(e,"padding-bottom",n),r=V.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},V.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},V.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,a=t.width;i.height=r*n,i.width=a*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},V.fontString=function(t,e,n){return e+" "+t+"px "+n},V.longestText=function(t,e,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var o,s,l,c,d,p=0,h=n.length;for(o=0;o<h;o++)if(null!=(c=n[o])&&!0!==V.isArray(c))p=V.measureText(t,r,a,p,c);else if(V.isArray(c))for(s=0,l=c.length;s<l;s++)null==(d=c[s])||V.isArray(d)||(p=V.measureText(t,r,a,p,d));var g=a.length/2;if(g>n.length){for(o=0;o<g;o++)delete r[a[o]];a.splice(0,g)}return p},V.measureText=function(t,e,n,i,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),a>i&&(i=a),i},V.numberOfLabelLines=function(t){var e=1;return V.each(t,(function(t){V.isArray(t)&&t.length>e&&(e=t.length)})),e},V.color=y?function(t){return t instanceof CanvasGradient&&(t=z.global.defaultColor),y(t)}:function(t){return console.error("Color.js not found!"),t},V.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:V.color(t).saturate(.5).darken(.1).rgbString()}}(),Be._adapters=He,Be.Animation=G,Be.animationService=Q,Be.controllers=Wt,Be.DatasetController=tt,Be.defaults=z,Be.Element=U,Be.elements=bt,Be.Interaction=Zt,Be.layouts=le,Be.platform=xe,Be.plugins=ye,Be.Scale=nn,Be.scaleService=Ce,Be.Ticks=qe,Be.Tooltip=Ee,Be.helpers.each($n,(function(t,e){Be.scaleService.registerScaleType(e,t,t._defaults)})),pi)pi.hasOwnProperty(fi)&&Be.plugins.register(pi[fi]);Be.platform.initialize();var mi=Be;return"undefined"!=typeof window&&(window.Chart=Be),Be.Chart=Be,Be.Legend=pi.legend._element,Be.Title=pi.title._element,Be.pluginService=Be.plugins,Be.PluginBase=Be.Element.extend({}),Be.canvasHelpers=Be.helpers.canvas,Be.layoutService=Be.layouts,Be.LinearScaleBase=sn,Be.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){Be[t]=function(e,n){return new Be(e,Be.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),mi}(function(){try{return n("wd/R")}catch(t){}}())},bV4p:function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",(function(){return Li})),n.d(e,"createTranslateLoader",(function(){return Ti}));var i=n("AytR"),r=n("1dWG"),a=n("1kSV"),o=n("ofXK"),s=n("5+WD"),l=n("tk/3"),c=n("sYmb"),d=n("mqiu"),p=n("pxUr"),h=n("5RNC"),g=n("Qu3c"),u=n("5tIC"),f=n("2Vo4"),m=n("quSY"),b=n("lJxs"),v=n("IzEk"),x=n("7Gk6"),y=n("fXoL"),C=n("jtHE"),_=n("1G5W"),M=n("x3gD"),P=n("82Ky");let w=(()=>{class t{constructor(t,e){this.http=t,this.localStorageService=e,this.destroy$=new C.a(1),e.languageBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.language=t)}getAllHabits(t,e){return this.http.get(`${M.f}?lang=${this.language}&page=${t}&size=${e}`)}getHabitById(t){return this.http.get(`${M.f}/${t}?lang=${this.language}`)}getHabitShoppingList(t){return this.http.get(`${M.f}/${t}/shopping-list?lang=${this.language}`)}getHabitsTags(){return this.http.get(`${M.f}/tags?lang=${this.language}`)}getHabitsByTagAndLang(t,e,n,i="asc"){return this.http.get(`${M.f}/tags/search?lang=${this.language}\n                                              &page=${t}&size=${e}&sort=${i}&tags=${n}`)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275inject"](l.b),y["\u0275\u0275inject"](P.a))},t.\u0275prov=y["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=n("dPY1"),S=n("iCRQ"),k=n("tyNb"),I=n("xEgn"),E=n("dlKe"),F=n("OX3A"),D=n("BhRD");function A(t,e){1&t&&y["\u0275\u0275element"](0,"img",21),2&t&&y["\u0275\u0275property"]("src",e.$implicit,y["\u0275\u0275sanitizeUrl"])}let L=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.snackBar=n,this.habitAssignService=i,this.profileService=r,this.requesting=!1,this.whiteStar="assets/img/icon/star-2.png",this.greenStar="assets/img/icon/star-1.png",this.stars=[this.whiteStar,this.whiteStar,this.whiteStar]}ngOnInit(){this.getStars(this.habit.complexity)}getStars(t){for(this.star=0;this.star<t;this.star++)this.stars[this.star]=this.greenStar}goHabitMore(){this.router.navigate(["addhabit",this.habit.id],{relativeTo:this.route})}addHabit(){this.requesting=!0,this.habitAssignService.assignHabit(this.habit.id).pipe(Object(v.a)(1)).subscribe(()=>{this.router.navigate(["profile",this.profileService.userId]),this.snackBar.openSnackBar("habitAdded")})}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](D.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](O.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habits-list-view"]],inputs:{habit:"habit"},decls:36,vars:13,consts:[["role","main","id","main-content"],[1,"habit-wrp"],[1,"habit__container"],[1,"habit__header-wrp"],[1,"habit__header"],[1,"calendar"],["src","assets/img/icon/Calendar_icon.png","alt","calendar",1,"calendar__icon"],[1,"days"],[1,"tags"],[1,"aquired"],[1,"stars"],["alt","star",3,"src",4,"ngFor","ngForOf"],[1,"habit__info"],[1,"title"],[1,"description"],[1,"habit__action-wrp"],[1,"primary-global-button",3,"disabled","click"],[1,"secondary-global-button",3,"click"],[1,"habit__picture-wrp"],[1,"habit__picture"],["alt","habit picture",3,"src"],["alt","star",3,"src"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"main",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275elementStart"](4,"div",4),y["\u0275\u0275elementStart"](5,"div",5),y["\u0275\u0275element"](6,"img",6),y["\u0275\u0275elementStart"](7,"span",7),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"div",8),y["\u0275\u0275elementStart"](10,"span"),y["\u0275\u0275text"](11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",9),y["\u0275\u0275elementStart"](13,"span"),y["\u0275\u0275text"](14,"Aquired by 134 users"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"div",10),y["\u0275\u0275template"](16,A,1,1,"img",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"div",12),y["\u0275\u0275elementStart"](18,"div",13),y["\u0275\u0275elementStart"](19,"h2"),y["\u0275\u0275text"](20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",14),y["\u0275\u0275elementStart"](22,"p"),y["\u0275\u0275text"](23),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"div",15),y["\u0275\u0275elementStart"](25,"div"),y["\u0275\u0275elementStart"](26,"button",16),y["\u0275\u0275listener"]("click",(function(){return e.addHabit()})),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div"),y["\u0275\u0275elementStart"](30,"button",17),y["\u0275\u0275listener"]("click",(function(){return e.goHabitMore()})),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",18),y["\u0275\u0275elementStart"](34,"div",19),y["\u0275\u0275element"](35,"img",20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate1"]("",e.habit.defaultDuration," days"),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](e.habit.habitTranslation.habitItem),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.stars),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](e.habit.habitTranslation.name),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](e.habit.habitTranslation.description),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("disabled",e.habit.isAssigned),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,9,"user.habit.all-habits.btn-add")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,11,"user.habit.all-habits.btn-more")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("src",e.habit.image,y["\u0275\u0275sanitizeUrl"]))},directives:[o.t],pipes:[c.d],styles:["[_nghost-%COMP%]{width:100%;max-width:945px}.habit-wrp[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;height:295px;margin-bottom:30px;padding:3.4% 3.2%}.habit__container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:auto}.habit__header-wrp[_ngcontent-%COMP%]{display:grid;grid-template-rows:20px auto 48px;row-gap:30px}.habit__picture-wrp[_ngcontent-%COMP%]{display:none}.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;width:100%;display:block}.habit__header[_ngcontent-%COMP%]{color:var(--primary-green);display:flex;align-items:center;letter-spacing:1px;text-transform:uppercase;font-family:var(--primary-font);font-size:14px;line-height:16px;word-wrap:normal;white-space:normal;text-align:center}.habit__header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:auto}.habit__header[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid var(--tertiary-light-grey);white-space:nowrap}.habit__header[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:12px}.habit__header[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%], .habit__header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{padding:0 12px;border-right:1px solid var(--tertiary-light-grey)}.habit__header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;padding:0 12px}.habit__info[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;color:var(--primary-dark-grey)}.habit__info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .habit__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-dark-grey);margin:0;font-family:var(--secondary-font)}.habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:5px}.habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:30px;-webkit-line-clamp:1}.habit__info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.habit__info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:18px;line-height:28px;-webkit-line-clamp:2}.habit__action-wrp[_ngcontent-%COMP%]{display:flex}.habit__action-wrp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;height:100%;padding:0 40px}.habit__action-wrp[_ngcontent-%COMP%]   .primary-global-button[_ngcontent-%COMP%]{margin-right:25px}.habit__action-wrp[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{background:transparent}@media (min-width:768px){.habit__picture-wrp[_ngcontent-%COMP%]{display:flex}.habit__picture-wrp[_ngcontent-%COMP%]   .habit__picture[_ngcontent-%COMP%]{width:130%;height:120%;position:relative;overflow:hidden;direction:ltr;top:-10%}.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80%;top:10%;width:120%;position:absolute}.habit__container[_ngcontent-%COMP%]{display:grid;grid-template-columns:69% 28%;-moz-column-gap:20px;column-gap:20px}.habit-wrp[_ngcontent-%COMP%]{padding:3.4% 0 3.4% 3.2%}}@media (min-width:992px){.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:0;height:100%}.habit__container[_ngcontent-%COMP%]{grid-template-columns:69% 29%}}"]}),t})();var T=n("f3yp"),z=n("iatx");function j(t,e){1&t&&y["\u0275\u0275element"](0,"app-habits-gallery-view",21),2&t&&y["\u0275\u0275property"]("habit",e.$implicit)}const N=function(t){return{galleryContainer:t}};function B(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",19),y["\u0275\u0275template"](1,j,1,1,"app-habits-gallery-view",20),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,N,t.galleryView)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.filteredHabitsList)}}function R(t,e){1&t&&y["\u0275\u0275element"](0,"app-habits-list-view",21),2&t&&y["\u0275\u0275property"]("habit",e.$implicit)}const V=function(t){return{listView:t}};function H(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",19),y["\u0275\u0275template"](1,R,1,1,"app-habits-list-view",20),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,V,!t.galleryView)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.filteredHabitsList)}}function q(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}function $(t,e){1&t&&y["\u0275\u0275element"](0,"app-no-data",22),2&t&&y["\u0275\u0275property"]("title","user.habit.all-habits.no-habits")("text","user.habit.all-habits.no-habits-advice")}const W=function(t){return["/profile",t]},U=function(t){return{"btn-tiles-active":t}},Y=function(t){return{"btn-bars-active":t}};let G=(()=>{class t{constructor(t,e,n,i,r){this.habitService=t,this.localStorageService=e,this.translate=n,this.profileService=i,this.habitAssignService=r,this.allHabits=new f.a([]),this.filteredHabitsList=[],this.totalHabitsCopy=0,this.galleryView=!0,this.isFetching=!0,this.elementsLeft=!0,this.tagList=[],this.currentPage=0,this.masterSubscription=new m.a,this.habitsList=[],this.batchSize=6,this.images=x.a}ngOnInit(){this.onResize();const t=this.localStorageService.languageBehaviourSubject.subscribe(t=>{this.translate.setDefaultLang(t),this.lang=t,this.resetState(),this.resetSubject(),this.fetchAllHabits(0,this.batchSize)}),e=this.allHabits.subscribe(t=>{this.isFetching=!1,this.totalHabits=t.totalElements,this.totalHabitsCopy=t.totalElements,this.totalPages=t.totalPages,this.currentPage=t.currentPage,this.habitsList=t.page,this.filteredHabitsList=t.page;let e=[];t.page&&(this.elementsLeft=t.totalElements!==this.habitsList.length,this.checkIfAssigned(),t.page.forEach(t=>(e=[...e,...t.habitTranslation.habitItem],e)),this.tagList=[...new Set(e)])});this.masterSubscription.add(t),this.masterSubscription.add(e)}fetchAllHabits(t,e){this.habitService.getAllHabits(t,e).pipe(Object(b.a)(t=>this.splitHabitItems(t))).subscribe(t=>{const e=this.allHabits.getValue();t.page=[...e.page?e.page:[],...t.page],this.allHabits.next(t)})}resetSubject(){this.allHabits.next([])}splitHabitItems(t){return t.page.forEach(t=>{const e=t.habitTranslation.habitItem.split(",").map(t=>t.trim().toLowerCase());return t.habitTranslation.habitItem=e,t.habitTranslation.habitItem}),t}ngOnDestroy(){this.masterSubscription.unsubscribe()}onDisplayModeChange(t){this.galleryView=t}getFilterData(t){if(0===t.length)return this.totalHabitsCopy=this.totalHabits,this.filteredHabitsList=this.habitsList,this.filteredHabitsList;this.filteredHabitsList.length>0&&(this.filteredHabitsList=this.habitsList.filter(e=>e.habitTranslation.habitItem.find(e=>t.includes(e))),this.onScroll(),this.totalHabitsCopy=this.filteredHabitsList.length)}onResize(){this.windowSize=window.innerWidth,this.galleryView=!(this.windowSize>=576)||this.galleryView}onScroll(){this.totalPages!==this.currentPage?(this.isFetching=!0,this.currentPage+=1,this.fetchAllHabits(this.currentPage,this.batchSize)):this.isFetching=!1}resetState(){this.isFetching=!0,this.currentPage=0,this.elementsLeft=!0}checkIfAssigned(){this.habitAssignService.getAssignedHabits().pipe(Object(v.a)(1)).subscribe(t=>{t.forEach(t=>{this.filteredHabitsList.forEach(e=>{t.habit.id===e.id&&(e.isAssigned=!0)})})})}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](w),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](O.a),y["\u0275\u0275directiveInject"](S.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-all-habits"]],decls:27,vars:26,consts:[[1,"habits-wrapper","container",3,"resize"],[1,"habits_header-wrapper"],[3,"routerLink"],[1,"back-button"],["alt","arrow",3,"src"],[1,"main-header"],[1,"border_bottom",3,"storageKey","header","tagsListData","tagsList"],[1,"habits_header-actions"],[1,"habits_header-items-found"],[1,"habits_header-buttons"],[1,"btn-tiles",3,"ngClass","click"],[1,"fa","fa-th-large"],[1,"btn-bars",3,"ngClass","click"],[1,"fa","fa-bars"],[1,"body-wrapper"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"title","text",4,"ngIf"],[3,"ngClass"],[3,"habit",4,"ngFor","ngForOf"],[3,"habit"],[3,"title","text"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275listener"]("resize",(function(){return e.onResize()}),!1,y["\u0275\u0275resolveWindow"]),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"a",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275element"](4,"img",4),y["\u0275\u0275elementStart"](5,"div"),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div"),y["\u0275\u0275elementStart"](9,"h1",5),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"app-tag-filter",6),y["\u0275\u0275listener"]("tagsList",(function(t){return e.getFilterData(t)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",7),y["\u0275\u0275elementStart"](14,"div",8),y["\u0275\u0275text"](15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"div",9),y["\u0275\u0275elementStart"](17,"span",10),y["\u0275\u0275listener"]("click",(function(){return e.onDisplayModeChange(!0)})),y["\u0275\u0275element"](18,"em",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"span",12),y["\u0275\u0275listener"]("click",(function(){return e.onDisplayModeChange(!1)})),y["\u0275\u0275element"](20,"em",13),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",14),y["\u0275\u0275template"](22,B,2,4,"div",15),y["\u0275\u0275template"](23,H,2,4,"div",15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](24,q,1,0,"app-spinner",16),y["\u0275\u0275elementStart"](25,"div",17),y["\u0275\u0275listener"]("scrolled",(function(){return e.onScroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,$,1,2,"app-no-data",18),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](20,W,e.profileService.userId)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.images.arrowLeft,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](7,16,"user.habit.all-habits.back-button")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,18,"user.habit.all-habits.title")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("storageKey","Habits-filter")("header","homepage.eco-news.filter")("tagsListData",e.tagList),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",e.totalHabitsCopy," items found"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](22,U,e.galleryView)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,Y,!e.galleryView)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.galleryView),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.galleryView),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.elementsLeft&&0===e.totalHabitsCopy))},directives:[k.j,I.a,o.r,o.u,E.a,o.t,F.a,L,T.a,z.a],pipes:[c.d],styles:["h1[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font)}.habits_header-buttons[_ngcontent-%COMP%]{display:none}.border_bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}.habits_header-items-found[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:24px}.habits_header-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto auto;row-gap:20px;margin-bottom:3.125rem}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-self:center}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{height:30px;font-family:Open Sans,sans-serif;font-size:16px;line-height:19px;color:#494a49;-webkit-text-decoration-line:underline;text-decoration-line:underline;display:flex;align-items:center}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:6px}.habits_header-wrapper[_ngcontent-%COMP%]   .habits_header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.habits_header-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.galleryContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:290px;grid-gap:30px;justify-content:center}.listView[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (min-width:576px){.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-self:start}.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,50%)}.container[_ngcontent-%COMP%]{padding:0}.habits_header-buttons[_ngcontent-%COMP%]{display:block}.habits_header-buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-right:8px}}@media (min-width:992px){.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,299px)}}@media (min-width:1200px){.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,359px)}}"]}),t})();n("Jj9T");var Q=n("c3cg");n("LRne"),n("pLZG"),n("MO+k"),n("hSFZ"),n("kpBl"),n("vkgz");var X=n("u47x");let K=(()=>{class t{constructor(t){this.http=t,this.addedFriends=[],this.size=10,this.url=i.a.backendUserLink,this.httpOptions={headers:new l.d({"Content-Type":"application/json"})}}getUserInfo(t){return this.http.get(`${this.url}user/${t}/profile/`)}getUserProfileStatistics(t){return this.http.get(`${this.url}user/${t}/profileStatistics/`)}isOnline(t){return this.http.get(`${this.url}user/isOnline/${t}/`)}getRecommendedFriends(t,e=0,n=this.size){return this.http.get(`${this.url}user/${t}/recommendedFriends/?page=${e}&size=${n}`)}getRequests(t,e=0,n=this.size){return this.http.get(`${this.url}user/${t}/friendRequests/?page=${e}&size=${n}`)}getSixFriends(t){return this.http.get(`${this.url}user/${t}/sixUserFriends/`)}getAllFriends(t,e=0,n=this.size){return this.http.get(`${this.url}user/${t}/findAll/friends/?page=${e}&size=${n}`)}getPossibleFriends(t,e=0,n=this.size){return this.http.get(`${this.url}user/${t}/findAll/friendsWithoutExist/?page=${e}&size=${n}`)}findNewFriendsByName(t,e=0,n=this.size){return this.http.get(`${this.url}user/findNewFriendsByName/?name=${t}&page=${e}&size=${n}`)}findFriendByName(t,e=0,n=this.size){return this.http.get(`${this.url}user/findFriendByName/?name=${t}&page=${e}&size=${n}`)}addFriend(t,e){return this.http.post(`${this.url}/user/${t}/userFriend/${e}`,{friendId:e,userId:t})}acceptRequest(t,e){return this.http.post(`${this.url}/user/${t}/acceptFriend/${e}`,{friendId:e,userId:t})}declineRequest(t,e){return this.http.post(`${this.url}/user/${t}/declineFriend/${e}`,{friendId:e,userId:t})}deleteFriend(t,e){return this.http.delete(`${this.url}user/${t}/userFriend/${e}`,this.httpOptions)}addedFriendsToHabit(t){this.addedFriends.push(t)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275inject"](l.b))},t.\u0275prov=y["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=n("Gikj");function J(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"p"),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",2),y["\u0275\u0275elementStart"](8,"p"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"p"),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",2),y["\u0275\u0275elementStart"](14,"p"),y["\u0275\u0275text"](15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"p"),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"div",2),y["\u0275\u0275elementStart"](20,"p"),y["\u0275\u0275text"](21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"p"),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](t.progress.amountHabitsAcquired),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](6,8,"profile.acquired-habits")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](t.progress.amountHabitsInProgress),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](12,10,"profile.habits-in-progress")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](t.progress.amountWrittenTipsAndTrick),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](18,12,"profile.written-articles")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](t.progress.amountPublishedNews),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](24,14,"profile.published-news"))}}let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-profile-progress"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","stat",4,"ngIf"],[1,"stat"],[1,"chain"]],template:function(t,e){1&t&&y["\u0275\u0275template"](0,J,25,16,"div",0),2&t&&y["\u0275\u0275property"]("ngIf",e.progress)},directives:[o.u],pipes:[c.d],styles:["p[_ngcontent-%COMP%]{margin:0}.stat[_ngcontent-%COMP%]{display:grid;grid-template-rows:58px;grid-template-columns:repeat(4,auto);-moz-column-gap:16px;column-gap:16px}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:last-child{border-right:none}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:32px;line-height:40px;margin-bottom:8px;letter-spacing:.002em;color:var(--quaternary-dark-grey)}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:400;font-size:12px;line-height:16px}@media (min-width:576px){.stat[_ngcontent-%COMP%]{margin-left:0}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:32px;line-height:40px;margin-bottom:4px}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:12px;line-height:16px}}@media (min-width:768px){.stat[_ngcontent-%COMP%]{width:185px;height:189px;grid-template-rows:repeat(2,1fr);grid-template-columns:repeat(2,1fr);-moz-column-gap:16px;column-gap:16px;row-gap:16px;border-top:1px solid #e1e5e3}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]{border-right:none}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:first-child, .stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:nth-child(2){margin-top:24px}}@media (min-width:1024px){.stat[_ngcontent-%COMP%]{width:184px;height:160px}}@media (min-width:1440px){.stat[_ngcontent-%COMP%]{width:213px;-moz-column-gap:16px;column-gap:16px;row-gap:16px}}"]}),t})();const et=function(t){return["/profile",t,"edit"]};function nt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"a",13),y["\u0275\u0275element"](1,"div",14),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](1,et,t.userId))}}function it(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"p",15),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t.userInfo.city||t.mockedUserInfo.city," ")}}function rt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",16),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](t.userInfo.userCredo||t.mockedUserInfo.userCredo)}}function at(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"a",19),y["\u0275\u0275element"](1,"div"),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275property"]("href",t.link,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275classMap"](t.name)}}function ot(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",17),y["\u0275\u0275template"](1,at,2,3,"a",18),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.userSocialNetworks)}}function st(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275template"](1,nt,2,3,"a",2),y["\u0275\u0275elementStart"](2,"div",3),y["\u0275\u0275element"](3,"app-user-profile-image",4),y["\u0275\u0275elementStart"](4,"p",5),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](6,it,2,1,"p",6),y["\u0275\u0275elementStart"](7,"div",7),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",8),y["\u0275\u0275elementStart"](11,"p"),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,rt,2,1,"div",9),y["\u0275\u0275template"](15,ot,2,1,"div",10),y["\u0275\u0275elementStart"](16,"div",11),y["\u0275\u0275element"](17,"app-profile-progress",12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.showEditButton),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("imgPath",t.userInfo.profilePicturePath)("firstName",t.userInfo.name)("additionalImgClass","center"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",t.userInfo.name," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.userInfo.showLocation),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"profile.online")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate2"]("",y["\u0275\u0275pipeBind1"](13,14,"profile.rate"),": ",t.userInfo.rating||t.mockedUserInfo.rating,""),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.checkUserCredo),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.userSocialNetworks),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("progress",t.progress)}}let lt=(()=>{class t{constructor(t,e,n){this.localStorageService=t,this.route=e,this.userFriendsService=n,this.mockedUserInfo={city:"",status:"online",rating:0,userCredo:"User credo"},this.socialNetworksList=["facebook","instagram","linked","twitter","green-city"]}ngOnInit(){this.userId$=this.localStorageService.userIdBehaviourSubject.subscribe(t=>this.userId=t),this.buildSocialNetworksChart(),this.showEditButton=this.route.snapshot.params.userName===this.userInfo.name}get checkUserCredo(){return this.userInfo&&this.userInfo.userCredo?this.userInfo.userCredo.length:0}findNetwork(t){return this.socialNetworksList.reduce((e,n)=>(t.includes(n)&&(e=n),e),"green-city")}isOnline(t){this.userFriendsService.isOnline(t).pipe(Object(v.a)(1)).subscribe(t=>this.isUserOnline=t)}buildSocialNetworksChart(){this.userSocialNetworks=this.userInfo.socialNetworks.map(t=>({link:t.url,name:this.findNetwork(t.url)}))}ngOnDestroy(){this.userId$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](K))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-profile-header"]],inputs:{progress:"progress",userInfo:"userInfo"},decls:1,vars:1,consts:[["class","profile",4,"ngIf"],[1,"profile"],[3,"routerLink",4,"ngIf"],[1,"column"],[1,"user-image",3,"imgPath","firstName","additionalImgClass"],[1,"name"],["class","location",4,"ngIf"],[1,"online"],[1,"rate"],["class","credo",4,"ngIf"],["class","social",4,"ngIf"],[1,"profile-progress"],[3,"progress"],[3,"routerLink"],[1,"edit-icon"],[1,"location"],[1,"credo"],[1,"social"],[3,"href",4,"ngFor","ngForOf"],[3,"href"]],template:function(t,e){1&t&&y["\u0275\u0275template"](0,st,18,16,"div",0),2&t&&y["\u0275\u0275property"]("ngIf",e.userInfo)},directives:[o.u,Z.a,tt,k.j,o.t],pipes:[c.d],styles:["p[_ngcontent-%COMP%]{margin:0}.profile[_ngcontent-%COMP%]{height:366px;background-color:var(--secondary-light-grey);position:relative}.profile[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(/assets/img/profile/icons/edit.svg);position:absolute;top:20px;right:16px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:104px 24px 24px 36px 32px 50px 90px;background:var(--primary-white)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:76px;height:76px;margin-top:20px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;color:var(--primary-dark-grey)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:16px;color:#6a8079}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{display:none}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{height:20px;padding:0 10px;border-radius:4px;background-color:rgba(19,170,87,.12);font-style:normal;font-weight:600;line-height:15px;color:var(--primary-green);display:flex;justify-content:center;align-items:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:11px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{line-height:16px;color:var(--primary-dark-grey);width:288px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:flex;width:288px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:24px;height:24px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/facebook-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/instagram-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .linked[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/linked-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/twitter-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .green-city[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/green-city-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{justify-self:center}@media (min-width:576px){.profile[_ngcontent-%COMP%]{height:276px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{grid-template-columns:111px 1fr;grid-template-rows:44px 24px 28px 48px 42px 90px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{grid-area:1/1/2/2}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:1/2/2/3;justify-self:start;margin-top:20px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{grid-area:2/2/3/3;justify-self:start}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{grid-area:3/2/4/3;justify-self:start;padding:0 20px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{grid-area:4/2/5/3;justify-self:start;width:auto;margin:0}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{grid-area:5/2/6/3;justify-self:start;width:auto;margin:0}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{grid-area:6/2/7/3;justify-self:start}}@media (min-width:768px){.profile[_ngcontent-%COMP%]{width:100%;height:auto}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:122px 28px 20px 24px 40px 70px 40px 188px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{grid-area:1/1/2/2;justify-self:center;width:88px;height:88px;margin-top:26px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:2/1/3/2;justify-self:center;margin-top:0;font-size:16px;line-height:24px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{grid-area:3/1/4/2;justify-self:center;font-size:12px;line-height:15px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{display:block;grid-area:4/1/5/2;justify-self:center;font-family:var(--secondary-font);font-size:12px;font-style:normal;font-weight:400;line-height:15px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{grid-area:5/1/6/2;justify-self:center;height:24px;font-size:12px;line-height:16px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{grid-area:6/1/7/2;width:auto;margin:0 20px;font-size:12px;line-height:18px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{grid-area:7/1/8/2;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{grid-area:8/1/9/2;justify-self:center}}"]}),t})();const ct=["assets/img/profile/achievements/achievement-1.png","assets/img/profile/achievements/achievement-2.png","assets/img/profile/achievements/achievement-3.png"];function dt(t,e){1&t&&y["\u0275\u0275element"](0,"img",6),2&t&&y["\u0275\u0275property"]("src",e.$implicit,y["\u0275\u0275sanitizeUrl"])}let pt=(()=>{class t{constructor(){this.achievementsImages=ct}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-users-achievements"]],decls:13,vars:7,consts:[[1,"outer"],[1,"achievements"],[1,"header"],["href",""],[1,"body"],["alt","achievement",3,"src",4,"ngFor","ngForOf"],["alt","achievement",3,"src"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"p"),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementStart"](6,"span"),y["\u0275\u0275text"](7,"15"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"a",3),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",4),y["\u0275\u0275template"](12,dt,1,1,"img",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,3,"profile.my-Achievements")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](10,5,"profile.see-all")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.achievementsImages))},directives:[o.t],pipes:[c.d],styles:["p[_ngcontent-%COMP%]{margin:0}.outer[_ngcontent-%COMP%]{background:var(--primary-white);display:flex;justify-content:center}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:185px;height:129px;border-top:1px solid #e1e5e3}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:55px;display:flex;justify-content:space-between;padding:25px 0}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){width:30%;font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:end;text-decoration:none}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:74px;display:flex;justify-content:space-between}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:52px;height:52px}@media (min-width:1024px){.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:176px;height:125px}}@media (min-width:1440px){.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:213px;height:149px}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:65px}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){width:auto}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),t})();var ht=n("XNiG");function gt(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-user-profile-image",12),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).showFriendsInfo(n)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p",13),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("imgPath",t.profilePicturePath)("firstName",t.name)("additionalImgClass","friend-user-profile"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](t.name)}}const ut=function(t){return["/profile",t,"friends"]};function ft(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"div",4),y["\u0275\u0275elementStart"](2,"div",5),y["\u0275\u0275elementStart"](3,"div",6),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementStart"](6,"span",7),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",8),y["\u0275\u0275elementStart"](9,"a",9),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",10),y["\u0275\u0275template"](13,gt,4,4,"div",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,5,"profile.my-eco-friends")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",t.amountOfFriends,""),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](9,ut,t.userId)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"profile.see-all")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",t.usersFriends)}}const mt=function(t){return["/profile",t,"friends","recommended"]};function bt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementStart"](5,"span",7),y["\u0275\u0275text"](6," 0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",15),y["\u0275\u0275elementStart"](8,"div",16),y["\u0275\u0275elementStart"](9,"a",17),y["\u0275\u0275text"](10,"+"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,2,"profile.my-eco-friends")," "),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](4,mt,t.userId))}}let vt=(()=>{class t{constructor(t,e,n,i){this.profileService=t,this.localStorageService=e,this.router=n,this.route=i,this.noFriends=null,this.destroy$=new ht.a}ngOnInit(){this.showUsersFriends(),this.initUser()}showUsersFriends(){this.profileService.getUserFriends().pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.usersFriends=t.pagedFriends.page,this.amountOfFriends=t.amountOfFriends},t=>{this.noFriends=t})}initUser(){this.localStorageService.userIdBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.userId=t)}showFriendsInfo(t){this.router.navigate(["friends",t.name,t.id],{relativeTo:this.route})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](O.a),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](k.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-users-friends"]],decls:3,vars:2,consts:[[1,"main-container","outer"],["class","friends",4,"ngIf"],["class","friends-error",4,"ngIf"],[1,"friends"],[1,"friends-text"],[1,"text-main-content"],[1,"text-title"],[1,"text-number"],[1,"text-more"],[1,"text-more",3,"routerLink"],[1,"friends-images"],[4,"ngFor","ngForOf"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass","click"],[1,"friend-name"],[1,"friends-error"],[1,"error-message"],[1,"add-friends"],[3,"routerLink"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275template"](1,ft,14,11,"div",1),y["\u0275\u0275template"](2,bt,11,6,"div",2),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0!=e.amountOfFriends),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0===e.amountOfFriends))},directives:[o.u,k.j,o.t,Z.a],pipes:[c.d],styles:["p[_ngcontent-%COMP%]{margin:0}.outer[_ngcontent-%COMP%]{background-color:var(--primary-white);display:flex;justify-content:center}.outer[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]{padding-bottom:24px;width:100%;border-top:1px solid var(--light-grey-blue-color);margin:0}.outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{padding:20px}.outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.outer[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom;color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:17px}.outer[_ngcontent-%COMP%]   .friends-text[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:12px;line-height:15px;display:flex;justify-content:space-around;align-items:center;text-align:center;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .friends-images[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-around;flex-wrap:wrap;width:85%;box-sizing:border-box;padding:0}.outer[_ngcontent-%COMP%]   .friends-images[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{width:60px}.outer[_ngcontent-%COMP%]   .friend-name[_ngcontent-%COMP%]{font-size:10px;font-family:var(--secondary-font);color:var(--primary-dark-grey);max-width:65px;text-align:center;overflow:hidden;word-wrap:break-word}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:var(--primary-dark-grey);width:213px;border-top:1px solid var(--light-green-grey-color)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:142px;display:flex;flex-wrap:wrap;justify-content:space-between}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.outer[_ngcontent-%COMP%]   .add-friends[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;width:55.86px;height:55.86px;background:none;text-decoration:none;border:2px dashed var(--primary-green);border-radius:50px;text-align:center;vertical-align:middle;font-size:50px}.outer[_ngcontent-%COMP%]   .add-friends[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-green)}"]}),t})();var xt=function(t){return t.ACQUIRED="ACQUIRED",t.INPROGRESS="INPROGRESS",t.SUSPENDED="SUSPENDED",t}({}),yt=n("cP9i"),Ct=n("wZkO"),_t=n("aW+4");function Mt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"](" ",t.remainingCount," ",y["\u0275\u0275pipeBind1"](2,2,1===t.remainingCount?t.localizationSet[t.tabName][0]:t.localizationSet[t.tabName][2]),"\n")}}function Pt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"](" ",t.remainingCount," ",y["\u0275\u0275pipeBind1"](2,2,t.localizationSet[t.tabName][0])," ")}}function wt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"](" ",t.remainingCount," ",y["\u0275\u0275pipeBind1"](2,2,t.localizationSet[t.tabName][1])," ")}}function Ot(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",t.remainingCount," ",y["\u0275\u0275pipeBind1"](2,2,t.localizationSet[t.tabName][2]),"")}}function St(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"container-element",2),y["\u0275\u0275template"](1,Pt,3,4,"span",3),y["\u0275\u0275template"](2,wt,3,4,"span",3),y["\u0275\u0275template"](3,Ot,3,4,"span",4),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngSwitch",t.setWordDeclension(t.remainingCount+"")),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase","a"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase","b")}}const kt=["*"];let It=(()=>{class t{constructor(t,e){this.translate=t,this.wordDeclensionService=e,this.remainingCount=0,this.localizationSet={habits:["profile.dashboard.habits.habit-at-1","profile.dashboard.habits.habit-at-2-3-4","profile.dashboard.habits.habit-at-all"],news:["profile.dashboard.news.news-at-1","profile.dashboard.news.news-at-2-3-4","profile.dashboard.news.news-at-all"]}}setWordDeclension(t){return this.wordDeclensionService.setWordDeclension(t)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](_t.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-set-count"]],inputs:{remainingCount:"remainingCount",tabName:"tabName"},ngContentSelectors:kt,decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["otherLanguages",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(t,e){if(1&t&&(y["\u0275\u0275projectionDef"](),y["\u0275\u0275projection"](0),y["\u0275\u0275template"](1,Mt,3,4,"span",0),y["\u0275\u0275template"](2,St,4,3,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"])),2&t){const t=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","en"===e.translate.defaultLang)("ngIfElse",t)}},directives:[o.u,o.y,o.z,o.A],pipes:[c.d],styles:["span[_ngcontent-%COMP%]{height:12px;font-family:var(--primary-font);color:var(--quintynary-light-grey);font-weight:400;font-size:10px;line-height:12px;position:relative;top:-5px}"]}),t})();var Et=function(t){return t.UNDONE="undone",t.DONE="done",t.AQUIRED="aquired",t}({});function Ft(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",12),y["\u0275\u0275element"](1,"img",13),y["\u0275\u0275element"](2,"img",14),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",t.firstFriend,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",t.secondFriend,y["\u0275\u0275sanitizeUrl"])}}function Dt(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",15),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().enroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](1,"div",16),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275property"]("disabled",t.isRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,5,"user.habit.one-habit.done"))}}function At(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",15),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().unenroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](1,"div",17),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275property"]("disabled",t.isRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate2"]("",t.habit.habitStreak," ",y["\u0275\u0275pipeBind1"](3,6,"user.habit.one-habit.good"),"")}}function Lt(t,e){if(1&t&&(y["\u0275\u0275element"](0,"div"),y["\u0275\u0275elementStart"](1,"div",17),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,4,"user.habit.one-habit.great"))}}let Tt=(()=>{class t{constructor(t,e,n,i,r){this.localStorageService=t,this.habitAssignService=e,this.router=n,this.route=i,this.habitService=r,this.isRequest=!1,this.firstFriend="assets/img/kimi.png",this.secondFriend="assets/img/lewis.png",this.destroy$=new ht.a,this.descriptionType={acquired:()=>{this.daysCounter=this.habit.duration,this.showPhoto=!1,this.habitMark=Et.AQUIRED},done:()=>{this.daysCounter=this.habit.workingDays,this.showPhoto=!1,this.habitMark=Et.DONE},undone:()=>{this.daysCounter=this.habit.workingDays,this.showPhoto=!0,this.habitMark=Et.UNDONE}},this.nowAcquiredHabit=new y.EventEmitter}ngOnInit(){this.currentDate=this.formatDate(new Date),this.buildHabitDescription()}goToHabitProfile(){const t=localStorage.getItem("userId");this.router.navigate([`profile/${t}/allhabits/addhabit/${this.habit.habit.id}`])}buildHabitDescription(){const t=this.habit.habitStatusCalendarDtoList.some(t=>t.enrollDate===this.currentDate);this.habit.status===xt.ACQUIRED?this.descriptionType.acquired():this.habit.status===xt.INPROGRESS&&(t?this.descriptionType.done():this.descriptionType.undone())}formatDate(t){return t.toLocaleDateString().split(".").reverse().join("-")}setGreenCircleInCalendar(t){const e=this.formatDate(new Date),n=this.formatDate(new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)),i=this.habitAssignService.habitsFromDashBoard.find(t=>t.enrollDate===this.formatDate(new Date));i?i.habitAssigns.find(t=>t.habitId===this.habit.habit.id).enrolled=t:this.habitAssignService.getAssignHabitsByPeriod(e,n).pipe(Object(_.a)(this.destroy$)).subscribe(e=>{this.habitAssignService.habitsFromDashBoard=e,this.habitAssignService.habitsFromDashBoard.find(t=>t.enrollDate===this.formatDate(new Date)).habitAssigns.find(t=>t.habitId===this.habit.habit.id).enrolled=t})}enroll(){this.isRequest=!0,this.habitAssignService.enrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(v.a)(1)).subscribe(t=>{this.setGreenCircleInCalendar(!0),t.status===xt.ACQUIRED?(this.descriptionType.acquired(),this.nowAcquiredHabit.emit(t)):(this.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,this.habit.workingDays=t.workingDays,this.habit.habitStreak=t.habitStreak,this.buildHabitDescription(),this.isRequest=!1)})}unenroll(){this.isRequest=!0,this.habitAssignService.unenrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(v.a)(1)).subscribe(t=>{this.setGreenCircleInCalendar(!1),this.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,this.habit.workingDays=t.workingDays,this.habit.habitStreak=t.habitStreak,this.buildHabitDescription(),this.isRequest=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](w))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-one-habit"]],inputs:{habit:"habit"},outputs:{nowAcquiredHabit:"nowAcquiredHabit"},decls:17,vars:5,consts:[[1,"main"],[1,"image"],[1,"description"],[1,"first-row"],[1,"calendar"],["class","friends-photo",4,"ngIf"],[1,"edit",3,"click"],[1,"second-row"],[1,"third-row",3,"ngSwitch"],["ngSwitchCase","undone"],["ngSwitchCase","done"],["ngSwitchDefault","aquired"],[1,"friends-photo"],["alt","First friend photo",1,"first-photo",3,"src"],["alt","Second friend photo",1,"second-photo",3,"src"],[3,"disabled","click"],[1,"grey"],[1,"green"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275element"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275element"](4,"div",4),y["\u0275\u0275elementStart"](5,"p"),y["\u0275\u0275text"](6),y["\u0275\u0275elementStart"](7,"span"),y["\u0275\u0275text"](8,"I"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,Ft,3,2,"div",5),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275listener"]("click",(function(){return e.goToHabitProfile()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",7),y["\u0275\u0275text"](12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",8),y["\u0275\u0275template"](14,Dt,4,7,"ng-template",9),y["\u0275\u0275template"](15,At,4,8,"ng-template",10),y["\u0275\u0275template"](16,Lt,4,6,"ng-template",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate2"]("",e.daysCounter," / ",e.habit.duration,""),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.showPhoto),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",e.habit.habit.habitTranslation.name," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitch",e.habitMark))},directives:[o.u,o.y,o.z,o.A],pipes:[c.d],styles:["button[_ngcontent-%COMP%]{border:none;padding:0}.main[_ngcontent-%COMP%]{height:192px;background-color:var(--primary-white);display:grid;grid-template-columns:192px 1fr;grid-template-rows:1fr 60px;box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.description[_ngcontent-%COMP%]{margin:12px 0 0 16px;grid-area:1/2/2/2;display:flex;flex-direction:column;padding:0 12px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:4px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{width:12.5px;height:13.75px;margin-right:7px;background-image:url(/assets/img/icon/calendar.svg) no-repeat}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:var(--primary-green);margin:0 16px 0 0}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:12px;margin-left:12px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]{display:flex}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .first-photo[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .second-photo[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:1px solid var(--secondary-light-grey)}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .first-photo[_ngcontent-%COMP%]{z-index:1}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .second-photo[_ngcontent-%COMP%]{position:relative;left:-5px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:20px;height:20px;background-image:url(/assets/img/profile/icons/edit-line.svg);margin-left:auto}.description[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:700;font-size:20px;line-height:28px;padding-right:12px 24px;color:var(--quaternary-dark-grey);letter-spacing:.002em}.image[_ngcontent-%COMP%]{grid-area:1/1/3/2;background-image:url(/assets/img/man.svg);background-position:0;width:100%;height:100%;float:left}.third-row[_ngcontent-%COMP%]{margin:0 0 16px 16px;grid-area:2/2/3/3;display:flex;align-items:center;padding:0 12px}.third-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child, .third-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:28px;height:28px;margin-right:8px;border-radius:50%}.third-row[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%], .third-row[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:400;font-size:14px;line-height:20px}.third-row[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{color:var(--quintynary-light-grey)}.third-row[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:var(--primary-green)}.third-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{background:url(/assets/img/icon/chek-circle.png) no-repeat 50%}.third-row[_ngcontent-%COMP%]   .undone[_ngcontent-%COMP%]{background:url(/assets/img/icon/plus-circle.png) no-repeat 50%}.third-row[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%]{background:url(/assets/img/icon/star-circle.png) no-repeat 50%}@media (min-width:280px){.main[_ngcontent-%COMP%]{height:192px;grid-template-columns:0 auto}.description[_ngcontent-%COMP%]{grid-area:1/1/2/3}.image[_ngcontent-%COMP%]{display:none}.third-row[_ngcontent-%COMP%]{grid-area:2/1/3/3}}@media (min-width:480px){.main[_ngcontent-%COMP%]{grid-template-columns:192px 1fr;grid-template-rows:1fr 60px}.image[_ngcontent-%COMP%]{display:block}.description[_ngcontent-%COMP%]{grid-area:1/2/2/2}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{width:14px;height:15px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.description[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.third-row[_ngcontent-%COMP%]{grid-area:2/2/3/3}}"]}),t})();var zt=n("sTBm");function jt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",11),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t," ")}}let Nt=(()=>{class t{constructor(){this.profileIcons=zt.a}checkNewsImage(){return this.ecoNewsModel.imagePath&&" "!==this.ecoNewsModel.imagePath?this.ecoNewsModel.imagePath:this.profileIcons.newsDefaultPictureProfile}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-one-news"]],inputs:{ecoNewsModel:"ecoNewsModel"},decls:16,vars:9,consts:[[1,"news"],["alt","news image",1,"news-image",3,"src"],[1,"news-content"],[1,"tags"],["class","tag-btn",4,"ngFor","ngForOf"],[1,"title"],[1,"user-info"],[1,"user-info-date"],["alt","calendar icon",1,"icon",3,"src"],[1,"user-info-icon"],["alt","user icon",1,"icon",3,"src"],[1,"tag-btn"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275element"](1,"img",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275template"](4,jt,2,1,"div",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",5),y["\u0275\u0275elementStart"](6,"h3"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",6),y["\u0275\u0275elementStart"](9,"p",7),y["\u0275\u0275element"](10,"img",8),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"p",9),y["\u0275\u0275element"](14,"img",10),y["\u0275\u0275text"](15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",e.checkNewsImage(),y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.ecoNewsModel.tags),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",e.ecoNewsModel.title," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("src",e.profileIcons.calendarIcon,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,7,e.ecoNewsModel.creationDate)," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("src",e.profileIcons.userIcon,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.ecoNewsModel.author.name," "))},directives:[o.t],pipes:[o.f],styles:[".news[_ngcontent-%COMP%]{width:554px;height:206px;box-shadow:1px 1px 12px rgba(27,51,38,.15);background:var(--primary-white);border-radius:4px;display:flex;margin-bottom:24px;cursor:pointer}.news-content[_ngcontent-%COMP%]{width:300px;padding:0 10px;display:flex;flex-direction:column;justify-content:space-between}.tags[_ngcontent-%COMP%]{display:flex;padding:10px 0;flex-wrap:wrap}.tag-btn[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;line-height:16px;color:var(--primary-green);margin-right:16px;letter-spacing:1px;text-transform:uppercase}.title[_ngcontent-%COMP%]{overflow:hidden}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:21px;line-height:26px;color:var(--secondary-dark-grey)}.user-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function Bt(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"app-one-habit",17),y["\u0275\u0275listener"]("nowAcquiredHabit",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](4).changeStatus(e)})),y["\u0275\u0275elementEnd"]()}2&t&&y["\u0275\u0275property"]("habit",e.$implicit)}function Rt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",15),y["\u0275\u0275template"](1,Bt,1,1,"app-one-habit",16),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.habitAssignService.habitsInProgressToView)}}function Vt(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",18),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](3).getMoreHabitsInProgressForView()})),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"profile.dashboard.habits-view-more")," "))}function Ht(t,e){1&t&&y["\u0275\u0275element"](0,"app-one-habit",20),2&t&&y["\u0275\u0275property"]("habit",e.$implicit)}function qt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",15),y["\u0275\u0275template"](1,Ht,1,1,"app-one-habit",19),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.habitsAcquiredToView)}}const $t=function(t){return["/profile",t,"allhabits"]};function Wt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",9),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"app-set-count",10),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275element"](6,"br"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"a",11),y["\u0275\u0275elementStart"](8,"div",12),y["\u0275\u0275elementStart"](9,"span"),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](12,Rt,2,1,"div",13),y["\u0275\u0275template"](13,Vt,3,3,"button",7),y["\u0275\u0275elementStart"](14,"div",14),y["\u0275\u0275elementStart"](15,"p"),y["\u0275\u0275elementStart"](16,"app-set-count",10),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275element"](19,"br"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](20,qt,2,1,"div",13),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("remainingCount",t.habitAssignService.habitsInProgress.length)("tabName","habits"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,11,"profile.dashboard.habits-inprogress")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](17,$t,t.userId)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,13,"profile.dashboard.add-new-habit")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.habitAssignService.habitsInProgress),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.habitAssignService.habitsInProgress.length>t.habitAssignService.habitsInProgressToView.length),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("remainingCount",t.habitsAcquired.length)("tabName","habits"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,15,"profile.dashboard.habits-acquired")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",t.habitsAcquired)}}function Ut(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",18),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](2).getMoreHabitsAcquiredForView()})),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"profile.dashboard.habits-view-more")," "))}function Yt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",21),y["\u0275\u0275element"](1,"app-no-data",22),y["\u0275\u0275elementStart"](2,"a",11),y["\u0275\u0275elementStart"](3,"div",12),y["\u0275\u0275elementStart"](4,"span"),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("title","profile.dashboard.no-habits-in-progress")("text","profile.dashboard.no-habits-in-progress-advice"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](6,$t,t.userId)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](6,4,"profile.dashboard.add-new-habit"))}}function Gt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,Wt,21,19,"div",6),y["\u0275\u0275template"](2,Ut,3,3,"button",7),y["\u0275\u0275template"](3,Yt,7,8,"div",8),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0!==t.habitAssignService.habitsInProgress.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.habitsAcquired.length>t.habitsAcquiredToView.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0===t.habitAssignService.habitsInProgress.length)}}const Qt=function(t){return["/news",t]};function Xt(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"li",11),y["\u0275\u0275element"](1,"app-one-news",27),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](2,Qt,t.id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ecoNewsModel",t)}}const Kt=function(){return["/news/create-news"]};function Zt(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",9),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"app-set-count",10),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275element"](6,"br"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"a",11),y["\u0275\u0275elementStart"](8,"div",12),y["\u0275\u0275elementStart"](9,"span"),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",23),y["\u0275\u0275elementStart"](13,"div",24),y["\u0275\u0275listener"]("scrolled",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().onScroll()})),y["\u0275\u0275elementStart"](14,"ul",25),y["\u0275\u0275template"](15,Xt,2,4,"li",26),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("remainingCount",null==t.news?null:t.news.length)("tabName","news"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,9,"profile.dashboard.news-list")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction0"](13,Kt)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,11,"profile.dashboard.add-news")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",100)("infiniteScrollDisabled",!t.isActiveInfinityScroll),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",t.news)}}function Jt(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}let te=(()=>{class t{constructor(t,e,n){this.localStorageService=t,this.habitAssignService=e,this.ecoNewsService=n,this.destroyed$=new C.a(1),this.loading=!1,this.numberOfHabitsOnView=3,this.habitsAcquired=[],this.habitsAcquiredToView=[],this.tabs={habits:!0,news:!1,articles:!1},this.isActiveInfinityScroll=!1,this.currentPage=0,this.newsCount=5}ngOnInit(){this.subscribeToLangChange(),this.getUserId(),this.getNews(this.currentPage,this.newsCount)}changeStatus(t){this.habitAssignService.habitsInProgress=this.habitAssignService.habitsInProgress.filter(e=>e.id!==t.id),this.habitsAcquired=[...this.habitsAcquired,t]}getUserId(){this.userId=this.localStorageService.getUserId()}subscribeToLangChange(){this.localStorageService.languageBehaviourSubject.pipe(Object(_.a)(this.destroyed$)).subscribe(()=>this.executeRequests())}executeRequests(){this.loading=!0,this.habitAssignService.getAssignedHabits().pipe(Object(v.a)(1)).subscribe(t=>{const e=this.sortHabitsAsc(t);this.habitAssignService.habitsInProgress=e.filter(t=>t.status===xt.INPROGRESS),this.habitsAcquired=e.filter(t=>t.status===xt.ACQUIRED),this.setHabitsForView(),this.loading=!1})}setHabitsForView(){this.habitAssignService.habitsInProgressToView=[...this.habitAssignService.habitsInProgress.slice(0,this.numberOfHabitsOnView)],this.habitsAcquiredToView=[...this.habitsAcquired.slice(0,this.numberOfHabitsOnView)]}getMoreHabitsInProgressForView(){this.habitAssignService.habitsInProgressToView=this.getMoreHabits(this.habitAssignService.habitsInProgressToView,this.habitAssignService.habitsInProgress)}getMoreHabitsAcquiredForView(){this.habitsAcquiredToView=this.getMoreHabits(this.habitsAcquiredToView,this.habitsAcquired)}getMoreHabits(t,e){const n=t.length;return[...t,...e.slice(n,n+this.numberOfHabitsOnView)]}sortHabitsAsc(t){return t.sort((t,e)=>t.habit.id>e.habit.id?1:e.habit.id>t.habit.id?-1:0)}getNews(t,e){this.ecoNewsService.getEcoNewsListByPage(t,e).pipe(Object(_.a)(this.destroyed$)).subscribe(t=>{this.totalPages=t.totalPages,this.news=this.news?[...this.news,...t.page]:t.page})}tabChanged(t){this.isActiveInfinityScroll=1===t.index,console.log(this.isActiveInfinityScroll)}onScroll(){!this.loading&&this.currentPage<this.totalPages&&(this.currentPage++,this.getNews(this.currentPage,this.newsCount))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](yt.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-profile-dashboard"]],decls:14,vars:13,consts:[[1,"main"],[1,"menu"],["animationDuration","0ms",3,"selectedTabChange"],[3,"label"],[4,"ngIf","ngIfElse"],["spinner",""],[4,"ngIf"],["class","btn-view-more",3,"click",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"in-progress","header"],[3,"remainingCount","tabName"],[3,"routerLink"],["id","create-button",1,"secondary-global-button"],["class","body",4,"ngIf"],[1,"acquired","header"],[1,"body"],[3,"habit","nowAcquiredHabit",4,"ngFor","ngForOf"],[3,"habit","nowAcquiredHabit"],[1,"btn-view-more",3,"click"],[3,"habit",4,"ngFor","ngForOf"],[3,"habit"],[1,"no-data"],[3,"title","text"],[1,"news-body"],["infinite-scroll","",1,"scrolling",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[1,"news-list"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ecoNewsModel"]],template:function(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"mat-tab-group",2),y["\u0275\u0275listener"]("selectedTabChange",(function(t){return e.tabChanged(t)})),y["\u0275\u0275elementStart"](3,"mat-tab",3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275template"](5,Gt,4,3,"div",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"mat-tab",3),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275template"](8,Zt,16,14,"div",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"mat-tab",3),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275text"](11,"Content 3"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](12,Jt,1,0,"ng-template",null,5,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275reference"](13);y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](4,7,"profile.dashboard.my-habits")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!e.loading)("ngIfElse",t),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](7,9,"profile.dashboard.my-news")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!e.loading)("ngIfElse",t),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](10,11,"profile.dashboard.my-tips-and-tricks"))}},directives:[Ct.b,Ct.a,o.u,It,k.j,o.t,Tt,z.a,E.a,k.h,Nt,T.a],pipes:[c.d],styles:["p[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{text-decoration:none}.main[_ngcontent-%COMP%]{margin-bottom:3rem}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:700;font-size:16px;line-height:24px}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-dark-grey)}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.main[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{padding:0 15px;height:36px;min-width:145px;display:flex;justify-content:center;align-items:center;font-style:normal;font-weight:700;font-size:14px;line-height:20px;letter-spacing:.1px}.main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-row-gap:24px}.main[_ngcontent-%COMP%]   .acquired[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:32px}.main[_ngcontent-%COMP%]   .btn-view-more[_ngcontent-%COMP%]{margin-top:10px;background:none;border:none;color:var(--primary-green)}.main[_ngcontent-%COMP%]   .btn-view-more[_ngcontent-%COMP%]:hover{color:var(--secondary-dark-green)}.main[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{display:inline-flex}.news-list[_ngcontent-%COMP%]{list-style:none;padding-left:0;overflow:hidden}  .mat-tab-header{margin-bottom:24px}  .mat-tab-header,   .mat-tab-nav-bar{border-bottom:none}  .mat-ink-bar,   .mat-tab-header-pagination{display:none}  .mat-tab-labels .mat-tab-label{height:40px;min-width:auto;border-bottom:1px solid var(--quintynary-light-grey);opacity:1}  .mat-tab-label-content{font-family:var(--primary-font);font-size:16px;line-height:24px;font-weight:400;color:var(--primary-dark-grey)}  .mat-tab-labels .mat-tab-label-active{border-bottom:1px solid var(--primary-green)}  .mat-tab-labels .mat-tab-label-active .mat-tab-label-content{color:var(--primary-green)}  .mat-tab-labels{flex-wrap:wrap}.scrolling[_ngcontent-%COMP%]{height:100%}@media (max-width:480px){.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:0 12px}.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{margin-top:132px;flex-wrap:wrap-reverse}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;margin-bottom:32px}}@media (min-width:576px){.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:0 24px}.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.main[_ngcontent-%COMP%]   .acquired[_ngcontent-%COMP%]{margin-top:32px}}"]}),t})();var ee=n("JIr8");function ne(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"p",4),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"p",5),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",6),y["\u0275\u0275element"](7,"img",7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"profile.fact-of-the-day")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](t.factOfTheDay.content)}}function ie(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275template"](1,ne,8,4,"div",2),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.factOfTheDay)}}let re=(()=>{class t{constructor(t,e){this.profileService=t,this.localStorageService=e}ngOnInit(){this.languageSunscription=this.localStorageService.languageBehaviourSubject.subscribe(()=>{this.getFactOfTheDay()})}getFactOfTheDay(){this.profileSubscription=this.profileService.getFactsOfTheDay().pipe(Object(ee.a)(t=>(this.error=t,t))).subscribe(t=>{this.factOfTheDay=Object.assign({},t)})}ngOnDestroy(){this.profileSubscription.unsubscribe(),this.languageSunscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](O.a),y["\u0275\u0275directiveInject"](P.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-profile-cards"]],decls:1,vars:1,consts:[["class","right-cards",4,"ngIf"],[1,"right-cards"],["class","card",4,"ngIf"],[1,"card"],[1,"cart-title"],[1,"card-description"],[1,"shape-img"],["src","assets/img/wave_shape.png","alt","wave-background"]],template:function(t,e){1&t&&y["\u0275\u0275template"](0,ie,2,1,"div",0),2&t&&y["\u0275\u0275property"]("ngIf",!e.error)},directives:[o.u],pipes:[c.d],styles:[".right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;color:var(--primary-white);text-align:left;padding:16px 16px 0;margin-top:24px;border-radius:4px;background:var(--primary-green);box-shadow:1px 4px 8px var(--quintynary-dark-grey)}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cart-title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:13px;line-height:16px;margin-bottom:8px}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:11px;line-height:16px;font-family:var(--quaternary-font);align-items:center}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .shape-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;bottom:-1px;left:0;right:0;width:100%;height:55px;-webkit-user-select:none;-moz-user-select:none;user-select:none}"]}),t})();var ae=n("Xa2L");function oe(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"a",7),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"profile.see-all")))}function se(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"li",8),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](t.name)}}function le(t,e){1&t&&y["\u0275\u0275element"](0,"mat-spinner",9)}let ce=(()=>{class t{constructor(t){this.profileService=t,this.ecoPlaces=[]}ngOnInit(){this.getEcoPlaces()}getEcoPlaces(){this.subscription=this.profileService.getEcoPlaces().subscribe(t=>this.ecoPlaces=t)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](O.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-eco-places"]],decls:13,vars:6,consts:[[1,"eco-places-content"],[1,"header-position"],[1,"header"],["class","btn-see-all",4,"ngIf"],[1,"eco-place-list"],["class","item",4,"ngFor","ngForOf"],["loading",""],[1,"btn-see-all"],[1,"item"],["color","grey","diameter","70",1,"loading"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementStart"](5,"span"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,oe,3,3,"a",3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div"),y["\u0275\u0275elementStart"](9,"ul",4),y["\u0275\u0275template"](10,se,2,1,"li",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,le,1,0,"ng-template",null,6,y["\u0275\u0275templateRefExtractor"])),2&t&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](4,4,"profile.my-eco-places"),""),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](null==e.ecoPlaces?null:e.ecoPlaces.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==e.ecoPlaces?null:e.ecoPlaces.length)>3),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.ecoPlaces))},directives:[o.u,o.t,ae.c],pipes:[c.d],styles:[".eco-places-content[_ngcontent-%COMP%]{width:100%;padding:20px;margin:0 auto;font-family:var(--secondary-font);font-style:normal;border-top:1px solid var(--quaternary-light-grey);background-color:var(--primary-white)}.header-position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.header[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-size:12px;padding-bottom:8px}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey);margin-left:10px}.item[_ngcontent-%COMP%]{list-style:none;text-align:left;width:100%;font-weight:400;font-size:12px;line-height:15px;padding:6px 0}.eco-place-list[_ngcontent-%COMP%]{width:100%;padding:0}.eco-place-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-decoration:underline}.btn-see-all[_ngcontent-%COMP%]{text-decoration:none;font-weight:400;font-size:11px}.loading[_ngcontent-%COMP%]{margin:0 auto}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%],  .mat-progress-spinner circle{stroke:#e2e2e2!important}@media only screen and (max-width:1024px){.header[_ngcontent-%COMP%], .text-number[_ngcontent-%COMP%]{font-size:12px;line-height:15px}.text-more[_ngcontent-%COMP%]{font-size:11px;line-height:13px}.item[_ngcontent-%COMP%]{font-size:11px;line-height:16px}}"]}),t})();var de=n("nYR2"),pe=n("bSwM");function he(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",7),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().openCloseList()})),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"profile.see-all")))}function ge(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"mat-spinner",8),y["\u0275\u0275elementEnd"]())}function ue(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"li",12),y["\u0275\u0275elementStart"](1,"span",13),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"mat-checkbox",14,15),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).toggleDone(n)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass","DONE"===t.status||n.checked?"item-striked":"item"),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("ngbPopover",t.text),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](t.text),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("checked","DONE"===t.status)}}const fe=function(t,e){return{"shopping-list-max":t,"shopping-list-min":e}};function me(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",9),y["\u0275\u0275elementStart"](2,"ul",10),y["\u0275\u0275template"](3,ue,5,4,"li",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,fe,t.toggle,!t.toggle)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.shoppingList)}}function be(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"p",16),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,"profile.empty-list")))}let ve=(()=>{class t{constructor(t){this.profileService=t,this.shoppingList=[],this.destroy$=new ht.a}get shoppingListLength(){return this.shoppingList?this.shoppingList.length:0}ngOnInit(){this.getShoppingList()}getShoppingList(){this.profileSubscription=this.profileService.getShoppingList().pipe(Object(_.a)(this.destroy$),Object(de.a)(()=>{this.shoppingList||(this.shoppingList=[])})).subscribe(t=>this.shoppingList=t,t=>this.shoppingList=[])}openCloseList(){this.toggle=!this.toggle}toggleDone(t){this.profileService.toggleStatusOfShoppingItem(t).pipe(Object(_.a)(this.destroy$)).subscribe(e=>this.updateDataOnUi(t))}updateDataOnUi(t){const{status:e}=t;return t.status="ACTIVE"===e?"DONE":"ACTIVE",t.status}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](O.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-shopping-list"]],decls:14,vars:11,consts:[[1,"outer"],[1,"shoppingList-block"],[1,"header-position","shopping-list-content"],[1,"header"],[1,"items-count"],["class","btn-see-all",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn-see-all",3,"click"],["color","grey","diameter","70",1,"loading"],[1,"shopping-list-content"],[1,"shopping-list",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["triggers","mouseenter:mouseleave","placement","right",3,"ngbPopover"],["color","primary",1,"checkbox",3,"checked","click"],["checkbox",""],[1,"empty-list"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"h2",3),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementStart"](6,"span",4),y["\u0275\u0275element"](7,"br"),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,he,3,3,"a",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,ge,2,0,"div",6),y["\u0275\u0275template"](12,me,4,5,"div",6),y["\u0275\u0275template"](13,be,4,3,"div",6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,7,"profile.shoppingList")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate2"]("",null==e.shoppingList?null:e.shoppingList.length," ",y["\u0275\u0275pipeBind1"](9,9,"profile.elements"),""),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",e.shoppingList.length>3),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.profileSubscription&&!e.shoppingList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.profileSubscription&&e.shoppingList&&e.shoppingListLength>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.profileSubscription&&0===e.shoppingListLength))},directives:[o.u,ae.c,o.r,o.t,a.e,pe.a],pipes:[c.d],styles:[".outer[_ngcontent-%COMP%]{background-color:var(--primary-white);display:flex}.shoppingList-block[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--quaternary-light-grey);width:100%}.shopping-list-content[_ngcontent-%COMP%]{margin:0 auto;font-family:var(--secondary-font);font-style:normal}.header-position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.header[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-size:12px;padding-bottom:8px}h2[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.empty-list[_ngcontent-%COMP%]{text-align:left;font-size:12px;font-family:var(--secondary-font);font-weight:400;font-style:normal;line-height:15px;white-space:pre-wrap}.items-count[_ngcontent-%COMP%]{font-size:.8em}.item[_ngcontent-%COMP%]{text-decoration:none}.item[_ngcontent-%COMP%], .item-striked[_ngcontent-%COMP%]{list-style:none;text-align:left;width:100%;font-weight:400;font-size:12px;padding:6px 0}.item-striked[_ngcontent-%COMP%]{text-decoration:line-through}.shopping-list-min[_ngcontent-%COMP%]{height:100px}.shopping-list-max[_ngcontent-%COMP%]{height:-webkit-max-content;height:-moz-max-content;height:max-content}.shopping-list[_ngcontent-%COMP%]{width:100%;padding:5px 0 0;overflow-y:hidden}.shopping-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.shopping-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px;display:block;overflow:hidden;white-space:nowrap;overflow-wrap:break-word;text-overflow:ellipsis;width:80%}.btn-see-all[_ngcontent-%COMP%]{text-decoration:none;font-weight:400;font-size:12px}.checkbox[_ngcontent-%COMP%]{float:right}  .mat-checkbox .mat-checkbox-frame{border:1px solid #e1e1e1}  .mat-checkbox-checked .mat-checkbox-background{background-color:green!important}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%],  .mat-progress-spinner circle{stroke:#e2e2e2!important}.loading[_ngcontent-%COMP%]{margin:0 auto}@media only screen and (max-width:1080px){.header[_ngcontent-%COMP%], .text-number[_ngcontent-%COMP%]{font-size:12px;line-height:15px}.text-more[_ngcontent-%COMP%]{font-size:11px;line-height:13px}.item[_ngcontent-%COMP%]{font-size:11px;line-height:16px}}"]}),t})();var xe=n("uIZH"),ye=n("0IaG");const Ce=function(t){return{"current-day-name":t}};function _e(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",13),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,Ce,t===n.currentDayName)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t," ")}}function Me(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",11),y["\u0275\u0275template"](1,_e,2,4,"div",12),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.daysName)}}function Pe(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",16),y["\u0275\u0275listener"]("click",(function(n){y["\u0275\u0275restoreView"](t);const i=e.$implicit;return y["\u0275\u0275nextContext"](2).showHabits(n,i)})),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngClass",n.chooseDisplayClass(t)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",t.numberOfDate," ")}}const we=function(t){return{disabled:t}};function Oe(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275template"](1,Pe,3,2,"div",15),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,we,t.checkAnswer)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.calendarDay)}}const Se=function(t){return{"current-month":t}};function ke(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",19),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).buildSelectedMonthCalendar(n)})),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,Se,t===n.activeMonth&&n.currentYear)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t," ")}}function Ie(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",17),y["\u0275\u0275template"](1,ke,3,4,"div",18),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.monthsCalendar)}}let Ee=(()=>{class t extends xe.a{constructor(t,e,n,i){super(t,e,n,i),this.translate=t,this.languageService=e,this.habitAssignService=n,this.dialog=i}ngOnInit(){this.bindDefaultTranslate(),this.subscribeToLangChange(),this.buildCalendar(),this.getUserHabits(!0,this.calendarDay)}showHabits(t,e){this.checkCanOpenPopup(e)&&this.openDialogDayHabits(t,!0,e)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](Q.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-calendar"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:6,consts:[[1,"calendar"],[1,"top"],[1,"month-year"],[3,"click"],["alt","arrow previous",1,"arrow-previous",3,"src"],[1,"monthAndYear",3,"click"],["alt","arrow next",1,"arrow-next",3,"src"],["class","days",4,"ngIf"],[1,"middle"],["class","calendar-grid",3,"ngClass",4,"ngIf"],["class","calendar-grid-month",4,"ngIf"],[1,"days"],["class","days-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"days-name",3,"ngClass"],[1,"calendar-grid",3,"ngClass"],["class","calendar-grid-day",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"calendar-grid-day",3,"ngClass","click"],[1,"calendar-grid-month"],[4,"ngFor","ngForOf"],[1,"calendar-grid-month-view",3,"ngClass","click"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275listener"]("click",(function(){return e.monthView?e.previousMonth():e.previousYear()})),y["\u0275\u0275element"](4,"img",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",5),y["\u0275\u0275listener"]("click",(function(){return e.toggleCalendarView()})),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",3),y["\u0275\u0275listener"]("click",(function(){return e.monthView?e.nextMonth():e.nextYear()})),y["\u0275\u0275element"](8,"img",6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,Me,2,1,"div",7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",8),y["\u0275\u0275template"](11,Oe,2,4,"div",9),y["\u0275\u0275template"](12,Ie,2,1,"div",10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("src",e.calendarImages.arrowPrevious,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e.monthView?e.monthAndYearName:e.yearData," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.calendarImages.arrowNext,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.monthView),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",e.monthView),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.monthView))},directives:[o.u,o.t,o.r],styles:[".calendar[_ngcontent-%COMP%]{display:block;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-previous[_ngcontent-%COMP%]{margin-top:22px;margin-left:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:13px;line-height:13px;color:var(--primary-dark-grey);margin-top:15px;margin-bottom:12px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]{margin-top:22px;margin-right:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);justify-content:center;text-align:center;font-size:11px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .days-name[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:12px;color:var(--tertiary-light-grey)}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .current-day-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding-bottom:5px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,24px);grid-auto-rows:24px;grid-row-gap:5px;justify-content:space-around;margin:8px 0 0;padding:0 3px;font-family:var(--secondary-font);font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:center}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:hover{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]{background-color:var(--primary-green);border-radius:50%;background-repeat:no-repeat;background-position:50%;color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:hover{color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,23px);grid-template-rows:repeat(4,13px);grid-row-gap:32px;grid-column-gap:47px;justify-content:center;margin:32px 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .calendar-grid-month-view[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:13px;color:var(--secondary-grey);text-align:center;text-transform:uppercase;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{color:var(--primary-green)}.enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green);color:var(--primary-dark-grey)}.enrolled-day[_ngcontent-%COMP%], .unenrolled-day[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;border-radius:50%}.unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.enrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--primary-light-green);border-radius:50%}.enrolled-past-day[_ngcontent-%COMP%], .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%}.unenrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--quaternary-light-grey);border-radius:50%}@media only screen and (min-width:1200px){.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,35px)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{padding:0 8px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;font-size:13px}}.backdropBackground[_ngcontent-%COMP%]{background:none}"]}),t})();const Fe=function(t){return{"current-name":t}};function De(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",11),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"uppercase"),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](4,Fe,t.isCurrent)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,t.dayName)," ")}}const Ae=function(t,e,n,i,r){return{"enrolled-day":t,"unenrolled-day":e,"enrolled-past-day":n,"unenrolled-past-day":i,"current-number":r}};function Le(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",12),y["\u0275\u0275listener"]("click",(function(n){y["\u0275\u0275restoreView"](t);const i=e.$implicit;return y["\u0275\u0275nextContext"]().showHabits(n,i)})),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction5"](2,Ae,t.hasHabitsInProgress&&t.areHabitsDone,t.hasHabitsInProgress&&!t.areHabitsDone,t.hasHabitsInProgress&&t.date.getDate()<n.currentDate.getDate()-7&&t.areHabitsDone,t.hasHabitsInProgress&&t.date.getDate()<n.currentDate.getDate()-7&&!t.areHabitsDone,t.isCurrent)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t.date.getDate()," ")}}const Te=function(t){return{disabled:t}};let ze=(()=>{class t extends xe.a{constructor(t,e,n,i,r){super(n,i,e,r),this.localStorageService=t,this.habitAssignService=e,this.translate=n,this.languageService=i,this.dialog=r,this.destroyed$=new C.a(1),this.currentDate=new Date}ngOnInit(){this.buildWeekCalendar(this.getFirstWeekDate()),this.getLanguage(),this.getUserHabits(!1,this.weekDates)}buildWeekCalendar(t){const e=t.getFullYear(),n=t.getMonth(),i=t.getDate();this.weekDates=[];for(let r=0;r<7;r++){const t=new Date(e,n,i+r),a=t.getFullYear()===this.currentDate.getFullYear()&&t.getMonth()===this.currentDate.getMonth()&&t.getDate()===this.currentDate.getDate();this.weekDates.push({date:t,dayName:this.language?this.setDayName(t):"",isCurrent:a,hasHabitsInProgress:!1,areHabitsDone:!1})}}getFirstWeekDate(){const t=0===this.currentDate.getDay()?this.currentDate.getDate()-6:this.currentDate.getDate()-this.currentDate.getDay()+1,e=(new Date).getMonth(),n=this.currentDate.getFullYear();return new Date(n,e,t)}setDayName(t){return t.toLocaleDateString(this.language,{weekday:"short"})}getLanguage(){this.localStorageService.languageBehaviourSubject.pipe(Object(_.a)(this.destroyed$)).subscribe(t=>{this.language=t,this.weekDates.forEach(t=>t.dayName=this.setDayName(t.date)),this.buildWeekCalendarTitle()})}buildWeekCalendarTitle(){const t=this.weekDates[0].date.getDate(),e=this.weekDates[6].date.getDate(),n=this.weekDates[0].date.toLocaleDateString(this.language,{month:"long"}),i=this.weekDates[6].date.toLocaleDateString(this.language,{month:"long"}),r=this.weekDates[0].date.getFullYear(),a=this.weekDates[6].date.getFullYear();this.weekTitle=n===i?`${t} - ${e} ${n} ${r}`:r===a?`${t} ${n} - ${e} ${i} ${r}`:`${t} ${n} ${r} - ${e} ${i} ${a}`}changeWeek(t){const e=this.weekDates[0].date.getFullYear(),n=this.weekDates[0].date.getMonth(),i=this.weekDates[0].date.getDate()+(t?7:-7),r=new Date(e,n,i);this.buildWeekCalendar(r),this.buildWeekCalendarTitle(),this.getUserHabits(!1,this.weekDates)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}showHabits(t,e){this.checkCanOpenPopup(e)&&this.openDialogDayHabits(t,!1,e)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](Q.a),y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-calendar-week"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:8,consts:[[1,"calendar-week"],[1,"title"],[3,"click"],["alt","arrow previous",3,"src"],[1,"week"],["alt","arrow next",3,"src"],[1,"body"],[1,"day-name-row"],["class","day-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"day-number-row",3,"ngClass"],["class","day-number",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"day-name",3,"ngClass"],[1,"day-number",3,"ngClass","click"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"button",2),y["\u0275\u0275listener"]("click",(function(){return e.changeWeek(!1)})),y["\u0275\u0275element"](3,"img",3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"div",4),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"button",2),y["\u0275\u0275listener"]("click",(function(){return e.changeWeek(!0)})),y["\u0275\u0275element"](7,"img",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",6),y["\u0275\u0275elementStart"](9,"div",7),y["\u0275\u0275template"](10,De,3,6,"div",8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",9),y["\u0275\u0275template"](12,Le,2,8,"div",10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("src",e.calendarImages.arrowPrevious,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.weekTitle),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.calendarImages.arrowNext,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.weekDates),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](6,Te,e.checkAnswer)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.weekDates))},directives:[o.t,o.r],pipes:[o.I],styles:[".calendar-week[_ngcontent-%COMP%]{width:100%;height:130px;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px;margin-top:26px;padding:16px 12px 12px;font-family:var(--secondary-font)}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:17px;color:var(--primary-dark-grey);margin-bottom:15px;display:flex;justify-content:space-between;align-items:center}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 8px;border:none;background:none}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:10px}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:10px}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:14px;color:var(--tertiary-light-grey);display:flex;justify-content:space-between;margin-bottom:14px}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{width:52px;text-align:center}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]   .current-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:17px;color:var(--primary-dark-grey);display:flex;justify-content:space-between}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{width:52px;height:40px;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .enrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--primary-light-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--quaternary-light-grey)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .current-number[_ngcontent-%COMP%]{color:var(--primary-white);background-color:var(--primary-green)}.disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}"]}),t})();function je(t,e){1&t&&y["\u0275\u0275element"](0,"app-eco-places",13)}function Ne(t,e){1&t&&y["\u0275\u0275element"](0,"app-shopping-list",14)}function Be(t,e){1&t&&y["\u0275\u0275element"](0,"app-calendar",15)}function Re(t,e){1&t&&y["\u0275\u0275element"](0,"app-calendar-week",16)}function Ve(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275element"](2,"app-profile-header",3),y["\u0275\u0275element"](3,"app-users-achievements",4),y["\u0275\u0275element"](4,"app-users-friends",5),y["\u0275\u0275template"](5,je,1,0,"app-eco-places",6),y["\u0275\u0275template"](6,Ne,1,0,"app-shopping-list",7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](7,"app-profile-dashboard",8),y["\u0275\u0275elementStart"](8,"div",9),y["\u0275\u0275template"](9,Be,1,0,"app-calendar",10),y["\u0275\u0275template"](10,Re,1,0,"ng-template",null,11,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275element"](12,"app-profile-cards",12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275reference"](11),e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("userInfo",e.userInfo)("progress",e.progress),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.userInfo.showEcoPlace),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.userInfo.showShoppingList),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.isDesktopWidth)("ngIfElse",t)}}let He=(()=>{class t{constructor(t,e,n,i){this.announcer=t,this.localStorageService=e,this.translate=n,this.profileService=i,this.screenBreakpoint=1024}ngOnInit(){this.isDesktopWidth=this.isDeskWidth(),this.announce(),this.showUserInfo(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.checkUserActivities()}checkDisplayWidth(){this.isDesktopWidth=this.isDeskWidth()}isDeskWidth(){return window.innerWidth>this.screenBreakpoint}announce(){this.announcer.announce("Success, logging you in","assertive")}showUserInfo(){this.profileService.getUserInfo().subscribe(t=>{this.userInfo=t,this.userInfo.showShoppingList=!0})}bindLang(t){this.translate.setDefaultLang(t)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(t=>this.bindLang(t))}checkUserActivities(){this.profileService.getUserProfileStatistics().pipe(Object(v.a)(1)).subscribe(t=>{this.progress=t})}ngOnDestroy(){this.langChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](X.k),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](O.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-profile"]],hostBindings:function(t,e){1&t&&y["\u0275\u0275listener"]("resize",(function(){return e.checkDisplayWidth()}),!1,y["\u0275\u0275resolveWindow"])},decls:1,vars:1,consts:[["class","profile-wrapper",4,"ngIf"],[1,"profile-wrapper"],[1,"left-column"],[1,"app-profile-header",3,"userInfo","progress"],[1,"app-users-achievements"],[1,"app-users-friends"],["class","app-eco-places",4,"ngIf"],["class","app-shopping-list",4,"ngIf"],[1,"habits-dashboard"],[1,"right-column"],["class","app-calendar",4,"ngIf","ngIfElse"],["mobileView",""],[1,"app-profile-cards"],[1,"app-eco-places"],[1,"app-shopping-list"],[1,"app-calendar"],[1,"app-calendar-week"]],template:function(t,e){1&t&&y["\u0275\u0275template"](0,Ve,13,6,"div",0),2&t&&y["\u0275\u0275property"]("ngIf",e.userInfo)},directives:[o.u,lt,pt,vt,te,re,ce,ve,Ee,ze],styles:[".profile-wrapper[_ngcontent-%COMP%]{margin-top:-95px;display:grid;grid-template-columns:1fr;grid-row-gap:32px;background-color:var(--after-primary-light-grey)}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{width:100%;box-shadow:4px 0 8px -4px var(--quintynary-dark-grey)}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-eco-places[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-shopping-list[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-achievements[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-friends[_ngcontent-%COMP%]{display:none}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0 16px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:none}@media (min-width:576px){.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0 14px}}@media (min-width:768px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:225px 483px;grid-template-rows:156px 1fr;grid-gap:32px;justify-content:center}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{width:100%;grid-area:1/1/3/2}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-eco-places[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-shopping-list[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-achievements[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-friends[_ngcontent-%COMP%]{display:block}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0;grid-area:2/2/3/3}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:block;grid-area:1/2/2/3}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .app-profile-cards[_ngcontent-%COMP%]{display:none}}@media (min-width:1024px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:216px 464px 216px;grid-template-rows:1fr}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{grid-area:1/1/2/2;margin-bottom:5px}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{grid-area:1/2/2/3;margin-top:26px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{grid-area:1/3/2/4;margin-top:54px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .app-profile-cards[_ngcontent-%COMP%]{display:block;box-shadow:1px 4px 8px var(--quintynary-dark-grey)}}@media (min-width:1200px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:261px 554px 261px}}"]}),t})();var qe=n("3Pt+");let $e=(()=>{class t{constructor(t){this.builder=t}getProfileForm(){return this.builder.group({name:["",qe.H.maxLength(30)],city:["",qe.H.maxLength(85)],credo:["",qe.H.maxLength(170)],showLocation:[""],showEcoPlace:[""],showShoppingList:[""],socialNetworks:[""]})}getEditProfileForm(t){return this.builder.group({name:[t.name,[qe.H.maxLength(30),qe.H.required]],city:[t.city,qe.H.maxLength(85)],credo:[t.userCredo,qe.H.maxLength(170)],showLocation:[t.showLocation],showEcoPlace:[t.showEcoPlace],showShoppingList:[t.showShoppingList],socialNetworks:[t.socialNetworks]})}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275inject"](qe.g))},t.\u0275prov=y["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();var We=n("fygO"),Ue=n("VKqL"),Ye=n("Csug");const Ge=["editImage"];let Qe=(()=>{class t{constructor(t,e){this.profileService=t,this.dialog=e,this.currentPage="edit photo",this.editIcon="./assets/img/profile/icons/edit-photo.svg"}ngOnInit(){this.setUserAvatar()}setUserAvatar(){this.avatarSubscription=this.profileService.getUserInfo().subscribe(t=>{this.avatarImg=t.profilePicturePath,this.userName=t.name})}openEditPhoto(){this.dialog.open(Ye.a,{hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"custom-dialog-container",data:{firstName:this.userName,img:this.avatarImg}}).afterClosed().subscribe(()=>{this.setUserAvatar(),this.previousActiveElement.nativeElement.focus()})}ngOnDestroy(){this.avatarSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](O.a),y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-personal-photo"]],viewQuery:function(t,e){var n;1&t&&y["\u0275\u0275viewQuery"](Ge,!0),2&t&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(e.previousActiveElement=n.first)},decls:6,vars:6,consts:[[1,"details-img"],[3,"additionalImgClass","imgPath","firstName"],[1,"edit-image-button",3,"click"],["editImage",""]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275element"](1,"app-user-profile-image",1),y["\u0275\u0275elementStart"](2,"button",2,3),y["\u0275\u0275listener"]("click",(function(){return e.openEditPhoto()})),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("additionalImgClass","big")("imgPath",e.avatarImg)("firstName",e.userName),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,4,"user.edit-profile.edit-button")," "))},directives:[Z.a],pipes:[c.d],styles:[".details-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.details-img[_ngcontent-%COMP%]   .edit-image-button[_ngcontent-%COMP%]{margin-top:8px;color:var(--primary-green);background-color:var(--primary-white);border:1px solid var(--primary-white);padding:8px 24px;box-sizing:border-box;border-radius:4px;font-style:normal;font-weight:400;font-size:16px;line-height:20px;width:148px}.details-img[_ngcontent-%COMP%]   .edit-image-button[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-green)}@media screen and (max-width:320px){.details-img[_ngcontent-%COMP%]{margin-top:24px;align-items:center}}"]}),t})();var Xe=n("jOOL");const Ke=["socialLink"];function Ze(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"a",5),y["\u0275\u0275element"](2,"img",6),y["\u0275\u0275elementStart"](3,"p"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",7),y["\u0275\u0275elementStart"](6,"button",8),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).onEditLink(n)})),y["\u0275\u0275element"](7,"img",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"button",10),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).onDeleteLink(n)})),y["\u0275\u0275element"](9,"img",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("href",t.url,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",n.getSocialImage(t),y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](n.replaceHttp(t.url)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",n.editedSocialLink),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",n.icons.edit,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",n.icons.delete,y["\u0275\u0275sanitizeUrl"])}}function Je(t,e){if(1&t&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Ze,10,6,"div",3),y["\u0275\u0275elementContainerEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.socialNetworks)}}function tn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"span",21),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](6),e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,e.getErrorMessage(t.errors))," ")}}function en(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",12),y["\u0275\u0275elementStart"](1,"div",13),y["\u0275\u0275elementStart"](2,"label",14),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"input",15,16),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().inputTextValue=e})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,tn,3,3,"span",17),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",18),y["\u0275\u0275elementStart"](9,"button",19),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().onCloseForm()})),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"button",20),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().onAddLink()})),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275reference"](6),e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,7,"user.edit-profile.label-tip")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.inputTextValue)("pattern",e.urlValidationRegex),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null!==t.errors&&t.touched),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,9,"user.edit-profile.btn.cancel")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",e.socialNetworks&&e.socialNetworks.length>=5||t.errors),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,11,"user.edit-profile.btn.add")," ")}}function nn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",22),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().onToggleInput()})),y["\u0275\u0275element"](1,"img",23),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("disabled",t.socialNetworks&&t.socialNetworks.length>=5),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",t.icons.add,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,3,"user.edit-profile.add-link")," ")}}let rn=(()=>{class t{constructor(t){this.dialog=t,this.icons={edit:"./assets/img/profile/icons/edit.svg",add:"./assets/img/profile/icons/add.svg",delete:"./assets/img/profile/icons/delete.svg",defaultIcon:"./assets/img/profile/icons/default_social.svg"},this.urlValidationRegex=/^(https?):\/\/(-\.)?([^\s\/?\.#]+\.?)+(\/[^\s]*)?$/i,this.showInput=!1,this.editedSocialLink=!1,this.socialNetworks=[],this.socialNetworksChange=new y.EventEmitter}onChange(t){}writeValue(t){}registerOnChange(t){this.onChange=t}registerOnTouched(t){}setDisabledState(t){}onEditLink(t){this.onChange(t),this.onToggleInput(!0),this.inputTextValue=t.url,this.editedSocialLink=t.url,this.onFilterSocialLink(t)}onDeleteLink(t){this.onChange(t),this.dialog.open(Xe.a,{hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:"user.edit-profile.delete-popup.title",popupConfirm:"user.edit-profile.btn.yes",popupCancel:"user.edit-profile.btn.cancel"}}).afterClosed().pipe(Object(v.a)(1)).subscribe(e=>{e&&this.onFilterSocialLink(t)})}onFilterSocialLink(t){this.socialNetworks=this.socialNetworks.filter(e=>t.url!==e.url),this.onEmitSocialNetworksChange()}onToggleInput(t){this.showInput=arguments.length>0?t:!this.showInput}getSocialImage(t){return t&&t.socialNetworkImage&&""===t.socialNetworkImage.imagePath?this.icons.defaultIcon:t.socialNetworkImage.imagePath}onCloseForm(){this.editedSocialLink&&(this.onAddLink(this.editedSocialLink),this.editedSocialLink=!1),this.onToggleInput(!1),this.inputTextValue=""}getErrorMessage(t){let e="user.edit-profile.input-validation-";return Object.keys(t).forEach(t=>{e+=t}),e}onAddLink(t){this.onChange(t);const e=t||this.inputTextValue;if(!this.checkIsUrl(e)||this.onCheckForExisting(e))return this.socialLink.control.setErrors({"non-unique":!0});this.socialNetworks.push({url:e,socialNetworkImage:{imagePath:this.icons.defaultIcon}}),this.onEmitSocialNetworksChange(),this.editedSocialLink=!1,this.onCloseForm()}replaceHttp(t){return t.replace(/(https|http):\/\//i,"")}onEmitSocialNetworksChange(){this.socialNetworksChange.emit(this.createArrayWithUrl())}checkIsUrl(t){return this.urlValidationRegex.test(t)}onCheckForExisting(t){return this.socialNetworks.some(e=>t===e.url)}createArrayWithUrl(t=this.socialNetworks){const e=[];return Object.values(t).forEach(t=>e.push(t.url)),e}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-social-networks"]],viewQuery:function(t,e){var n;1&t&&y["\u0275\u0275viewQuery"](Ke,!0),2&t&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(e.socialLink=n.first)},inputs:{socialNetworks:"socialNetworks"},outputs:{socialNetworksChange:"socialNetworksChange"},features:[y["\u0275\u0275ProvidersFeature"]([{provide:qe.r,multi:!0,useExisting:Object(y.forwardRef)(()=>t)}])],decls:4,vars:3,consts:[[4,"ngIf"],["class","social_network-add-wrp",4,"ngIf"],["class","add-button social-btn","type","button",3,"disabled","click",4,"ngIf"],["class","social_network-wrp",4,"ngFor","ngForOf"],[1,"social_network-wrp"],["target","_blank","rel","noopener",1,"social_network-link-text",3,"href"],["alt","Social image",1,"social-img",3,"src"],[1,"social_network-edit-wrp"],["type","button",1,"edit-button","social-btn",3,"disabled","click"],["alt","edit-icon",1,"edit-button-img",3,"src"],["type","button",1,"delete-button",3,"click"],["alt","delete-icon",1,"delete-button-img",3,"src"],[1,"social_network-add-wrp"],[1,"social_network-add-input-wrp"],["for","socialLink"],["id","socialLink","type","text","placeholder","https://www.facebook.com/grencity","name","text","required","",1,"form-control",3,"ngModel","pattern","ngModelChange"],["socialLink","ngModel"],["class","social_network-input-error",4,"ngIf"],[1,"social_network-btn-wrp"],["type","button",1,"secondary-global-button",3,"click"],["type","button",1,"primary-global-button",3,"disabled","click"],[1,"social_network-input-error"],["type","button",1,"add-button","social-btn",3,"disabled","click"],["alt","add-icon",1,"social-img-add",3,"src"]],template:function(t,e){1&t&&(y["\u0275\u0275template"](0,Je,2,1,"ng-container",0),y["\u0275\u0275elementStart"](1,"div"),y["\u0275\u0275template"](2,en,15,13,"div",1),y["\u0275\u0275template"](3,nn,4,5,"button",2),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275property"]("ngIf",e.socialNetworks&&e.socialNetworks.length>0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",e.showInput),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.showInput))},directives:[o.u,o.t,qe.d,qe.E,qe.t,qe.w,qe.A],pipes:[c.d],styles:[".social_network-wrp[_ngcontent-%COMP%]{display:grid;grid-template-columns:calc(100% - 47px) 47px;margin-bottom:20px}.secondary-global-button[_ngcontent-%COMP%]{background:transparent}.social_network-link-text[_ngcontent-%COMP%]{color:#494b4a;width:190px;display:flex;align-items:center}.social_network-link-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;margin:0;overflow:hidden}.social_network-edit-wrp[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.social_network-add-wrp[_ngcontent-%COMP%]{display:grid;grid-template-rows:50px auto;row-gap:20px}.social_network-add-wrp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize;height:32px;padding-left:24px;padding-right:24px;margin-left:24px}.social_network-btn-wrp[_ngcontent-%COMP%]{margin:0 0 0 auto}.social_network-add-input-wrp[_ngcontent-%COMP%]{display:flex;flex-direction:column}.social_network-add-input-wrp[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:12px;line-height:16px;color:var(--primary-dark-grey);margin-bottom:4px}.social-btn[_ngcontent-%COMP%]{display:flex;align-items:center}.social-btn[_ngcontent-%COMP%]:disabled{filter:grayscale(100%)}.delete-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:none;padding:0}.add-button[_ngcontent-%COMP%]{border:transparent;background-color:transparent;padding:0;color:#046c33}.add-button[_ngcontent-%COMP%]:focus{outline:none}.social-img[_ngcontent-%COMP%]{height:24px;min-width:24px;width:24px;filter:grayscale(100%);margin-right:16px;border-radius:3px}.social-img-add[_ngcontent-%COMP%]{height:26px;width:26px;margin-right:16px}.link-text[_ngcontent-%COMP%]{color:var(--primary-dark-grey);font-family:var(--primary-font);font-size:14px;line-height:24px;margin-left:16px}.social_network-input-error[_ngcontent-%COMP%]{color:var(--error-ligh-red);font-family:var(--primary-font);font-size:10px;line-height:12px}.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid var(--error-ligh-red)}@media (min-width:375px){.social_network-link-text[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:75%}}"]}),t})();const an=function(){return{"margin-bottom":"41px"}},on=function(){return{"margin-bottom":"53px"}};let sn=(()=>{class t extends Ue.a{constructor(t,e,n){super(n,e),this.injector=t,this.dialog=e,this.router=n,this.editProfileForm=null,this.userInfo={id:0,avatarUrl:"./assets/img/profileAvatarBig.png",name:{first:"Brandier",last:"Webb"},location:"Lviv",status:"online",rate:658,userCredo:"My Credo is to make small steps that leads to huge impact. Let\u2019s change the world together."},this.previousPath="/profile",this.popupConfig={hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:"user.edit-profile.profile-popup.title",popupSubtitle:"user.edit-profile.profile-popup.subtitle",popupConfirm:"user.edit-profile.profile-popup.confirm",popupCancel:"user.edit-profile.profile-popup.cancel"}},this.socialNetworksToServer=[],this.checkLocation=!1,this.checkEcoPlaces=!1,this.checkShoppingList=!1,this.namePattern=/^(?!\.)(?!.*\.$)(?!.*?\.\.)[\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f0-9.\ '\u2019-]{6,30}$/,this.cityPattern=/^[\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f][\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f\-,\u2019)( ]*$/,this.builder=t.get($e),this.editProfileService=t.get(We.a),this.profileService=t.get(O.a),this.snackBar=t.get(D.a),this.localStorageService=t.get(P.a),this.translate=t.get(c.e),this.ngZone=t.get(y.NgZone)}ngOnInit(){this.setupInitialValue(),this.getInitialValue(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.options={types:["(cities)"],componentRestrictions:{country:"UA"}}}ngDoCheck(){this.checkLocation=this.editProfileForm.value.showLocation,this.checkEcoPlaces=this.editProfileForm.value.showEcoPlace,this.checkShoppingList=this.editProfileForm.value.showShoppingList}getFormValues(){return{firstName:this.editProfileForm.value.name,city:this.editProfileForm.value.city,userCredo:this.editProfileForm.value.credo,showLocation:this.editProfileForm.value.showLocation,showEcoPlace:this.editProfileForm.value.showEcoPlace,showShoppingList:this.editProfileForm.value.showShoppingList,socialNetworks:this.editProfileForm.value.socialNetworks}}getFormInitialValues(t){this.initialValues={firstName:t.firstName,get city(){return null===t.city?"":t.city},get userCredo(){return null===t.userCredo?"":t.userCredo},showLocation:t.showLocation,showEcoPlace:t.showEcoPlace,showShoppingList:t.showShoppingList,socialNetworks:t.socialNetworks}}onCityChange(t){this.cityName=t.formatted_address.split(",")[0]}emitSocialLinks(t){this.socialNetworksToServer=t}setupInitialValue(){this.editProfileForm=this.builder.getProfileForm()}getInitialValue(){this.profileService.getUserInfo().pipe(Object(v.a)(1)).subscribe(t=>{t&&(this.setupExistingData(t),this.socialNetworks=t.socialNetworks,this.getFormInitialValues(t))})}setupExistingData(t){this.editProfileForm=this.builder.getEditProfileForm(t)}onSubmit(){this.areChangesSaved=!0,this.sendFormData(this.editProfileForm)}sendFormData(t){this.editProfileService.postDataUserProfile(JSON.stringify({city:t.value.city,name:t.value.name,userCredo:t.value.credo,showLocation:t.value.showLocation,showEcoPlace:t.value.showEcoPlace,showShoppingList:t.value.showShoppingList,socialNetworks:this.socialNetworksToServer})).subscribe(()=>{this.router.navigate(["profile",this.profileService.userId]),this.snackBar.openSnackBar("changesSaved"),this.localStorageService.setFirstName(t.value.name)})}bindLang(t){this.translate.setDefaultLang(t)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(t=>this.bindLang(t))}ngOnDestroy(){this.langChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](y.Injector),y["\u0275\u0275directiveInject"](ye.c),y["\u0275\u0275directiveInject"](k.g))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-edit-profile"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:73,vars:60,consts:[[1,"container","p-0"],[1,"edit_prof-container"],[1,"edit_prof-wrap"],[3,"formGroup","ngSubmit","keydown.enter"],["formEditProf",""],[1,"wrapper"],[1,"input-block",3,"ngStyle"],["for","name"],["type","text","formControlName","name","id","name",3,"placeholder","pattern"],["for","city"],["type","text","formControlName","city","autocorrect","off","autocapitalize","off","spellcheck","false","id","city",3,"placeholder","pattern"],["search",""],[1,"input-block"],["for","credo"],["formControlName","credo","id","credo",3,"placeholder"],["formControlName","socialNetworks","ngDefaultControl","",3,"socialNetworks","socialNetworksChange"],[1,"privacy-wrapper"],[1,"title"],[1,"label-wrapper"],["type","checkbox","formControlName","showLocation"],[1,"checkmark"],["type","checkbox","formControlName","showEcoPlace"],["type","checkbox","formControlName","showShoppingList"],[1,"buttons"],["type","button",3,"click"],["type","submit",3,"disabled"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"h2"),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](6,"app-personal-photo"),y["\u0275\u0275elementStart"](7,"form",3,4),y["\u0275\u0275listener"]("ngSubmit",(function(){return e.onSubmit()}))("keydown.enter",(function(t){return t.preventDefault()})),y["\u0275\u0275elementStart"](9,"div",5),y["\u0275\u0275elementStart"](10,"p"),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",6),y["\u0275\u0275elementStart"](14,"label",7),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](17,"input",8),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",6),y["\u0275\u0275elementStart"](22,"label",9),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](25,"input",10,11),y["\u0275\u0275elementStart"](27,"span"),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",12),y["\u0275\u0275elementStart"](31,"label",13),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](34,"textarea",14),y["\u0275\u0275elementStart"](35,"span"),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"div",5),y["\u0275\u0275elementStart"](39,"p"),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"app-social-networks",15),y["\u0275\u0275listener"]("socialNetworksChange",(function(t){return e.emitSocialLinks(t)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"div",16),y["\u0275\u0275elementStart"](44,"p",17),y["\u0275\u0275text"](45),y["\u0275\u0275pipe"](46,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](47,"ul"),y["\u0275\u0275elementStart"](48,"li"),y["\u0275\u0275elementStart"](49,"label",18),y["\u0275\u0275element"](50,"input",19),y["\u0275\u0275element"](51,"span",20),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"li"),y["\u0275\u0275elementStart"](55,"label",18),y["\u0275\u0275element"](56,"input",21),y["\u0275\u0275element"](57,"span",20),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"li"),y["\u0275\u0275elementStart"](61,"label",18),y["\u0275\u0275element"](62,"input",22),y["\u0275\u0275element"](63,"span",20),y["\u0275\u0275text"](64),y["\u0275\u0275pipe"](65,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"div",23),y["\u0275\u0275elementStart"](67,"button",24),y["\u0275\u0275listener"]("click",(function(){return e.cancel()})),y["\u0275\u0275text"](68),y["\u0275\u0275pipe"](69,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"button",25),y["\u0275\u0275text"](71),y["\u0275\u0275pipe"](72,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,28,"user.edit-profile.edit-profile")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("formGroup",e.editProfileForm),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](12,30,"user.edit-profile.info")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngStyle",y["\u0275\u0275pureFunction0"](58,an)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](16,32,"user.edit-profile.name")),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("placeholder",e.userInfo.name.first+" "+e.userInfo.name.last),y["\u0275\u0275property"]("pattern",e.namePattern),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,34,"user.edit-profile.name-warning")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngStyle",y["\u0275\u0275pureFunction0"](59,on)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](24,36,"user.edit-profile.city")),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("placeholder",e.userInfo.location),y["\u0275\u0275property"]("pattern",e.cityPattern),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](29,38,"user.edit-profile.city-warning")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](33,40,"user.edit-profile.title")),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("placeholder",e.userInfo.userCredo),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](37,42,"user.edit-profile.title-warning")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](41,44,"user.edit-profile.links")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("socialNetworks",e.socialNetworks),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](46,46,"user.edit-profile.privacy")),y["\u0275\u0275advance"](5),y["\u0275\u0275attribute"]("checked",e.checkLocation),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](53,48,"user.edit-profile.location")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("checked",e.checkEcoPlaces),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](59,50,"user.edit-profile.eco-place")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("checked",e.checkShoppingList),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](65,52,"user.edit-profile.shopping-list")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](69,54,"user.edit-profile.btn.cancel")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",!e.editProfileForm.valid||e.editProfileForm.pristine),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](72,56,"user.edit-profile.btn.save")," "))},directives:[Qe,qe.J,qe.u,qe.l,o.x,qe.d,qe.t,qe.j,qe.A,rn,qe.b],pipes:[c.d],styles:['.checkmark[_ngcontent-%COMP%]{border:1px solid var(--primary-green);border-radius:4px;height:20px;width:20px;margin-right:12px}.checkmark[_ngcontent-%COMP%]:after{border:solid #fff;border-width:0 2px 2px 0;content:"";display:none;height:12px;left:6px;position:absolute;top:4px;transform:rotate(45deg);width:7px}input[type=checkbox][_ngcontent-%COMP%]{height:0;opacity:0;width:0}input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--primary-green)}input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.edit_prof-container[_ngcontent-%COMP%]{width:100%}.edit_prof-wrap[_ngcontent-%COMP%]{max-width:554px;box-sizing:content-box}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e3;margin-top:40px;padding-bottom:40px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:24px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:12px;height:16px;line-height:16px;margin:0}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--secondary-grey);border-radius:5px;box-sizing:border-box;font-family:var(--primary-font);font-size:16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:48px;padding:12px 40px 12px 16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:115px;padding:12px 16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:10px;height:12px;line-height:12px;color:var(--secondary-grey)}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid var(--error-red)!important}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:var(--error-dark-red)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid var(--primary-green);box-sizing:border-box;border-radius:5px;font-family:var(--primary-font);font-style:normal;font-weight:600;font-size:16px;height:48px;line-height:16px;margin:32px 0 16px 24px;width:132px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#fff;color:var(--primary-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:var(--primary-green);color:#fff}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{border:1px solid var(--secondary-dark-green);color:var(--secondary-dark-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:disabled{border:1px solid var(--primary-grey);color:var(--primary-grey)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:var(--secondary-dark-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:disabled{background:var(--primary-grey);border:1px solid var(--primary-grey)}h2[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;height:48px;font-size:2.1em;line-height:48px;margin-bottom:40px;color:var(--primary-dark-grey)}.privacy-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e3;margin-top:40px;padding-bottom:40px}.privacy-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:24px}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0;padding:0;list-style-type:none!important}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:24px}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .label-wrapper[_ngcontent-%COMP%]{color:var(--primary-dark-grey);cursor:pointer;font-family:var(--primary-font);font-size:16px;line-height:24px;margin:0;position:relative;display:flex;align-items:center}@media screen and (max-width:576px){.edit_prof-wrap[_ngcontent-%COMP%]{padding:0 5%}}@media screen and (max-width:320px){.edit_prof-wrap[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px;line-height:32px;text-align:center}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-direction:column}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;width:288px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0 0 8px}.edit_prof-wrap[_ngcontent-%COMP%]   .privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .label-wrapper[_ngcontent-%COMP%]{font-size:14px}}']}),t})();n("Nu1B"),n("Txnn"),n("8gFn"),n("dbUT");var ln=n("QibW"),cn=n("q5jP");let dn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-user-component"]],decls:1,vars:0,template:function(t,e){1&t&&y["\u0275\u0275element"](0,"router-outlet")},directives:[k.l],encapsulation:2}),t})();const pn=function(t){return{"current-day-name":t}};function hn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",13),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,pn,t===n.currentDayName)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t," ")}}function gn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",11),y["\u0275\u0275template"](1,hn,2,4,"div",12),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.daysName)}}function un(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",16),y["\u0275\u0275listener"]("click",(function(n){y["\u0275\u0275restoreView"](t);const i=e.$implicit;return y["\u0275\u0275nextContext"](2).showHabits(n,i)})),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngClass",n.chooseDisplayClass(t)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",t.numberOfDate," ")}}const fn=function(t){return{disabled:t}};function mn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275template"](1,un,3,2,"div",15),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,fn,t.checkAnswer)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.calendarDay)}}const bn=function(t){return{"current-month":t}};function vn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",19),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"](2).buildSelectedMonthCalendar(n)})),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](2,bn,t===n.activeMonth&&n.currentYear)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",t," ")}}function xn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",17),y["\u0275\u0275template"](1,vn,3,4,"div",18),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.monthsCalendar)}}let yn=(()=>{class t extends xe.a{constructor(t,e,n,i){super(t,e,n,i),this.translate=t,this.languageService=e,this.habitAsignService=n,this.dialog=i}ngOnInit(){this.bindDefaultTranslate(),this.subscribeToLangChange(),this.buildCalendar(),this.getUserHabits(!0,this.calendarDay)}showHabits(t,e){this.checkCanOpenPopup(e)&&this.openDialogDayHabits(t,!0,e)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](Q.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-calendar"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:6,consts:[[1,"calendar"],[1,"top"],[1,"month-year"],[3,"click"],["alt","arrow previous",1,"arrow-previous",3,"src"],[1,"monthAndYear",3,"click"],["alt","arrow next",1,"arrow-next",3,"src"],["class","days",4,"ngIf"],[1,"middle"],["class","calendar-grid",3,"ngClass",4,"ngIf"],["class","calendar-grid-month",4,"ngIf"],[1,"days"],["class","days-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"days-name",3,"ngClass"],[1,"calendar-grid",3,"ngClass"],["class","calendar-grid-day",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"calendar-grid-day",3,"ngClass","click"],[1,"calendar-grid-month"],[4,"ngFor","ngForOf"],[1,"calendar-grid-month-view",3,"ngClass","click"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275listener"]("click",(function(){return e.monthView?e.previousMonth():e.previousYear()})),y["\u0275\u0275element"](4,"img",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",5),y["\u0275\u0275listener"]("click",(function(){return e.toggleCalendarView()})),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",3),y["\u0275\u0275listener"]("click",(function(){return e.monthView?e.nextMonth():e.nextYear()})),y["\u0275\u0275element"](8,"img",6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,gn,2,1,"div",7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",8),y["\u0275\u0275template"](11,mn,2,4,"div",9),y["\u0275\u0275template"](12,xn,2,1,"div",10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("src",e.calendarImages.arrowPrevious,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e.monthView?e.monthAndYearName:e.yearData," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.calendarImages.arrowNext,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.monthView),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",e.monthView),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.monthView))},directives:[o.u,o.t,o.r],styles:[".calendar[_ngcontent-%COMP%]{display:block;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-previous[_ngcontent-%COMP%]{margin-top:22px;margin-left:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:13px;line-height:13px;color:var(--primary-dark-grey);margin-top:15px;margin-bottom:12px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]{margin-top:22px;margin-right:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);justify-content:center;text-align:center;font-size:11px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .days-name[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:12px;color:var(--tertiary-light-grey)}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .current-day-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding-bottom:5px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,24px);grid-auto-rows:24px;grid-row-gap:5px;justify-content:space-around;margin:8px 0 0;padding:0 3px;font-family:var(--secondary-font);font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:center}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:hover{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]{background-color:var(--primary-green);border-radius:50%;background-repeat:no-repeat;background-position:50%;color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:hover{color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,23px);grid-template-rows:repeat(4,13px);grid-row-gap:32px;grid-column-gap:47px;justify-content:center;margin:32px 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .calendar-grid-month-view[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:13px;color:var(--secondary-grey);text-align:center;text-transform:uppercase;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{color:var(--primary-green)}.enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green);color:var(--primary-dark-grey)}.enrolled-day[_ngcontent-%COMP%], .unenrolled-day[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;border-radius:50%}.unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.enrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--primary-light-green);border-radius:50%}.enrolled-past-day[_ngcontent-%COMP%], .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%}.unenrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--quaternary-light-grey);border-radius:50%}@media only screen and (min-width:1200px){.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,35px)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{padding:0 8px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;font-size:13px}}.backdropBackground[_ngcontent-%COMP%]{background:none}",".calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:416px;max-height:316px;height:316px;background-color:#fbfbfb;border-radius:5px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-size:16px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,52px);margin:0 9px 0 22px;padding:7px 0 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{align-self:center;padding-top:24px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);grid-row-gap:8px;grid-column-gap:25px;grid-auto-rows:28px;font-size:16px;margin:0}@media screen and (max-width:1024px){.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:7px 1px 0 0}}"]}),t})();function Cn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",10),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().enroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](1,"div",11),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275property"]("disabled",t.isRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,5,"user.habit.one-habit.done"))}}function _n(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",10),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().unenroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](1,"div",12),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275property"]("disabled",t.isRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate2"]("",t.habit.habitStreak," ",y["\u0275\u0275pipeBind1"](3,6,"user.habit.one-habit.good"),"")}}function Mn(t,e){if(1&t&&(y["\u0275\u0275element"](0,"div"),y["\u0275\u0275elementStart"](1,"div",12),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275classMap"](t.habitMark),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,4,"user.habit.one-habit.great"))}}let Pn=(()=>{class t{constructor(t){this.habitAssignService=t,this.indicator=7,this.isRequest=!1,this.descriptionType={acquired:()=>{this.daysCounter=this.habit.duration,this.showPhoto=!1,this.habitMark=Et.AQUIRED},done:()=>{this.daysCounter=this.habit.workingDays,this.showPhoto=!1,this.habitMark=Et.DONE},undone:()=>{this.daysCounter=this.habit.workingDays,this.showPhoto=!0,this.habitMark=Et.UNDONE}},this.nowAcquiredHabit=new y.EventEmitter}buildHabitDescription(){const t=this.habit.habitStatusCalendarDtoList.some(t=>t.enrollDate===this.currentDate);this.habit.status===xt.ACQUIRED?this.descriptionType.acquired():this.habit.status===xt.INPROGRESS&&(t?this.descriptionType.done():this.descriptionType.undone())}enroll(){this.isRequest=!0,this.habitAssignService.enrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(v.a)(1)).subscribe(t=>{t.status===xt.ACQUIRED?(this.descriptionType.acquired(),this.nowAcquiredHabit.emit(t)):(this.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,this.habit.workingDays=t.workingDays,this.habit.habitStreak=t.habitStreak,this.buildHabitDescription(),this.isRequest=!1)})}unenroll(){this.isRequest=!0,this.habitAssignService.unenrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(v.a)(1)).subscribe(t=>{this.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,this.habit.workingDays=t.workingDays,this.habit.habitStreak=t.habitStreak,this.buildHabitDescription(),this.isRequest=!1})}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](S.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-progress"]],inputs:{habit:"habit"},outputs:{nowAcquiredHabit:"nowAcquiredHabit"},decls:13,vars:6,consts:[[1,"progressHabit"],[1,"progressText"],[1,"markAsDone",3,"ngSwitch"],["ngSwitchCase","undone"],["ngSwitchCase","done"],["ngSwitchDefault","aquired"],[1,"calendar"],[1,"daysDuration"],[1,"indicator"],[1,"startLine"],[3,"disabled","click"],[1,"grey"],[1,"green"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"div",2),y["\u0275\u0275template"](5,Cn,4,7,"ng-template",3),y["\u0275\u0275template"](6,_n,4,8,"ng-template",4),y["\u0275\u0275template"](7,Mn,4,6,"ng-template",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",6),y["\u0275\u0275element"](9,"app-habit-calendar"),y["\u0275\u0275elementStart"](10,"div",7),y["\u0275\u0275element"](11,"div",8),y["\u0275\u0275element"](12,"div",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,4,"user.habit.progress-title")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngSwitch",e.habitMark),y["\u0275\u0275advance"](7),y["\u0275\u0275styleProp"]("height",e.indicator,"%"))},directives:[o.y,o.z,o.A,yn],pipes:[c.d],styles:[".progressHabit[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin-bottom:40px;height:32px}.progressHabit[_ngcontent-%COMP%]   .progressText[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%], .progressHabit[_ngcontent-%COMP%]   .progressText[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;line-height:24px;display:flex;align-items:center}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--primary-green)}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:9px}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;width:38px;height:317px;background:#e6ebea;border-radius:4px}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:38px;background-color:var(--primary-green);border-radius:4px 4px 0 0}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]   .startLine[_ngcontent-%COMP%]{width:38px;height:4px;background:linear-gradient(180deg,#13aa57 -137.5%,rgba(215,254,60,.47));border-radius:0 0 4px 4px}"]}),t})();function wn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"li"),y["\u0275\u0275elementStart"](1,"mat-checkbox",7),y["\u0275\u0275listener"]("ngModelChange",(function(n){return y["\u0275\u0275restoreView"](t),e.$implicit.added=n}))("ngModelChange",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().updateAllAdd()})),y["\u0275\u0275elementStart"](2,"div",8),y["\u0275\u0275element"](3,"app-user-profile-image",9),y["\u0275\u0275elementStart"](4,"p",10),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",t.added),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("imgPath",t.profilePicture)("firstName",t.name)("additionalImgClass","friend-user-profile"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](t.name)}}let On=(()=>{class t{constructor(t,e){this.userFriendsService=t,this.localStorageService=e,this.destroyed$=new ht.a,this.allAdd=!1,this.addedFriends=[]}ngOnInit(){this.getUserId(),this.getFriends()}getUserId(){this.userId=this.localStorageService.getUserId()}getFriends(){this.userFriendsService.getAllFriends(this.userId).pipe(Object(_.a)(this.destroyed$)).subscribe(t=>{this.friends=t.page})}updateAllAdd(){this.allAdd=null!==this.friends&&this.friends.every(t=>t.added)}someAdd(){if(this.friends)return this.friends.filter(t=>t.added).length>0&&!this.allAdd}setAll(t){if(this.allAdd=t,this.friends)return this.friends.map(e=>e.added=t)}setAddedFriends(){return this.friends.map(t=>{t.added&&this.userFriendsService.addedFriendsToHabit(t)})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](P.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-invite-friends-pop-up"]],decls:14,vars:13,consts:[[1,"friends-images"],[1,"popup-section"],[1,"all-friends",3,"checked","indeterminate","change"],[4,"ngFor","ngForOf"],["align","end",1,"invite-popup-footer"],["mat-dialog-close","",1,"btn","btn-outline-success"],["cdkFocusInitial","",1,"btn","btn-success",3,"mat-dialog-close","click"],[3,"ngModel","ngModelChange"],[1,"friend"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-name"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"section",1),y["\u0275\u0275elementStart"](2,"mat-checkbox",2),y["\u0275\u0275listener"]("change",(function(t){return e.setAll(t.checked)})),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"ul"),y["\u0275\u0275template"](6,wn,6,5,"li",3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"mat-dialog-actions",4),y["\u0275\u0275elementStart"](8,"button",5),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"button",6),y["\u0275\u0275listener"]("click",(function(){return e.setAddedFriends()})),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("checked",e.allAdd)("indeterminate",e.someAdd()),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](4,7,"user.habit.invite.all")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.friends),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](10,9,"user.habit.invite.btn.cancel")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("mat-dialog-close",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,11,"user.habit.invite.btn.invite")," "))},directives:[pe.a,o.t,ye.d,ye.e,qe.t,qe.w,Z.a],pipes:[c.d],styles:[".friends-images[_ngcontent-%COMP%]{width:360px;display:flex;justify-content:space-around;flex-wrap:wrap;box-sizing:border-box;padding:0}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]{margin:12px 0}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-height:200px;min-width:360px;overflow-y:auto;list-style-type:none;margin-top:4px}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .all-friends[_ngcontent-%COMP%]{padding-left:40px;margin:10px auto;font-size:24px;font-weight:500;color:var(--ubs-tertiary-light-green)}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 5px;color:var(--ubs-tertiary-light-green)}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:var(--primary-green)!important}.friends-images[_ngcontent-%COMP%]   .invite-popup-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around}.friends-images[_ngcontent-%COMP%]   .invite-popup-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]}),t})();function Sn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"app-user-profile-image",8),y["\u0275\u0275elementStart"](2,"p",9),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("imgPath",t.profilePicture)("firstName",t.name)("additionalImgClass","friend-user-profile"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](t.name)}}let kn=(()=>{class t{constructor(t,e){this.userFriendsService=t,this.dialog=e,this.destroyed$=new ht.a,this.addedFriends=[]}openInviteFriendsDialog(){this.dialog.open(On,{hasBackdrop:!0}),this.dialog.afterAllClosed.pipe(Object(_.a)(this.destroyed$)).subscribe(()=>this.getAddedFriends())}getAddedFriends(){this.addedFriends=this.userFriendsService.addedFriends}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](ye.c))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-invite-friends"]],decls:14,vars:7,consts:[[1,"invite-container"],[1,"invite-title"],[1,"invite-content"],[1,"plus-circle"],["src","assets/img/icon/plus-circle.png","alt","plus-circle",3,"click"],[1,"invite-friends"],[4,"ngFor","ngForOf"],[1,"invite-detail"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-name"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",2),y["\u0275\u0275elementStart"](6,"div",3),y["\u0275\u0275elementStart"](7,"img",4),y["\u0275\u0275listener"]("click",(function(){return e.openInviteFriendsDialog()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",5),y["\u0275\u0275template"](9,Sn,4,4,"div",6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",7),y["\u0275\u0275elementStart"](11,"p"),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,3,"user.habit.invite.title")),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngForOf",e.addedFriends),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](13,5,"user.habit.invite.message")))},directives:[o.t,Z.a],pipes:[c.d],styles:[".invite-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:var(--secondary-grey)}.invite-container[_ngcontent-%COMP%]   .invite-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;line-height:24px;color:var(--primary-black)}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]{display:flex}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .invite-friends[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:400px;max-height:100px;overflow-y:auto}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .plus-circle[_ngcontent-%COMP%]{width:100px;margin:0 10px}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .plus-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px auto;width:60px;height:60px}.invite-container[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{margin:5px;width:80px}.invite-container[_ngcontent-%COMP%]   .invite-detail[_ngcontent-%COMP%]{height:15px;margin:5px 10px}"]}),t})(),In=(()=>{class t{constructor(){this.list=[],this.list$=new ht.a}fillList(t){this.list=t,this.list$.next(this.list)}getList(){return this.list$.asObservable()}addItem(t){this.list=[{status:"ACTIVE",text:t,selected:!1},...this.list],this.list$.next(this.list)}deleteItem(t){this.list=this.list.filter(e=>e.text!==t.text),this.list$.next(this.list)}select(t){t.selected=!t.selected}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const En=function(t,e){return{selected:t,done:e}};function Fn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"li"),y["\u0275\u0275elementStart"](1,"label",8),y["\u0275\u0275elementStart"](2,"input",9),y["\u0275\u0275listener"]("change",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"]().select(n)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](3,"span",10),y["\u0275\u0275elementStart"](4,"span",11),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"button",12),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=e.$implicit;return y["\u0275\u0275nextContext"]().delete(n)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](3,En,"INPROGRESS"===t.status,"DONE"===t.status)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate"]("ngbPopover",t.text),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](t.text)}}let Dn=(()=>{class t{constructor(t,e,n,i,r,a){this.shoppinglistService=t,this.route=e,this.habitService=n,this.habitAssignService=i,this.localStorageService=r,this.translate=a,this.itemForm=new qe.k({item:new qe.h("",[qe.H.required,qe.H.minLength(3),qe.H.maxLength(18)])}),this.list=[],this.newList=new y.EventEmitter,this.destroySub=new ht.a}ngOnInit(){this.subscribeToLangChange(),this.route.params.subscribe(t=>{this.habitId=+t.habitId}),this.checkIfAssigned(),this.subscription=this.shoppinglistService.getList().pipe(Object(_.a)(this.destroySub)).subscribe(t=>{this.list=t,this.newList.emit(this.list)})}getListItems(t){t?this.getCustomItems():this.getDefaultItems()}getDefaultItems(){this.habitService.getHabitById(this.habitId).pipe(Object(v.a)(1)).subscribe(t=>{this.shoppinglistService.fillList(t.shoppingListItems)})}getCustomItems(){this.habitAssignService.getCustomHabit(this.habitId).pipe(Object(v.a)(1)).subscribe(t=>{this.shoppinglistService.fillList(t.shoppingListItems)})}bindLang(t){this.translate.setDefaultLang(t)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(t=>{this.bindLang(t),this.checkIfAssigned()})}checkIfAssigned(){this.habitAssignService.getAssignedHabits().pipe(Object(v.a)(1)).subscribe(t=>{t.some(t=>t.habit.id===this.habitId)?this.getListItems(!0):this.getListItems(!1)})}add(t){this.shoppinglistService.addItem(t)}delete(t){this.shoppinglistService.deleteItem(t)}select(t){this.shoppinglistService.select(t)}ngOnDestroy(){this.subscription.unsubscribe(),this.langChangeSub.unsubscribe(),this.destroySub.next(!0),this.destroySub.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](In),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](w),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](c.e))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-edit-shopping-list"]],inputs:{habitShoppingListIniteal:"habitShoppingListIniteal"},outputs:{newList:"newList"},decls:10,vars:6,consts:[[1,"title"],[1,"checkbox-list"],[4,"ngFor","ngForOf"],[3,"formGroup"],["id","add-field","type","text","formControlName","item","autocomplete","off"],["newItem",""],["id","add-btn","type","submit","value","+",3,"disabled","click"],["btn",""],[3,"ngClass"],["type","checkbox",3,"change"],[1,"checkmark"],["triggers","mouseenter:mouseleave","placement","top","data-container","body",1,"text",3,"ngbPopover"],["id","del-btn",3,"click"]],template:function(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"ul",1),y["\u0275\u0275template"](4,Fn,7,6,"li",2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"form",3),y["\u0275\u0275element"](6,"input",4,5),y["\u0275\u0275elementStart"](8,"input",6,7),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](t);const n=y["\u0275\u0275reference"](7),i=y["\u0275\u0275reference"](9);return e.add(n.value),n.value="",i.disabled=!0})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,4,"user.habit.shopping")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.list),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("formGroup",e.itemForm),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("disabled",!e.itemForm.valid))},directives:[o.t,qe.J,qe.u,qe.l,qe.d,qe.t,qe.j,o.r,a.e],pipes:[c.d],styles:['.title[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:18px;line-height:24px;height:20px;margin-bottom:20px}.popover[_ngcontent-%COMP%]{font-size:25px}.checkbox-list[_ngcontent-%COMP%]{list-style-type:none;padding:0 0 19px;margin:0;overflow:hidden;overflow-y:scroll;height:115px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;margin:0 0 10px;height:30px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{height:17px;width:150px;font-style:normal;font-weight:400;font-size:14px;line-height:17px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;margin:0 0 20px;display:flex;align-items:center;cursor:pointer;position:relative}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:block;height:0;opacity:0;width:0}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{border:1px solid var(--primary-green);border-radius:1px;height:12px;width:12px;margin-right:8px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{border:solid var(--primary-white);border-width:0 1px 1px 0;content:"";width:4px;height:7px;left:4px;top:4px;position:absolute;transform:rotate(45deg);display:none}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--primary-green)}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   #del-btn[_ngcontent-%COMP%]{height:12px;width:12px;background-image:url(cross.8201d04a22b54652b56f.svg);background-color:none;border:none;position:absolute;left:90%}form[_ngcontent-%COMP%]{position:relative;top:10px}form[_ngcontent-%COMP%]   #add-field[_ngcontent-%COMP%]{width:80%;height:26px;font-size:14px;padding:8px;border:1px solid var(--quintynary-light-grey);border-radius:4px}form[_ngcontent-%COMP%]   #add-btn[_ngcontent-%COMP%]{width:25px;height:25px;padding:0;border:none;border-radius:50%;background:var(--primary-green);color:var(--primary-white);margin-left:10px}.selected[_ngcontent-%COMP%]{color:var(--primary-green)}.done[_ngcontent-%COMP%]{text-decoration:line-through}@media (min-width:520px){.checkbox-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:60%;top:1260px}}@media (min-width:1180px){.checkbox-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;top:760px;left:80%}}']}),t})(),An=(()=>{class t{constructor(t,e){this.elm=t,this.renderer=e,this.min=null,this.max=null,this.min=this.elm.nativeElement.min,this.max=this.elm.nativeElement.max}ngAfterViewInit(){this.durationProgres=this.elm.nativeElement.value,this.calcGradientVal(),this.renderer.setStyle(this.elm.nativeElement,"background-image",`linear-gradient(90deg,\n      rgb(19, 170, 87) 0%,\n      rgb(19, 170, 87) ${this.gradientProgres}%,\n      rgb(212, 224, 222) ${this.gradientProgres}%,\n      rgb(212, 224, 222) 100%)`)}onInput(){this.durationProgres=this.elm.nativeElement.value,this.calcGradientVal(),this.setGradient(`linear-gradient(90deg,\n      rgb(19, 170, 87) 0%,\n      rgb(19, 170, 87) ${this.gradientProgres}%,\n      rgb(212, 224, 222) ${this.gradientProgres}%,\n      rgb(212, 224, 222) 100%)`)}setGradient(t){this.renderer.setStyle(this.elm.nativeElement,"background-image",t)}calcGradientVal(){this.gradientProgres=(this.durationProgres-this.min)/(this.max-this.min)*100}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](y.ElementRef),y["\u0275\u0275directiveInject"](y.Renderer2))},t.\u0275dir=y["\u0275\u0275defineDirective"]({type:t,selectors:[["","appGradient",""]],hostBindings:function(t,e){1&t&&y["\u0275\u0275listener"]("input",(function(){return e.onInput()}))}}),t})(),Ln=(()=>{class t{constructor(t,e){this.elm=t,this.renderer=e,this.changeDuration=new y.EventEmitter,this.newDuration=0,this.habitDuration=new qe.h(""),this.position=null,this.thumbWidth="12px"}ngOnInit(){this.habitDuration.setValue(this.habitDurationInitial),this.updateDuration(),this.getRangeWidth(),this.getRangeMin(),this.getRangeMax(),this.getThumbWidth(),this.getThumbLabelWidth()}updateDuration(){const t=(this.getRangeWidth()-this.getThumbWidth())/(this.getRangeMax()-this.getRangeMin()),e=this.getThumbLabelWidth()/2-this.getThumbWidth()/2;this.position=(this.habitDuration.value-this.getRangeMin())*t-e+"px",this.renderer.setStyle(this.elm.nativeElement.children[1],"left",this.position),this.changeDuration.emit(this.habitDuration.value),this.newDuration=this.habitDuration.value}getRangeWidth(){return this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).clientWidth}getRangeMin(){return+this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).getAttribute("min")}getRangeMax(){return+this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).getAttribute("max")}getThumbLabelWidth(){return this.elm.nativeElement.getElementsByClassName("thumbLabel").item(0).clientWidth}getThumbWidth(){return parseInt(this.thumbWidth,10)}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](y.ElementRef),y["\u0275\u0275directiveInject"](y.Renderer2))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-habit-duration"]],inputs:{habitDurationInitial:"habitDurationInitial"},outputs:{changeDuration:"changeDuration"},decls:18,vars:19,consts:[[1,"title"],[1,"thumbLabel"],["type","range","min","7","max","56","step","1","appGradient","",1,"form-control-range",3,"formControl","input"],["range",""],[1,"rangeLabel"],[1,"text"],[1,"message"]],template:function(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",1),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"input",2,3),y["\u0275\u0275listener"]("input",(function(){return e.updateDuration()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",4),y["\u0275\u0275elementStart"](9,"div",5),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",5),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"div",6),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,9,"user.habit.duration.title")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate2"]("",e.habitDuration.value," ",y["\u0275\u0275pipeBind1"](5,11,"user.habit.duration.day"),""),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("formControl",e.habitDuration),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate2"]("",t.min," ",y["\u0275\u0275pipeBind1"](11,13,"user.habit.duration.day"),""),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate2"]("",t.max," ",y["\u0275\u0275pipeBind1"](14,15,"user.habit.duration.day"),""),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,17,"user.habit.duration.text"))}},directives:[qe.C,qe.d,An,qe.t,qe.i],pipes:[c.d],styles:[".title[_ngcontent-%COMP%]{font-size:18px;line-height:24px;height:20px;margin-bottom:28px}.thumbLabel[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-style:normal;font-weight:600}.thumbLabel[_ngcontent-%COMP%]{width:90px;height:50px;padding:15px 10px;position:relative;top:0;background-image:url(duration-thumb-label.f22ec00ed20470f557a2.png);font-family:var(--secondary-font);font-size:16px;line-height:16px;align-items:center;text-align:center}.rangeLabel[_ngcontent-%COMP%]{height:16px;display:flex;justify-content:space-between;margin-bottom:32px}.rangeLabel[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:11px}.message[_ngcontent-%COMP%], .rangeLabel[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;line-height:16px;color:#6a8079}.message[_ngcontent-%COMP%]{font-size:12px}input[type=range].form-control-range[_ngcontent-%COMP%]{width:100%;margin:4px 0;background-color:transparent;border-radius:26px;-webkit-appearance:none}input[type=range].form-control-range[_ngcontent-%COMP%]:focus{outline:none}input[type=range].form-control-range[_ngcontent-%COMP%]::-webkit-slider-runnable-track{border-radius:26px;width:100%;height:4px;cursor:pointer}input[type=range].form-control-range[_ngcontent-%COMP%]::-webkit-slider-thumb{margin-top:-4px;width:12px;height:12px;background:var(--primary-green);border-radius:6px;cursor:pointer;-webkit-appearance:none}input[type=range].form-control-range[_ngcontent-%COMP%]::-moz-range-track{background:var(--primary-green);border-radius:26px;width:100%;height:4px;cursor:pointer}input[type=range].form-control-range[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;background:var(--primary-green);border-radius:6px;cursor:pointer}.form-control-range[_ngcontent-%COMP%]::-webkit-fill-lower{background-color:var(--primary-green);border-radius:52px}.form-control-range[_ngcontent-%COMP%]::-webkit-fill-upper{background-color:#bbbebd;border-radius:52px}"]}),t})();function Tn(t,e){1&t&&y["\u0275\u0275element"](0,"img",27),2&t&&y["\u0275\u0275property"]("src",e.$implicit,y["\u0275\u0275sanitizeUrl"])}function zn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",28),y["\u0275\u0275elementStart"](1,"app-habit-duration",29),y["\u0275\u0275listener"]("changeDuration",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().getDuration(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("habitDurationInitial",t.initialDuration)}}function jn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",30),y["\u0275\u0275elementStart"](1,"button",31),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().cancel()})),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",32),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().addHabit()})),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"user.habit.btn.cancel")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,4,"user.habit.btn.add")," "))}function Nn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",30),y["\u0275\u0275elementStart"](1,"button",33),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().deleteHabit()})),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",34),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().updateHabit()})),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,2,"user.habit.btn.give-up")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,4,"user.habit.btn.save")," "))}let Bn=(()=>{class t{constructor(t,e,n,i,r,a,o){this.route=t,this.router=e,this.habitService=n,this.snackBar=i,this.habitAssignService=r,this.localStorageService=a,this.translate=o,this.isAssigned=!1,this.whiteStar="assets/img/icon/star-2.png",this.greenStar="assets/img/icon/star-1.png",this.stars=[this.whiteStar,this.whiteStar,this.whiteStar]}ngOnInit(){this.getUserId(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.route.params.subscribe(t=>{this.habitId=+t.habitId}),this.checkIfAssigned()}bindLang(t){this.translate.setDefaultLang(t)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(t=>{this.bindLang(t),this.checkIfAssigned()})}initHabitData(t){this.habitResponse=t,this.getStars(t.complexity),this.initialDuration=t.defaultDuration,this.initialShoppingList=t.shoppingListItems}getDefaultItems(){this.habitService.getHabitById(this.habitId).pipe(Object(v.a)(1)).subscribe(t=>{this.initHabitData(t)})}getCustomItems(){this.habitAssignService.getCustomHabit(this.habitId).pipe(Object(v.a)(1)).subscribe(t=>{this.initHabitData(t)})}getStars(t){for(this.star=0;this.star<t;this.star++)this.stars[this.star]=this.greenStar}goToMyHabits(){this.router.navigate([`/profile/${this.userId}/allhabits`])}getUserId(){this.userId=localStorage.getItem("userId")}getDuration(t){this.newDuration=t}getList(t){this.newList=t}checkIfAssigned(){this.habitAssignService.getAssignedHabits().pipe(Object(v.a)(1)).subscribe(t=>{for(const e of t)if(e.habit.id===this.habitId){this.isAssigned=!0;break}this.isAssigned?this.getCustomItems():this.getDefaultItems()})}cancel(){this.router.navigate(["profile",this.userId])}addHabit(){const t=this.newList.filter(t=>!0===t.selected).map(t=>t.id);this.habitAssignService.assignCustomHabit(this.habitId,this.newDuration,t).pipe(Object(v.a)(1)).subscribe(()=>{this.router.navigate(["profile",this.userId]),this.snackBar.openSnackBar("habitAdded")})}updateHabit(){const t=this.newList.filter(t=>!0===t.selected).map(t=>t.id);this.habitAssignService.updateHabit(this.habitId,this.newDuration,t).pipe(Object(v.a)(1)).subscribe(()=>{this.router.navigate(["profile",this.userId]),this.snackBar.openSnackBar("habitUpdated")})}deleteHabit(){this.habitAssignService.deleteHabitById(this.habitId).pipe(Object(v.a)(1)).subscribe(()=>{this.router.navigate(["profile",this.userId]),this.snackBar.openSnackBar("habitDeleted")})}ngOnDestroy(){this.langChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](w),y["\u0275\u0275directiveInject"](D.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](c.e))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-new-habit"]],decls:42,vars:19,consts:[[1,"wrapper"],[1,"backToMyHabits",3,"click"],[1,"arrow"],[1,"text"],[1,"habitContainer"],[1,"habitInfo"],[1,"header"],[1,"tags"],[1,"line"],[1,"aquired"],[1,"stars"],["alt","star",3,"src",4,"ngFor","ngForOf"],[1,"habitTitle"],[1,"description"],[1,"habitImg"],["alt","",1,"img",3,"src"],[1,"habitEdit"],[1,"divider"],[1,"containerHabitEdit"],[1,"habitProgress"],[1,"habitInfoRightBlock"],[1,"inviteFriends"],[1,"durationShoping"],["class","duration",4,"ngIf"],[1,"shopping"],[3,"newList"],["class","add-habit-container",4,"ngIf"],["alt","star",3,"src"],[1,"duration"],[3,"habitDurationInitial","changeDuration"],[1,"add-habit-container"],[1,"primary-global-button","cancel-habit-button",3,"click"],["type","submit",1,"primary-global-button","add-habit-button",3,"click"],["type","submit",1,"primary-global-button","delete-habit-button",3,"click"],["type","submit",1,"primary-global-button","save-habit-button",3,"click"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275listener"]("click",(function(){return e.goToMyHabits()})),y["\u0275\u0275element"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",4),y["\u0275\u0275elementStart"](7,"div",5),y["\u0275\u0275elementStart"](8,"div",6),y["\u0275\u0275elementStart"](9,"div",7),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](12,"div",8),y["\u0275\u0275elementStart"](13,"div",9),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](16,"div",8),y["\u0275\u0275elementStart"](17,"div",10),y["\u0275\u0275template"](18,Tn,1,1,"img",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"div",12),y["\u0275\u0275text"](20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",13),y["\u0275\u0275elementStart"](22,"p"),y["\u0275\u0275text"](23),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"div",14),y["\u0275\u0275element"](25,"img",15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",16),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](29,"div",17),y["\u0275\u0275elementStart"](30,"div",18),y["\u0275\u0275elementStart"](31,"div",19),y["\u0275\u0275element"](32,"app-habit-progress"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",20),y["\u0275\u0275elementStart"](34,"div",21),y["\u0275\u0275element"](35,"app-habit-invite-friends"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"div",22),y["\u0275\u0275template"](37,zn,2,1,"div",23),y["\u0275\u0275elementStart"](38,"div",24),y["\u0275\u0275elementStart"](39,"app-habit-edit-shopping-list",25),y["\u0275\u0275listener"]("newList",(function(t){return e.getList(t)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](40,jn,7,6,"div",26),y["\u0275\u0275template"](41,Nn,7,6,"div",26),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,11,"user.habit.btn.back-to-habit")),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,13,"user.habit.header.tags")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,15,"user.habit.header.aquired")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",e.stars),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e.habitResponse?null:e.habitResponse.habitTranslation.name," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",null==e.habitResponse?null:e.habitResponse.habitTranslation.description," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",null==e.habitResponse?null:e.habitResponse.image,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](28,17,"user.habit.info")),y["\u0275\u0275advance"](10),y["\u0275\u0275property"]("ngIf",e.habitResponse),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!e.isAssigned),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isAssigned))},directives:[o.t,Pn,kn,o.u,Dn,Ln],pipes:[c.d],styles:[".wrapper[_ngcontent-%COMP%]{max-width:1170px;margin:-30px auto 30px;padding:0 15px}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]{height:30px;display:flex;flex-direction:row;align-items:flex-start;margin-bottom:4px;padding:4px 0 0 4px;color:var(--secondary-dark-green);cursor:pointer}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:5px;height:7px;margin-right:6px;align-self:center;background:url(/assets/img/profile/icons/back-arrow.svg) no-repeat}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:22px;display:flex;align-self:center;-webkit-text-decoration-line:underline;text-decoration-line:underline}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]{height:360px;padding:20px 0 0;margin-bottom:24px;display:flex;flex-direction:row;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:24px;display:flex;align-items:center;color:var(--primary-green);margin-bottom:8px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{font-style:regular;font-size:14px;letter-spacing:1px;text-transform:uppercase;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;width:88px;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:1px;height:18px;margin:0 18px;background-image:url(/assets/img/profile/icons/line.svg)}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .habitTitle[_ngcontent-%COMP%]{margin-bottom:16px;font-family:var(--secondary-font);font-size:36px;font-style:normal;font-weight:500;line-height:48px;letter-spacing:0;text-align:left}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--primary-black);max-width:652px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitImg[_ngcontent-%COMP%]{width:395px;align-self:flex-end;margin-left:25px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitImg[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:395px}.wrapper[_ngcontent-%COMP%]   .habitEdit[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:35px;color:var(--secondary-dark-grey)}.wrapper[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;margin:18px 0 40px;background-color:var(--secondary-light-grey)}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitProgress[_ngcontent-%COMP%]{width:554px;height:468px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitProgress[_ngcontent-%COMP%]{padding:36px;background-color:var(--secondary-light-grey);border-radius:8px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .inviteFriends[_ngcontent-%COMP%]{width:554px;height:182px;padding:12px;background:var(--secondary-light-grey);border-radius:8px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:554px;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]   .shopping[_ngcontent-%COMP%]{width:261px;height:254px;background:var(--secondary-light-grey);border-radius:8px;padding:24px;font-family:var(--secondary-font)}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]{margin-top:60px;width:100%;display:flex;flex-direction:row;justify-content:flex-end}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .add-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .save-habit-button[_ngcontent-%COMP%]{width:160px;height:48px}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%]{margin-right:40px;background-color:var(--primary-white);color:var(--primary-green)}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%]:hover, .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%]:hover{border:3px solid var(--primary-green)}@media screen and (max-width:1200px){.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]{justify-content:center}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .inviteFriends[_ngcontent-%COMP%]{margin:32px auto}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]{width:554px}}"]}),t})();var Rn=n("Kj3r");function Vn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"p",9),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275classProp"]("friend-mutual-link",!t.userId),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",t.friend.mutualFriends," ",y["\u0275\u0275pipeBind1"](3,4,"profile.friends.mutual-friends"),"")}}let Hn=(()=>{class t{constructor(t,e){this.router=t,this.route=e,this.friendEventEmit=new y.EventEmitter,this.userId=+this.route.snapshot.params.userId}friendEvent(t){this.friendEventEmit.emit(t)}toUsersInfo(){this.userId||this.router.navigate([this.friend.name,this.friend.id],{relativeTo:this.route,queryParams:{tab:"All firends",index:3}})}showMutualFriends(){this.router.navigate([this.friend.name,this.friend.id],{relativeTo:this.route,queryParams:{tab:"Mutual friends",index:4}})}clickHandler(t){const e=t.target;"BUTTON"===e.tagName?this.friendEvent(this.friend.id):"SPAN"!==e.tagName||this.userId?this.toUsersInfo():this.showMutualFriends()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](k.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-friend-item"]],inputs:{friend:"friend",btnName:"btnName"},outputs:{friendEventEmit:"friendEventEmit"},decls:14,vars:12,consts:[[1,"friend-item",3,"click"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-info"],[1,"main-info",3,"ngClass"],[1,"friend-name"],[1,"friend-rate",3,"ngClass"],["class","friend-mutual",4,"ngIf"],[1,"friend-city"],[1,"friend-btn"],[1,"friend-mutual"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275listener"]("click",(function(t){return e.clickHandler(t)})),y["\u0275\u0275element"](1,"app-user-profile-image",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275elementStart"](4,"p",4),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p",5),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,Vn,4,6,"p",6),y["\u0275\u0275elementStart"](9,"p",7),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",8),y["\u0275\u0275elementStart"](12,"button"),y["\u0275\u0275text"](13),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275styleProp"]("cursor",e.userId?"default":"pointer"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("imgPath",e.friend.profilePicturePath)("firstName",e.friend.name)("additionalImgClass","friend-item"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",e.friend.profilePicturePath?"friend-with-photo":"friend-without-photo"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.friend.name),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",e.friend.profilePicturePath?"rate-with-photo":"rate-without-photo"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.friend.rating," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.friend.mutualFriends>0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.friend.city),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](e.btnName))},directives:[Z.a,o.r,o.u],pipes:[c.d],styles:['.friend-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:554px;height:194px;padding:24px;border-radius:8px;box-shadow:0 0 7px var(--tertiary-light-grey);margin:7px 16px}.friend-item[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{box-sizing:border-box;background:var(--primary-white);font-family:var(--primary-font)}button[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;text-align:center;border-radius:4px;width:104px;height:36px;color:var(--primary-green);border:1px solid var(--primary-green)}.rate-with-photo[_ngcontent-%COMP%]{background:rgba(19,170,87,.12)}.rate-with-photo[_ngcontent-%COMP%]:before{content:"Rate:"}.friend-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:28px;margin:2px}.friend-city[_ngcontent-%COMP%], .friend-mutual[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:var(--quaternary-grey);margin:2px}.friend-city[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%], .friend-mutual[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]{transition:.2s}.friend-city[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]:hover, .friend-mutual[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]:hover{color:var(--tertiary-dark-grey)}.friend-rate[_ngcontent-%COMP%]{color:var(--primary-green);font-family:var(--quaternary-font);font-weight:600;font-size:12px;line-height:16px;width:89px;height:24px;border-radius:4px;display:flex;justify-content:center;align-items:center;margin:2px}.friend-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;flex:3;margin-left:28px}.friend-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-end;flex:1}.friend-img[_ngcontent-%COMP%]{flex:1}.friend-with-photo[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.friend-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rate-without-photo[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-family:var(--primary-font);width:40px;background:none}@media only screen and (min-width:768px){.friend-item[_ngcontent-%COMP%]{width:554px;flex-direction:row}}@media only screen and (min-width:576px){.friend-item[_ngcontent-%COMP%]{justify-content:center}}']}),t})();function qn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-friend-item",6),y["\u0275\u0275listener"]("friendEventEmit",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](2).handleDeleteFriend(e)})),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("btnName",y["\u0275\u0275pipeBind1"](2,2,"profile.friends.delete-friend")),y["\u0275\u0275property"]("friend",t)}}function $n(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275template"](1,qn,3,4,"div",5),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.friends)}}function Wn(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}const Un=function(t){return{searchQuery:t}};function Yn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"p",11),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,1,"search.search-not-found.not-found-text",y["\u0275\u0275pureFunction1"](4,Un,t.searchQuery))," ")}}function Gn(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"p",11),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"profile.zero-friends")))}function Qn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",7),y["\u0275\u0275template"](2,Yn,3,6,"p",8),y["\u0275\u0275elementStart"](3,"div",9),y["\u0275\u0275element"](4,"img",10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div"),y["\u0275\u0275template"](6,Gn,3,3,"p",8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.emptySearchList),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",t.absent,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!t.emptySearchList)}}let Xn=(()=>{class t{constructor(t,e,n){this.userFriendsService=t,this.localStorageService=e,this.matSnackBar=n,this.friends=[],this.destroy$=new ht.a,this.scroll=!1,this.currentPage=0,this.emptySearchList=!1,this.searchQuery="",this.isFetching=!1,this.searchMode=!1,this.absent="assets/img/noNews.jpg"}ngOnInit(){this.initUser(),this.getAllFriends(this.userId,this.currentPage)}getAllFriends(t,e){this.isFetching=!0,this.userFriendsService.getAllFriends(t,e).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.totalPages=t.totalPages,this.friends=this.friends.concat(t.page),this.isFetching=!1,this.emptySearchList=!1,this.scroll=!1},t=>{this.matSnackBar.openSnackBar("snack-bar.error.default"),this.isFetching=!1})}findFriendByName(t){this.isFetching=!0,this.searchQuery=t,this.searchMode=!0,this.userFriendsService.findFriendByName(t).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.emptySearchList=!t.page.length,this.friends=t.page,this.isFetching=!1,this.searchMode=!1},t=>{this.matSnackBar.openSnackBar("snack-bar.error.default"),this.isFetching=!1,this.searchMode=!1})}deleteFriendsFromList(t,e){const n=e.findIndex(e=>e.id===t);e.splice(n,1)}onScroll(){this.scroll||this.emptySearchList||(this.scroll=!0,this.currentPage<this.totalPages&&(this.currentPage+=1,this.getAllFriends(this.userId,this.currentPage)))}handleDeleteFriend(t){this.userFriendsService.deleteFriend(this.userId,t).pipe(Object(_.a)(this.destroy$)).subscribe(()=>{this.deleteFriendsFromList(t,this.friends)})}initUser(){this.localStorageService.userIdBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.userId=t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](D.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-all-friends"]],decls:6,vars:5,consts:[[1,"friends-list"],["class","container",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"container"],[4,"ngFor","ngForOf"],[3,"friend","btnName","friendEventEmit"],[1,"noFriends-wraper"],["class","noFriends",4,"ngIf"],[1,"img-absent"],["alt","absent-friends",3,"src"],[1,"noFriends"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",0),y["\u0275\u0275template"](2,$n,2,1,"div",1),y["\u0275\u0275template"](3,Wn,1,0,"app-spinner",2),y["\u0275\u0275elementStart"](4,"div",3),y["\u0275\u0275listener"]("scrolled",(function(){return e.onScroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Qn,7,3,"div",2)),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!e.searchMode||!e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0===(null==e.friends?null:e.friends.length)&&!e.isFetching))},directives:[o.u,E.a,o.t,Hn,T.a],pipes:[c.d],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;margin:auto;padding:0;min-width:95%}@media only screen and (min-width:1224px){.container[_ngcontent-%COMP%]{justify-content:center}}.noFriends-wraper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px}.noFriends-wraper[_ngcontent-%COMP%]   .noFriends[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}.friends-list[_ngcontent-%COMP%]{margin:44px auto 30px}"]}),t})();function Kn(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-friend-item",7),y["\u0275\u0275listener"]("friendEventEmit",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](2).addFriend(e)})),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("btnName",y["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),y["\u0275\u0275property"]("friend",t)}}function Zn(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275template"](1,Kn,3,4,"div",6),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.recommendedFriends)}}function Jn(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}const ti=function(t){return{searchQuery:t}};function ei(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"p",12),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,1,"search.search-not-found.not-found-text",y["\u0275\u0275pureFunction1"](4,ti,t.searchQuery))," ")}}function ni(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",8),y["\u0275\u0275template"](1,ei,3,6,"p",9),y["\u0275\u0275elementStart"](2,"div",10),y["\u0275\u0275element"](3,"img",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](4,"div"),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.emptySearchList),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",t.absent,y["\u0275\u0275sanitizeUrl"])}}let ii=(()=>{class t{constructor(t,e,n){this.userFriendsService=t,this.localStorageService=e,this.matSnackBar=n,this.recommendedFriends=[],this.destroy$=new ht.a,this.scroll=!1,this.currentPage=0,this.isFetching=!1,this.emptySearchList=!1,this.sizePage=10,this.searchQuery="",this.searchMode=!1,this.absent="assets/img/noNews.jpg"}ngOnInit(){this.initUser(),this.getPossibleFriends(this.userId,this.currentPage)}findUserByName(t){this.searchQuery=t,this.isFetching=!0,this.searchMode=!0,this.userFriendsService.findNewFriendsByName(t).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.emptySearchList=!t.page.length,this.recommendedFriends=t.page,this.isFetching=!1,this.searchMode=!1},t=>{this.matSnackBar.openSnackBar("snack-bar.error.default"),this.isFetching=!1,this.searchMode=!1})}deleteFriendsFromList(t,e){const n=e.findIndex(e=>e.id===t);e.splice(n,1)}getPossibleFriends(t,e){this.isFetching=!0,this.userFriendsService.getPossibleFriends(t,e).subscribe(t=>{this.totalPages=t.totalPages,this.recommendedFriends=this.recommendedFriends.concat(t.page),this.emptySearchList=!1,this.isFetching=!1,this.scroll=!1},t=>{this.matSnackBar.openSnackBar("snack-bar.error.default"),this.isFetching=!1})}onScroll(){this.scroll||this.emptySearchList||(this.scroll=!0,this.currentPage<this.totalPages&&(this.currentPage+=1,this.getPossibleFriends(this.userId,this.currentPage)))}addFriend(t){this.userFriendsService.addFriend(this.userId,t).pipe(Object(_.a)(this.destroy$)).subscribe(()=>{this.deleteFriendsFromList(t,this.recommendedFriends)})}initUser(){this.localStorageService.userIdBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.userId=t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](D.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-recommended-friends"]],decls:6,vars:5,consts:[[1,"friends-recommended-list"],["class","container",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","noFriends-wraper",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[3,"friend","btnName","friendEventEmit"],[1,"noFriends-wraper"],["class","noFriends",4,"ngIf"],[1,"img-absent"],["alt","absent-friends",3,"src"],[1,"noFriends"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",0),y["\u0275\u0275template"](2,Zn,2,1,"div",1),y["\u0275\u0275template"](3,Jn,1,0,"app-spinner",2),y["\u0275\u0275elementStart"](4,"div",3),y["\u0275\u0275listener"]("scrolled",(function(){return e.onScroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,ni,5,2,"div",4),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!e.searchMode||!e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("infiniteScrollDistance",1)("infiniteScrollThrottle",500),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.isFetching&&e.emptySearchList&&0===e.recommendedFriends.length))},directives:[o.u,E.a,o.t,Hn,T.a],pipes:[c.d],styles:[".friends-recommended-list[_ngcontent-%COMP%]{margin-top:50px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;margin:auto;padding:0;min-width:95%}.search_not-found-text[_ngcontent-%COMP%]{color:var(--secondary-dark-grey);font-family:var(--secondary-font);font-size:1.3rem;margin:0 auto 40px}.noFriends-wraper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px}.noFriends-wraper[_ngcontent-%COMP%]   .noFriends[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}@media only screen and (min-width:1224px){.container[_ngcontent-%COMP%]{justify-content:center}}"]}),t})(),ri=(()=>{class t{constructor(){this.acceptEvent=new y.EventEmitter,this.declineEvent=new y.EventEmitter}accept(t){this.acceptEvent.emit(t)}decline(t){this.declineEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-request-item"]],inputs:{request:"request",btnName:"btnName"},outputs:{acceptEvent:"acceptEvent",declineEvent:"declineEvent"},decls:20,vars:18,consts:[[1,"request-item"],[1,"request-img",3,"imgPath","firstName","additionalImgClass"],[1,"request-info"],[1,"main-info",3,"ngClass"],[1,"request-name"],[1,"request-rate",3,"ngClass"],[1,"request-mutual"],[1,"request-city"],[1,"request-btn"],[3,"click"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275element"](1,"app-user-profile-image",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275elementStart"](4,"p",4),y["\u0275\u0275text"](5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p",5),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"p",6),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"p",7),y["\u0275\u0275text"](12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",8),y["\u0275\u0275elementStart"](14,"button",9),y["\u0275\u0275listener"]("click",(function(){return e.accept(e.request.id)})),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"button",9),y["\u0275\u0275listener"]("click",(function(){return e.decline(e.request.id)})),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("imgPath",e.request.profilePicturePath)("firstName",e.request.name)("additionalImgClass","friend-item"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",e.request.profilePicturePath?"friend-with-photo":"friend-without-photo"),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.request.name),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngClass",e.request.profilePicturePath?"rate-with-photo":"rate-without-photo"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.request.rating),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate2"]("",e.request.mutualFriends," ",y["\u0275\u0275pipeBind1"](10,12,"profile.friends.mutual-friends"),""),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](e.request.city),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](16,14,"profile.friends.request-accept")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,16,"profile.friends.request-decline")))},directives:[Z.a,o.r],pipes:[c.d],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");@import url("https://fonts.googleapis.com/css?family=Montserrat&display=swap");@import url("https://fonts.googleapis.com/css2?family=Lato&display=swap");.request-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px;background:#f8f9fa;padding:24px;border-radius:8px}.request-item[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Lato,sans-serif}button[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;text-align:center;box-sizing:border-box;border-radius:4px;width:104px;height:36px;color:#13aa57;border:1px solid #13aa57;background:#fff}.friend-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.request-with-photo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.request-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rate-without-photo[_ngcontent-%COMP%]{background:none;align-items:flex-end}.rate-with-photo[_ngcontent-%COMP%]{background:rgba(19,170,87,.12);align-items:center}.rate-with-photo[_ngcontent-%COMP%]:before{content:"Rate:"}.request-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:28px;margin:2px}.request-city[_ngcontent-%COMP%], .request-mutual[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:#64727d;margin:2px}.request-rate[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:12px;line-height:16px;width:60px;height:24px;border-radius:4px;display:flex;justify-content:center;color:#13aa57;margin:2px}.request-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;flex:3}.request-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end;flex:1}.request-img[_ngcontent-%COMP%]{flex:1}@media only screen and (min-width:768px){.request-item[_ngcontent-%COMP%]{width:554px;flex-direction:row}}@media only screen and (min-width:576px){.request-item[_ngcontent-%COMP%]{justify-content:center}}']}),t})();function ai(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275element"](3,"img",8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"div"),y["\u0275\u0275elementStart"](5,"p",9),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("src",t.absent,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](7,2,"profile.zero-requests"))}}function oi(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-request-item",10),y["\u0275\u0275listener"]("acceptEvent",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](2).accept(e)}))("declineEvent",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"](2).decline(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("request",t)}}function si(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275template"](2,ai,8,4,"div",3),y["\u0275\u0275template"](3,oi,2,1,"div",4),y["\u0275\u0275elementStart"](4,"div",5),y["\u0275\u0275listener"]("scrolled",(function(){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().onScroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null!==t.requests&&0===t.requests.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.requests),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500)}}function li(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}let ci=(()=>{class t{constructor(t,e){this.localStorageService=t,this.userFriendsService=e,this.requests=null,this.destroy$=new ht.a,this.currentPage=0,this.absent="assets/img/noNews.jpg"}ngOnInit(){this.initUser(),this.getRequests()}deleteFriendsFromList(t,e){const n=e.findIndex(e=>e.id===t);e.splice(n,1)}accept(t){this.userFriendsService.acceptRequest(this.userId,t).pipe(Object(_.a)(this.destroy$)).subscribe(()=>{this.deleteFriendsFromList(t,this.requests)})}decline(t){this.userFriendsService.declineRequest(this.userId,t).pipe(Object(_.a)(this.destroy$)).subscribe(()=>{this.deleteFriendsFromList(t,this.requests)})}initUser(){this.localStorageService.userIdBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.userId=t)}getRequests(){this.userFriendsService.getRequests(this.userId).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.requests=t.page})}onScroll(){this.scroll=!0,this.currentPage+=1,this.userFriendsService.getRequests(this.userId,this.currentPage).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.requests=this.requests.concat(t.page)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](K))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-friend-requests"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"noRequests-wraper"],[1,"img-absent"],["alt","absent-requests",3,"src"],[1,"noRequests"],[3,"request","acceptEvent","declineEvent"]],template:function(t,e){if(1&t&&(y["\u0275\u0275template"](0,si,5,4,"div",0),y["\u0275\u0275template"](1,li,1,0,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"])),2&t){const t=y["\u0275\u0275reference"](2);y["\u0275\u0275property"]("ngIf",null!==e.requests)("ngIfElse",t)}},directives:[o.u,o.t,E.a,ri,T.a],pipes:[c.d],styles:['@import url("https://fonts.googleapis.com/css?family=Montserrat&display=swap");.container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.container[_ngcontent-%COMP%], .noRequests-wraper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.noRequests-wraper[_ngcontent-%COMP%]{flex-direction:column}.noRequests-wraper[_ngcontent-%COMP%]   .noRequests[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px;font-weight:500;font-style:normal;line-height:48px}']}),t})();function di(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"form",6),y["\u0275\u0275element"](1,"img",7),y["\u0275\u0275elementStart"](2,"input",8,9),y["\u0275\u0275listener"]("input",(function(){y["\u0275\u0275restoreView"](t);const e=y["\u0275\u0275reference"](3);return y["\u0275\u0275nextContext"]().onInput(e)})),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",t.searchIcon,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("placeholder",y["\u0275\u0275pipeBind1"](4,2,"search.search-popup.placeholder"))}}const pi=function(t){return["/profile",t]},hi=function(t){return["/profile",t,"friends"]},gi=function(){return{exact:!0}},ui=function(t){return["/profile",t,"friends","recommended"]},fi=function(t){return["/profile",t,"friends","requests"]};let mi=(()=>{class t{constructor(t,e){this.localStorageService=t,this.translate=e,this.destroy$=new ht.a,this.searchTerm$=new ht.a,this.searchIcon="assets/img/places/search.svg",this.hideInput=!0}ngOnInit(){this.initUser(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.preventFrequentQuery(),this.hideInputField()}preventFrequentQuery(){this.searchTerm$.pipe(Object(Rn.a)(400),Object(_.a)(this.destroy$)).subscribe(t=>{this.searchForFriends(t)})}onInput(t){this.searchTerm$.next(t.value)}onActivate(t){this.componentRef=t}searchForFriends(t){this.componentRef instanceof ii&&this.componentRef.findUserByName(t),this.componentRef instanceof Xn&&this.componentRef.findFriendByName(t)}hideInputField(){this.hideInput=this.componentRef instanceof ci}initUser(){this.localStorageService.userIdBehaviourSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.userId=t)}bindLang(t){this.translate.setDefaultLang(t)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(this.bindLang.bind(this))}ngOnDestroy(){this.langChangeSub.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.searchTerm$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](P.a),y["\u0275\u0275directiveInject"](c.e))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-friend-dashboard"]],decls:21,vars:34,consts:[[1,"container"],[1,"profile-link",3,"routerLink"],[1,"friends"],["name","searchForm","class","searchField",4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[3,"activate"],["name","searchForm",1,"searchField"],["alt","search-friend",3,"src"],["type","text",1,"search",3,"placeholder","input"],["search",""]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"a",1),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"div",2),y["\u0275\u0275elementStart"](5,"h1"),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div"),y["\u0275\u0275template"](9,di,5,4,"form",3),y["\u0275\u0275elementStart"](10,"span"),y["\u0275\u0275elementStart"](11,"a",4),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"a",4),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"a",4),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"router-outlet",5),y["\u0275\u0275listener"]("activate",(function(t){return e.onActivate(t)})),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](23,pi,e.userId)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("<",y["\u0275\u0275pipeBind1"](3,13,"profile.friends.link-to-profile"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](7,15,"profile.friends.friends")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!e.hideInput),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](25,hi,e.userId))("routerLinkActiveOptions",y["\u0275\u0275pureFunction0"](27,gi)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,17,"profile.friends.all-friends")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](28,ui,e.userId))("routerLinkActiveOptions",y["\u0275\u0275pureFunction0"](30,gi)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,19,"profile.friends.search-friends")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](31,fi,e.userId))("routerLinkActiveOptions",y["\u0275\u0275pureFunction0"](33,gi)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](19,21,"profile.friends.requests")," "))},directives:[k.j,o.u,k.i,k.l,qe.J,qe.u,qe.v],pipes:[c.d],styles:[".container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--primary-green)}.container[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-family:var(--primary-font)}.container[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:48px;line-height:48px;font-family:var(--secondary-font)}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]{display:inline;position:relative}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:426px;height:36px;border:1px solid var(--quintynary-light-grey);border-radius:4px;padding:8px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 3px 0 var(--quintynary-light-grey)}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--ubs-primary-light-grey);font-family:var(--primary-font);font-size:14px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--ubs-primary-light-grey);font-family:var(--primary-font);font-size:14px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:1px;right:13px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--primary-font);color:var(--ubs-quaternary-dark-grey);margin:0 16px;font-size:16px;line-height:18.75px}.container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--primary-green);padding:5px 5px 0;text-decoration:none}@media (max-width:992px){.container[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:30px;max-width:35%}}"]}),t})();var bi=n("F2BE");function vi(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-friend-item",11),y["\u0275\u0275listener"]("friendEventEmit",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().addFriend(e)})),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("btnName",y["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),y["\u0275\u0275property"]("friend",t)}}function xi(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}function yi(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"h3",12),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](4,"img",5),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"profile.zero-user-friends")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",t.absentContent,y["\u0275\u0275sanitizeUrl"])}}function Ci(t,e){if(1&t){const t=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"app-friend-item",11),y["\u0275\u0275listener"]("friendEventEmit",(function(e){return y["\u0275\u0275restoreView"](t),y["\u0275\u0275nextContext"]().addFriend(e)})),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("btnName",y["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),y["\u0275\u0275property"]("friend",t)}}function _i(t,e){1&t&&y["\u0275\u0275element"](0,"app-spinner")}function Mi(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"h3",12),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](4,"img",5),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"profile.zero-user-friends")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",t.absentContent,y["\u0275\u0275sanitizeUrl"])}}let Pi=(()=>{class t{constructor(t,e,n,i){this.userFriendsService=t,this.route=e,this.router=n,this.location=i,this.destroy$=new ht.a,this.scroll=!1,this.currentFriendPage=0,this.currentMutualPage=0,this.isActiveInfinityScroll=!1,this.isFetching=!0,this.friendsList=[],this.mutualFriendsList=[],this.selectedIndex=0,this.absentContent="assets/img/noNews.jpg"}ngOnInit(){this.userId=+this.route.snapshot.params.userId,this.currentUserId=+this.route.snapshot.params.id,this.selectedIndex=+this.route.snapshot.queryParams.index,this.isActiveInfinityScroll=3===this.selectedIndex||4===this.selectedIndex,this.getAllFriends(this.userId),this.getMutualFriends(this.userId)}getAllFriends(t,e){this.isFetching=!0,this.userFriendsService.getAllFriends(t,e).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.numberAllFriends=t.totalElements,this.friendsList=this.friendsList.concat(t.page),this.scroll=!1,this.isFetching=!1})}getMutualFriends(t,e){this.isFetching=!0,this.userFriendsService.getPossibleFriends(t,e).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.numberAllMutualFriends=t.totalElements,this.mutualFriendsList=this.mutualFriendsList.concat(t.page),this.scroll=!1,this.isFetching=!1})}onScroll(){3===this.selectedIndex&&!this.scroll&&this.friendsList.length<this.numberAllFriends&&(this.scroll=!0,this.currentFriendPage+=1,this.getAllFriends(this.userId,this.currentFriendPage)),4===this.selectedIndex&&!this.scroll&&this.mutualFriendsList.length<this.numberAllMutualFriends&&(this.scroll=!0,this.currentMutualPage+=1,this.getMutualFriends(this.userId,this.currentMutualPage))}tabChanged(t){const e=this.router.createUrlTree([],{relativeTo:this.route,queryParams:{tab:t.tab.textLabel,index:t.index}}).toString();this.location.replaceState(e),this.isActiveInfinityScroll=3===t.index||4===t.index}addFriend(t){this.userFriendsService.addFriend(this.currentUserId,t).pipe(Object(_.a)(this.destroy$)).subscribe(()=>{this.friendsList=this.friendsList.filter(e=>e.id!==t)},t=>console.error(t.message))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](k.g),y["\u0275\u0275directiveInject"](o.o))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-friend-profile-dashboard"]],decls:37,vars:37,consts:[[1,"dashboard"],["animationDuration","400ms",3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label"],[1,"img-absent"],[1,"title"],["alt","absent-friends",3,"src"],[1,"friends-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","img-absent",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[3,"friend","btnName","friendEventEmit"],[1,"no-friends"]],template:function(t,e){1&t&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div"),y["\u0275\u0275elementStart"](2,"mat-tab-group",1),y["\u0275\u0275listener"]("selectedTabChange",(function(t){return e.tabChanged(t)}))("selectedIndexChange",(function(t){return e.selectedIndex=t})),y["\u0275\u0275elementStart"](3,"mat-tab",2),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementStart"](5,"div",3),y["\u0275\u0275elementStart"](6,"h3",4),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](9,"img",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"mat-tab",2),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementStart"](12,"div",3),y["\u0275\u0275elementStart"](13,"h3",4),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](16,"img",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"mat-tab",2),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementStart"](19,"div",3),y["\u0275\u0275elementStart"](20,"h3",4),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](23,"img",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"mat-tab",2),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementStart"](26,"div",6),y["\u0275\u0275template"](27,vi,3,4,"div",7),y["\u0275\u0275template"](28,xi,1,0,"app-spinner",8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](29,yi,5,4,"div",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"mat-tab",2),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementStart"](32,"div",6),y["\u0275\u0275template"](33,Ci,3,4,"div",7),y["\u0275\u0275template"](34,_i,1,0,"app-spinner",8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](35,Mi,5,4,"div",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"div",10),y["\u0275\u0275listener"]("scrolled",(function(){return e.onScroll()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t&&(y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("selectedIndex",e.selectedIndex),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](4,21,"user.habit.all-habits.title")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](8,23,"user.habit.all-habits.title")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.absentContent,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](11,25,"user.habit.all-habits.mutual")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,27,"user.habit.all-habits.mutual")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.absentContent,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](18,29,"profile.dashboard.my-habits")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](22,31,"profile.dashboard.my-habits")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("src",e.absentContent,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](25,33,"user.habit.invite.all")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.friendsList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0===e.numberAllFriends&&!e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("label",y["\u0275\u0275pipeBind1"](31,35,"profile.friends.all-mutual-friends")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.mutualFriendsList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0===e.numberAllMutualFriends&&!e.isFetching),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("infiniteScrollDistance",1)("infiniteScrollThrottle",500)("infiniteScrollDisabled",!e.isActiveInfinityScroll))},directives:[Ct.b,Ct.a,o.t,o.u,E.a,Hn,T.a],pipes:[c.d],styles:[".dashboard[_ngcontent-%COMP%]{font-family:var(--primary-font);margin-bottom:30px}.friends-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:25px}.img-absent[_ngcontent-%COMP%]{display:inline-block;width:50%;text-align:center}.no-friends[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}  .mat-tab-header{margin-bottom:24px}  .mat-tab-header,   .mat-tab-nav-bar{border-bottom:none}  .mat-ink-bar,   .mat-tab-header-pagination{display:none}  .mat-tab-labels .mat-tab-label{height:40px;min-width:auto;border-bottom:1px solid var(--quintynary-light-grey);opacity:1}  .mat-tab-label-content{font-family:var(--primary-font);font-size:16px;line-height:24px;font-weight:400;color:var(--quaternary-dark-grey)}  .mat-tab-labels .mat-tab-label-active{border-bottom:1px solid var(--primary-green)}  .mat-tab-labels .mat-tab-label-active .mat-tab-label-content{color:var(--primary-green)}"]}),t})();function wi(t,e){1&t&&y["\u0275\u0275element"](0,"app-eco-places",7)}function Oi(t,e){1&t&&y["\u0275\u0275element"](0,"app-shopping-list",8)}function Si(t,e){if(1&t&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275element"](2,"app-profile-header",3),y["\u0275\u0275element"](3,"app-users-achievements"),y["\u0275\u0275template"](4,wi,1,0,"app-eco-places",4),y["\u0275\u0275template"](5,Oi,1,0,"app-shopping-list",5),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",6),y["\u0275\u0275element"](7,"app-friend-profile-dashboard"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&t){const t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("userInfo",t.userInfo)("progress",t.progress),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.userInfo.showEcoPlace),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.userInfo.showShoppingList)}}let ki=(()=>{class t{constructor(t,e,n,i){this.userFriendsService=t,this.route=e,this.translate=n,this.localStorageService=i,this.destroy$=new ht.a}ngOnInit(){this.translate.setDefaultLang(this.localStorageService.getCurrentLanguage()),this.bindLang(),this.userId=this.route.snapshot.params.userId,this.getUserInfo(this.userId),this.getUserActivities()}bindLang(){this.localStorageService.languageSubject.pipe(Object(_.a)(this.destroy$)).subscribe(t=>this.translate.setDefaultLang(t))}getUserInfo(t){this.userFriendsService.getUserInfo(t).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.userInfo=t})}getUserActivities(){this.userFriendsService.getUserProfileStatistics(this.userId).pipe(Object(_.a)(this.destroy$)).subscribe(t=>{this.progress=t})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(y["\u0275\u0275directiveInject"](K),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](c.e),y["\u0275\u0275directiveInject"](P.a))},t.\u0275cmp=y["\u0275\u0275defineComponent"]({type:t,selectors:[["app-friend-profile-page"]],decls:1,vars:1,consts:[["class","profile-wrapper",4,"ngIf"],[1,"profile-wrapper"],[1,"side-bar"],[1,"app-profile-header",3,"userInfo","progress"],["class","app-eco-places",4,"ngIf"],["class","app-shopping-list",4,"ngIf"],[1,"content"],[1,"app-eco-places"],[1,"app-shopping-list"]],template:function(t,e){1&t&&y["\u0275\u0275template"](0,Si,8,4,"div",0),2&t&&y["\u0275\u0275property"]("ngIf",e.userInfo)},directives:[o.u,lt,pt,Pi,ce,ve],styles:[".profile-wrapper[_ngcontent-%COMP%]{margin:-95px auto 30px;height:100%;display:flex;justify-content:space-between}.profile-wrapper[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:20%;box-shadow:4px 0 8px -4px var(--quintynary-dark-grey)}.profile-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:80%;margin:25px auto auto 25px;height:100%}"]}),t})();const Ii=[{path:"",component:dn,canActivate:[cn.a],children:[{path:":id",component:He},{path:":id/edit",component:sn,canDeactivate:[bi.a]},{path:":id/allhabits",component:G},{path:":id/allhabits/addhabit/:habitId",component:Bn},{path:"",component:He},{path:":id/friends",component:mi,children:[{path:"",component:Xn},{path:"recommended",component:ii},{path:"requests",component:ci}]},{path:":id/friends/:userName/:userId",component:ki},{path:":id/friends/recommended/:userName/:userId",component:ki},{path:"",redirectTo:":id",pathMatch:"full"}]}];let Ei=(()=>{class t{}return t.\u0275mod=y["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[k.k.forChild(Ii)],k.k]}),t})();var Fi=n("PCNd"),Di=n("7itd"),Ai=n("bTqV");let Li=(()=>{class t{}return t.\u0275mod=y["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[$e],imports:[[a.c,Di.GooglePlaceModule,Ei,o.c,u.a,Fi.a,Ai.b,ln.c,h.b,g.b,s.d,l.c,p.a.forRoot({apiKey:i.a.agmCoreModuleApiKey,libraries:["places"]}),c.c.forChild({loader:{provide:c.b,useFactory:Ti,deps:[l.b]},isolate:!0}),E.b,r.a,Ct.c]]}),t})();function Ti(t){return new d.a(t,"./assets/i18n/",".json")}},hSFZ:function(t,e){!function(){"use strict";if("undefined"!=typeof Chart){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n});var t={};["pie","doughnut","polarArea","bar"].forEach((function(e){t[e]=!0})),e.prototype.setup=function(t,e){this.chart=t,this.ctx=t.ctx,this.args={},this.barTotal={};var n=t.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:n.defaultFontSize,fontColor:n.defaultFontColor,fontStyle:n.defaultFontStyle,fontFamily:n.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},e),"bar"===t.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},e.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},e.prototype.renderToDataset=function(t,e){this.totalPercentage=0,this.total=null;var n=this.args[e];n.meta.data.forEach((function(e,i){this.renderToElement(t,n,e,i)}).bind(this))},e.prototype.renderToElement=function(t,e,n,i){if(this.shouldRenderToElement(e.meta,n)){this.percentage=null;var r=this.getLabel(t,n,i);if(r){var a=this.ctx;a.save(),a.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily);var o=this.getRenderInfo(n,r);this.drawable(n,r,o)?(a.beginPath(),a.fillStyle=this.getFontColor(t,n,i),this.renderLabel(r,o),a.restore()):a.restore()}}},e.prototype.renderLabel=function(t,e){return this.options.arc?this.renderArcLabel(t,e):this.renderBaseLabel(t,e)},e.prototype.renderBaseLabel=function(t,e){var n=this.ctx;if("object"==typeof t)n.drawImage(t,e.x-t.width/2,e.y-t.height/2,t.width,t.height);else{n.save(),n.textBaseline="top",n.textAlign="center",this.options.textShadow&&(n.shadowOffsetX=this.options.shadowOffsetX,n.shadowOffsetY=this.options.shadowOffsetY,n.shadowColor=this.options.shadowColor,n.shadowBlur=this.options.shadowBlur);for(var i=t.split("\n"),r=0;r<i.length;r++)n.fillText(i[r],e.x,e.y-this.options.fontSize/2*i.length+this.options.fontSize*r);n.restore()}},e.prototype.renderArcLabel=function(t,e){var n=this.ctx,i=e.radius,r=e.view;if(n.save(),n.translate(r.x,r.y),"string"==typeof t){n.rotate(e.startAngle),n.textBaseline="middle",n.textAlign="left";var a=t.split("\n"),o=0,s=[],l=0;"border"===this.options.position&&(l=(a.length-1)*this.options.fontSize/2);for(var c=0;c<a.length;++c){var d=n.measureText(a[c]);d.width>o&&(o=d.width),s.push(d.width)}for(c=0;c<a.length;++c){var p=a[c],h=(a.length-1-c)*-this.options.fontSize+l;n.save(),n.rotate((o-s[c])/2/i);for(var g=0;g<p.length;g++){var u=p.charAt(g);d=n.measureText(u),n.save(),n.translate(0,-1*i),n.fillText(u,0,h),n.restore(),n.rotate(d.width/i)}n.restore()}}else n.rotate((r.startAngle+Math.PI/2+e.endAngle)/2),n.translate(0,-1*i),this.renderLabel(t,{x:0,y:0});n.restore()},e.prototype.shouldRenderToElement=function(t,e){return!t.hidden&&!e.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==e._view.outerRadius:0!==e._view.circumference)},e.prototype.getLabel=function(t,e,n){var i;if("function"==typeof this.options.render)i=this.options.render({label:this.chart.config.data.labels[n],value:t.data[n],percentage:this.getPercentage(t,e,n),dataset:t,index:n});else switch(this.options.render){case"value":i=t.data[n];break;case"label":i=this.chart.config.data.labels[n];break;case"image":i=this.options.images[n]?this.loadImage(this.options.images[n]):"";break;case"percentage":default:i=this.getPercentage(t,e,n)+"%"}return"object"==typeof i?i=this.loadImage(i):null!=i&&(i=i.toString()),i},e.prototype.getFontColor=function(t,e,n){var i=this.options.fontColor;return"function"==typeof i?i=i({label:this.chart.config.data.labels[n],value:t.data[n],percentage:this.getPercentage(t,e,n),backgroundColor:t.backgroundColor[n],dataset:t,index:n}):"string"!=typeof i&&(i=i[n]||this.chart.config.options.defaultFontColor),i},e.prototype.getPercentage=function(t,e,n){if(null!==this.percentage)return this.percentage;var i;if("polarArea"===this.chart.config.type){if(null===this.total){this.total=0;for(var r=0;r<t.data.length;++r)this.total+=t.data[r]}i=t.data[n]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[n])for(this.barTotal[n]=0,r=0;r<this.chart.data.datasets.length;++r)this.barTotal[n]+=this.chart.data.datasets[r].data[n];i=t.data[n]/this.barTotal[n]*100}else i=e._view.circumference/this.chart.config.options.circumference*100;return i=parseFloat(i.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[n]||0),this.totalPercentage+=i,this.totalPercentage>100&&(i-=this.totalPercentage-100,i=parseFloat(i.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[n]=this.totalPercentage)),this.percentage=i,i},e.prototype.getRenderInfo=function(t,e){return"bar"===this.chart.config.type?this.getBarRenderInfo(t,e):this.options.arc?this.getArcRenderInfo(t,e):this.getBaseRenderInfo(t,e)},e.prototype.getBaseRenderInfo=function(t,e){if("outside"===this.options.position||"border"===this.options.position){var n,i,r=t._view,a=r.startAngle+(r.endAngle-r.startAngle)/2,o=r.outerRadius/2;if("border"===this.options.position?i=(r.outerRadius-o)/2+o:"outside"===this.options.position&&(i=r.outerRadius-o+o+this.options.textMargin),n={x:r.x+Math.cos(a)*i,y:r.y+Math.sin(a)*i},"outside"===this.options.position){var s=this.options.textMargin+this.measureLabel(e).width/2;n.x+=n.x<r.x?-s:s}return n}return t.tooltipPosition()},e.prototype.getArcRenderInfo=function(t,e){var n,i=t._view;n="outside"===this.options.position?i.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(i.outerRadius/2+i.outerRadius)/2:(i.innerRadius+i.outerRadius)/2;var r=i.startAngle,a=i.endAngle,o=a-r;return r+=Math.PI/2,{radius:n,startAngle:r+=((a+=Math.PI/2)-(this.measureLabel(e).width/n+r))/2,endAngle:a,totalAngle:o,view:i}},e.prototype.getBarRenderInfo=function(t,e){var n=t.tooltipPosition();return n.y-=this.measureLabel(e).height/2+this.options.textMargin,n},e.prototype.drawable=function(t,e,n){if(this.options.overlap)return!0;if(this.options.arc)return n.endAngle-n.startAngle<=n.totalAngle;var i=this.measureLabel(e),r=n.x-i.width/2,a=n.x+i.width/2,o=n.y-i.height/2,s=n.y+i.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(r,a,o,s):t.inRange(r,o)&&t.inRange(r,s)&&t.inRange(a,o)&&t.inRange(a,s)},e.prototype.outsideInRange=function(t,e,n,i){for(var r=this.labelBounds,a=0;a<r.length;++a){for(var o=r[a],s=[[t,n],[t,i],[e,n],[e,i]],l=0;l<s.length;++l){var c=s[l][1];if((d=s[l][0])>=o.left&&d<=o.right&&c>=o.top&&c<=o.bottom)return!1}for(s=[[o.left,o.top],[o.left,o.bottom],[o.right,o.top],[o.right,o.bottom]],l=0;l<s.length;++l){var d;if(c=s[l][1],(d=s[l][0])>=t&&d<=e&&c>=n&&c<=i)return!1}}return r.push({left:t,right:e,top:n,bottom:i}),!0},e.prototype.measureLabel=function(t){if("object"==typeof t)return{width:t.width,height:t.height};for(var e=0,n=t.split("\n"),i=0;i<n.length;++i){var r=this.ctx.measureText(n[i]);r.width>e&&(e=r.width)}return{width:e,height:this.options.fontSize*n.length}},e.prototype.loadImage=function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,e},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(n,i){if(t[n.config.type]){Array.isArray(i)||(i=[i]);var r=i.length;n._labels&&r===n._labels.length||(n._labels=i.map((function(){return new e})));for(var a=!1,o=0,s=0;s<r;++s){var l=n._labels[s];if(l.setup(n,i[s]),"outside"===l.options.position){a=!0;var c=1.5*l.options.fontSize+l.options.outsidePadding;c>o&&(o=c)}}a&&(n.chartArea.top+=o,n.chartArea.bottom-=o)}},afterDatasetUpdate:function(e,n,i){t[e.config.type]&&e._labels.forEach((function(t){t.args[n.index]=n}))},beforeDraw:function(e){t[e.config.type]&&e._labels.forEach((function(t){t.barTotalPercentage={}}))},afterDatasetsDraw:function(e){t[e.config.type]&&e._labels.forEach((function(t){t.render()}))}})}else console.error("Can not find Chart object.");function e(){this.renderToDataset=this.renderToDataset.bind(this)}}()}}]);