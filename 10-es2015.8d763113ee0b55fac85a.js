(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+Ewk":function(e,t,n){"use strict";var i=n("P7XM"),o=n("96lO"),r=n("+fXv"),a=n("v0om");function s(e){if(!s.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",a,r)}i(s,o),s.enabled=function(){return!!global.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s},"+R4f":function(e,t,n){"use strict";var i=n("P7XM"),o=n("raCH").EventEmitter,r=n("yjSe");function a(e){o.call(this);var t=this,n=this.es=new r(e);n.onmessage=function(e){t.emit("message",decodeURI(e.data))},n.onerror=function(e){var i=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(i)}}i(a,o),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},a.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=a},"+fXv":function(e,t,n){"use strict";var i=n("8fj+"),o=n("JYLm"),r=n("JqAl"),a=n("Yh+D"),s=n("P7XM"),c=n("raCH").EventEmitter;function l(e){var t=this;c.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var n=a.addQuery(e,"c="+encodeURIComponent(i.WPrefix+"."+this.id));global[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout((function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),l.timeout)}s(l,c),l.prototype.abort=function(){if(global[i.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},l.timeout=35e3,l.scriptErrorTimeout=1e3,l.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},l.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},l.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete global[i.WPrefix][this.id]},l.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),l.scriptErrorTimeout))},l.prototype._createScript=function(e){var t,n=this,i=this.script=global.document.createElement("script");if(i.id="a"+o.string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){n.loadedOkay=!0;try{i.onclick()}catch(e){}}i&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&global.document.attachEvent)if(r.isOpera())(t=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=t.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(s){}i.async=!0}void 0!==i.async&&(i.async=!0);var a=global.document.getElementsByTagName("head")[0];a.insertBefore(i,a.firstChild),t&&a.insertBefore(t,a.firstChild)},e.exports=l},"0RqO":function(e,t,n){"use strict";n.r(t),n.d(t,"EcoNewsModule",(function(){return ti})),n.d(t,"createTranslateLoader",(function(){return ni}));var i=n("ofXK"),o=n("tk/3"),r=n("dNgK"),a=n("NFeN"),s=n("rIor"),c=n("sYmb"),l=n("mqiu"),p=n("dlKe"),d=n("tyNb"),m=n("fXoL"),g=n("82Ky");let h=(()=>{class e{constructor(e,t){this.localStorageService=e,this.translate=t}ngOnInit(){this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage())}bindLang(e){this.translate.setDefaultLang(e)}subscribeToLangChange(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(this.bindLang.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](c.e))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-eco-news"]],decls:2,vars:0,consts:[[1,"wrapper"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"router-outlet"),m["\u0275\u0275elementEnd"]())},directives:[d.l],styles:[".list-news[_ngcontent-%COMP%]{margin-left:150px}.copyright[_ngcontent-%COMP%]{background-color:rgba(131,156,148,.05);color:var(--primary-grey);font-family:var(--primary-font);font-stretch:normal;font-size:14px;font-style:normal;font-weight:500;height:40px;line-height:normal;letter-spacing:normal;padding-top:11px;text-align:center;width:100%}.container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}"]}),e})();var u=n("3Pt+"),f=n("1G5W"),w=n("IzEk"),x=n("JIr8"),v=n("cP9i"),b=n("jtHE"),y=n("z6cu"),C=n("AytR");let _=(()=>{class e{constructor(e){this.http=e,this.url=C.a.backendLink,this.accessToken=localStorage.getItem("accessToken"),this.files=[],this.httpOptions={headers:new o.d({Authorization:"my-auth-token"})}}getFormData(){return this.currentForm}getNewsId(){return this.newsId}editNews(e){let t={id:e.id,tags:e.tags,text:e.content,title:e.title,source:e.source};const n=new FormData;return 0!==this.files.length&&(t=Object.assign(Object.assign({},t),{image:this.files[0].url})),this.files=[],n.append("updateEcoNewsDto",JSON.stringify(t)),this.httpOptions.headers.set("Authorization","Bearer "+this.accessToken),this.http.put("https://greencity.azurewebsites.net/econews/update",n,this.httpOptions)}setForm(e){this.currentForm=e,this.currentForm&&(this.currentForm.value.image=this.files[0]?this.files[0].url:"")}setNewsId(e){this.newsId=e}sendFormData(e){const t={tags:e.value.tags,text:e.value.content,title:e.value.title,source:e.value.source},n=new FormData;return 0!==this.files.length&&(t.image=this.files[0].url),this.files=[],n.append("addEcoNewsDtoRequest",JSON.stringify(t)),this.httpOptions.headers.set("Authorization","Bearer "+this.accessToken),this.http.post(this.url+"econews",n,this.httpOptions)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275inject"](o.b))},e.\u0275prov=m["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),O=(()=>{class e{constructor(e){this.fb=e}getSetupForm(){return this.fb.group({title:["",[u.H.required,u.H.maxLength(170),this.noWhitespaceValidator]],source:[""],content:["",[u.H.required,u.H.minLength(20),u.H.maxLength(63206)]],tags:this.fb.array([]),image:[""]})}getEditForm(e){return this.fb.group({title:[e.title,[u.H.required,u.H.maxLength(170),this.noWhitespaceValidator]],source:[e.source],content:[e.text||e.content,[u.H.required,u.H.minLength(20),u.H.maxLength(63206)]],tags:this.fb.array(e.tags),image:[e.imagePath]})}noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275inject"](u.g))},e.\u0275prov=m["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const P=new m.InjectionToken("action.config"),M={create:{title:"create-news.title",btnCaption:"create-news.publish-button"},edit:{title:"create-news.edit-title",btnCaption:"create-news.edit-button"}},S={minTextAreaScrollHeight:50,maxTextAreaScrollHeight:128,minTextAreaHeight:"48px",maxTextAreaHeight:"128px"};var E=n("BhRD"),I=n("VKqL"),k=n("0IaG"),N=n("jhN1");let T=(()=>{class e{constructor(e){this.titleService=e,this.actualYear=(new Date).getFullYear()}ngOnInit(){this.titleService.setTitle("About")}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](N.e))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-post-news-loader"]],decls:8,vars:6,consts:[[1,"container"],[1,"people-img"],[1,"header"],[1,"description"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"div",1),m["\u0275\u0275elementStart"](2,"p",2),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"p",3),m["\u0275\u0275text"](6),m["\u0275\u0275pipe"](7,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,2,"post-news-loader.text-1")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](7,4,"post-news-loader.text-2")))},pipes:[c.d],styles:[".copyright[_ngcontent-%COMP%]{background-color:rgba(131,156,148,.05);color:var(--primary-grey);font-family:var(--primary-font);font-stretch:normal;font-size:14px;font-style:normal;font-weight:500;height:40px;line-height:normal;letter-spacing:normal;padding-top:11px;text-align:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:100%}.people-img[_ngcontent-%COMP%]{background:url(/assets/img/illustration-people.png);background-repeat:no-repeat;background-size:450px,450px;background-position:50%;align-self:center;width:100%;height:450px}.header[_ngcontent-%COMP%]{width:435px;height:48px;font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:32px;line-height:48px}.description[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{text-align:center;color:var(--secondary-dark-grey);margin-bottom:0}.description[_ngcontent-%COMP%]{height:32px;font-family:var(--primary-font);font-size:18px;line-height:32px}@media screen and (max-width:575px){.container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.header[_ngcontent-%COMP%]{width:288px;height:56px;margin-bottom:16px;font-size:24px;line-height:28px}.description[_ngcontent-%COMP%]{width:288px;height:36px;font-size:14px;line-height:18px}}"]}),e})();var j=n("N34f");function L(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275listener"]("files",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().filesDropped(t)})),m["\u0275\u0275elementStart"](1,"div",5),m["\u0275\u0275elementStart"](2,"div",6),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementStart"](5,"label",7),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"input",8),m["\u0275\u0275listener"]("change",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onFileSelected(t)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](4,2,"drag-and-drop.picture-description")," "),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,4,"drag-and-drop.browse")))}function A(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"img",14),m["\u0275\u0275listener"]("files",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](3).filesDropped(t)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2).$implicit;m["\u0275\u0275property"]("src",e.url,m["\u0275\u0275sanitizeUrl"])}}function B(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",15),m["\u0275\u0275elementStart"](1,"image-cropper",16),m["\u0275\u0275listener"]("imageCropped",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](3).imageCropped(t)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("maintainAspectRatio",!0)("containWithinAspectRatio",!1)("aspectRatio",4/3)("imageChangedEvent",t.imageChangedEvent)("imageFile",e.file)}}function D(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,A,1,1,"img",10),m["\u0275\u0275template"](2,B,2,5,"div",11),m["\u0275\u0275elementStart"](3,"div",12),m["\u0275\u0275elementStart"](4,"button",13),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).stopCropping()})),m["\u0275\u0275text"](5),m["\u0275\u0275pipe"](6,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"button",13),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).cancelChanges()})),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isCropper),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isCropper),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](6,4,"drag-and-drop.submit-changes-button")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](9,6,"drag-and-drop.cancel-changes-button"))}}function z(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,D,10,8,"div",9),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](),t=m["\u0275\u0275reference"](4);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isWarning)("ngIfElse",t)}}function F(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",17),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"drag-and-drop.picture-tooltip")))}const V=function(e){return{"warning-color":e}};function H(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",18),m["\u0275\u0275listener"]("files",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().filesDropped(t)})),m["\u0275\u0275elementStart"](1,"div",5),m["\u0275\u0275elementStart"](2,"div",6),m["\u0275\u0275elementStart"](3,"p"),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"p"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementStart"](9,"label",7),m["\u0275\u0275elementStart"](10,"span"),m["\u0275\u0275text"](11),m["\u0275\u0275pipe"](12,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"input",8),m["\u0275\u0275listener"]("change",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onFileSelected(t)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"span",19),m["\u0275\u0275text"](15),m["\u0275\u0275pipe"](16,"translate"),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](5,5,"drag-and-drop.not-uploaded-warning")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](8,7,"drag-and-drop.picture-description")," "),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](12,9,"drag-and-drop.browse")),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](13,V,e.isWarning)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](16,11,"drag-and-drop.picture-tooltip"))}}let U=(()=>{class e{constructor(e){this.createEcoNewsService=e,this.selectedFile=null,this.isCropper=!0,this.files=[],this.isWarning=!1}ngOnInit(){this.patchImage()}stopCropping(){return this.createEcoNewsService.files=this.files,this.files.forEach(e=>e.url=this.croppedImage),this.isCropper=!1,this.files}cancelChanges(){this.files=[],this.createEcoNewsService.files=[],this.isCropper=!0,this.croppedImage=null}patchImage(){this.createEcoNewsService.isBackToEditing&&this.formData.value.image&&(this.isCropper=!1,this.files=[{file:this.formData.value.file,url:this.formData.value.image}])}imageCropped(e){this.croppedImage=e.base64}filesDropped(e){this.files=e,this.isCropper=!0,this.showWarning(),this.createEcoNewsService.isImageValid=this.isWarning}onFileSelected(e){this.selectedFile=e.target.files[0];const t=new FileReader;t.readAsDataURL(this.selectedFile),t.onload=e=>this.handleFile(e),this.createEcoNewsService.files=this.files}handleFile(e){this.selectedFileUrl=e.target.result,this.files[0]={url:this.selectedFileUrl,file:this.selectedFile},this.showWarning(),this.createEcoNewsService.fileUrl=this.selectedFileUrl}showWarning(){return this.files.forEach(e=>{this.isWarning=!(e&&("image/jpeg"===e.file.type||"image/png"===e.file.type))}),this.files}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](_))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-drag-and-drop"]],inputs:{formData:"formData"},decls:5,vars:3,consts:[["class","dropzone","appDragAndDrop","",3,"files",4,"ngIf"],[4,"ngFor","ngForOf"],["class","warning",4,"ngIf"],["elseBlock",""],["appDragAndDrop","",1,"dropzone",3,"files"],[1,"text-wrapper"],[1,"centered"],["for","upload"],["type","file","id","upload",3,"change"],[4,"ngIf","ngIfElse"],["appDragAndDrop","","alt","image-cropper",3,"src","files",4,"ngIf"],["class","cropper-block",4,"ngIf"],[1,"cropper-buttons"],["type","button",3,"click"],["appDragAndDrop","","alt","image-cropper",3,"src","files"],[1,"cropper-block"],[3,"maintainAspectRatio","containWithinAspectRatio","aspectRatio","imageChangedEvent","imageFile","imageCropped"],[1,"warning"],["appDragAndDrop","",1,"dropzone","warning-background",3,"files"],[1,"warning",3,"ngClass"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,L,10,6,"div",0),m["\u0275\u0275template"](1,z,2,2,"div",1),m["\u0275\u0275template"](2,F,3,3,"p",2),m["\u0275\u0275template"](3,H,17,15,"ng-template",null,3,m["\u0275\u0275templateRefExtractor"])),2&e&&(m["\u0275\u0275property"]("ngIf",!t.files.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.files),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.isWarning))},directives:[i.u,i.t,j.a,s.a,i.r],pipes:[c.d],styles:[".dropzone[_ngcontent-%COMP%]{height:231px;width:100%;display:table;background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' stroke='%23333' stroke-width='1' stroke-dasharray='10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");margin-bottom:8px}.text-wrapper[_ngcontent-%COMP%]{width:456px;height:231px;display:flex;justify-content:center;align-items:center}.text-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;overflow:hidden;z-index:-1;width:.1px;height:.1px;opacity:0}.centered[_ngcontent-%COMP%]{font-size:1.3em;font-size:18px;text-align:center;width:250px;font-family:var(--primary-font)}.centered[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-green);text-decoration:underline;cursor:pointer}.warning-color[_ngcontent-%COMP%]{color:red!important}.warning-background[_ngcontent-%COMP%]{background-color:#fef1f2}.warning[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;color:var(--secondary-grey);line-height:16px}img[_ngcontent-%COMP%]{width:426px;height:231px}.cropper-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;font-family:var(--primary-font)}.cropper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;border:1px solid var(--primary-green);border-radius:3px;background-color:var(--primary-white);width:154px;height:48px;color:var(--primary-green);font-weight:700}@media screen and (max-width:1439px){.text-wrapper[_ngcontent-%COMP%]{width:381px}.warning[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:1024px){.dropzone[_ngcontent-%COMP%]{width:381px}}@media screen and (max-width:575px){.dropzone[_ngcontent-%COMP%], .text-wrapper[_ngcontent-%COMP%]{width:288px}}"]}),e})();function R(e,t){1&e&&m["\u0275\u0275element"](0,"app-post-news-loader")}const W=function(e){return{"filters-color":e}};function $(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",27),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"](3).addFilters(n)})),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](2,W,e.isActive)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.name," ")}}const G=function(e){return{warning:e}},X=function(e){return{"field-warning":e}},J=function(e){return[e]};function q(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",6),m["\u0275\u0275elementStart"](1,"form",7),m["\u0275\u0275listener"]("ngSubmit",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onSubmit()})),m["\u0275\u0275elementStart"](2,"div",8),m["\u0275\u0275elementStart"](3,"div",9),m["\u0275\u0275elementStart"](4,"div",10),m["\u0275\u0275elementStart"](5,"label"),m["\u0275\u0275elementStart"](6,"h3"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"textarea",11),m["\u0275\u0275listener"]("keyup",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).autoResize(!1,t)})),m["\u0275\u0275pipe"](10,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"span"),m["\u0275\u0275text"](12),m["\u0275\u0275pipe"](13,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",12),m["\u0275\u0275elementStart"](15,"h3"),m["\u0275\u0275text"](16),m["\u0275\u0275pipe"](17,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](18,$,2,4,"button",13),m["\u0275\u0275elementStart"](19,"p",14),m["\u0275\u0275text"](20),m["\u0275\u0275pipe"](21,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"div"),m["\u0275\u0275elementStart"](23,"label"),m["\u0275\u0275elementStart"](24,"h3"),m["\u0275\u0275text"](25),m["\u0275\u0275pipe"](26,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](27,"input",15),m["\u0275\u0275pipe"](28,"translate"),m["\u0275\u0275elementStart"](29,"span",14),m["\u0275\u0275text"](30),m["\u0275\u0275pipe"](31,"translate"),m["\u0275\u0275pipe"](32,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](33,"div",16),m["\u0275\u0275elementStart"](34,"h3"),m["\u0275\u0275text"](35),m["\u0275\u0275pipe"](36,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](37,"app-drag-and-drop",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](38,"div",18),m["\u0275\u0275elementStart"](39,"h3",19),m["\u0275\u0275text"](40),m["\u0275\u0275pipe"](41,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](42,"textarea",20),m["\u0275\u0275listener"]("keyup",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).autoResize(!0,t)})),m["\u0275\u0275pipe"](43,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](44,"p",21),m["\u0275\u0275text"](45),m["\u0275\u0275pipe"](46,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](47,"div",22),m["\u0275\u0275elementStart"](48,"p"),m["\u0275\u0275elementStart"](49,"span"),m["\u0275\u0275text"](50),m["\u0275\u0275pipe"](51,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](52,"span"),m["\u0275\u0275text"](53),m["\u0275\u0275pipe"](54,"translate"),m["\u0275\u0275pipe"](55,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](56,"p"),m["\u0275\u0275elementStart"](57,"span"),m["\u0275\u0275text"](58),m["\u0275\u0275pipe"](59,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](60,"span"),m["\u0275\u0275text"](61),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](62,"div",23),m["\u0275\u0275elementStart"](63,"button",24),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).cancel()})),m["\u0275\u0275text"](64),m["\u0275\u0275pipe"](65,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](66,"button",25),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).goToPreview()})),m["\u0275\u0275text"](67),m["\u0275\u0275pipe"](68,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](69,"button",26),m["\u0275\u0275text"](70),m["\u0275\u0275pipe"](71,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("formGroup",e.form),m["\u0275\u0275advance"](6),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,30,"create-news.news-title")),m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate"]("placeholder",m["\u0275\u0275pipeBind1"](10,32,"create-news.title-placeholder")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](13,34,"create-news.title-tooltip")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](17,36,"create-news.tags-title")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.filters),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](70,G,e.isFilterValidation)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](21,38,"create-news.tags-tooltip")," "),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](26,40,"create-news.source-title")),m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate"]("placeholder",m["\u0275\u0275pipeBind1"](28,42,"create-news.source-placeholder")),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](72,X,!e.isLinkOrEmpty)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](74,G,!e.isLinkOrEmpty)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"](" ",m["\u0275\u0275pipeBind1"](31,44,"create-news.source-tooltip-1")," ",m["\u0275\u0275pipeBind1"](32,46,"create-news.source-tooltip-2")," "),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](36,48,"create-news.picture-title")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("formData",e.formData),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](41,50,"create-news.content-title")),m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate"]("placeholder",m["\u0275\u0275pipeBind1"](43,52,"create-news.content-placeholder")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](46,54,"create-news.content-tooltip")),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](51,56,"create-news.date")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate4"]("",e.day," ",m["\u0275\u0275pipeBind1"](54,58,"date.months."+m["\u0275\u0275pureFunction1"](76,J,e.month))," ",e.year," ",m["\u0275\u0275pipeBind1"](55,60,"date.year"),""),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](59,62,"create-news.author")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.author),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](65,64,"create-news.cancel-button")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](68,66,"create-news.preview-button")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",e.isFormInvalid),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](71,68,e.attributes.btnCaption))}}function Y(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",3),m["\u0275\u0275elementStart"](1,"div",4),m["\u0275\u0275elementStart"](2,"h2"),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"p"),m["\u0275\u0275text"](6),m["\u0275\u0275pipe"](7,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](8,q,72,78,"div",5),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,3,e.attributes.title)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](7,5,"create-news.form-description")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.form)}}let K=(()=>{class e extends I.a{constructor(e,t,n,i){super(e,t),this.router=e,this.dialog=t,this.injector=n,this.config=i,this.isPosting=!1,this.isArrayEmpty=!0,this.isLinkOrEmpty=!0,this.isFilterValidation=!1,this.year=(new Date).getFullYear(),this.day=(new Date).getDate(),this.month=(new Date).getMonth(),this.author=localStorage.getItem("name"),this.filters=[],this.destroyed$=new b.a(1),this.previousPath="/news",this.popupConfig={hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:"homepage.eco-news.news-popup.title",popupSubtitle:"homepage.eco-news.news-popup.subtitle",popupConfirm:"homepage.eco-news.news-popup.confirm",popupCancel:"homepage.eco-news.news-popup.cancel"}},this.createEditNewsFormBuilder=n.get(O),this.createEcoNewsService=n.get(_),this.ecoNewsService=n.get(v.a),this.route=n.get(d.a),this.localStorageService=n.get(g.a),this.snackBar=n.get(E.a)}ngOnInit(){this.getNewsIdFromQueryParams(),this.initPageforCreateOrEdit(),this.onSourceChange(),this.setLocalizedTags()}filterArr(e,t){return[...this.filters.slice(0,t),e,...this.filters.slice(t+1)]}setInitialValues(){this.createEcoNewsService.isBackToEditing||(this.initialValues=this.getFormValues()),this.isFormInvalid=!this.newsId,this.onValueChanges()}allowUserEscape(){this.areChangesSaved=!0}getFormValues(){return this.form.value}onValueChanges(){this.formChangeSub=this.form.valueChanges.subscribe(()=>{this.isFormInvalid=!this.form.valid||this.isArrayEmpty||!this.isLinkOrEmpty||this.isImageValid()})}setLocalizedTags(){this.localStorageService.languageBehaviourSubject.pipe(Object(f.a)(this.destroyed$)).subscribe(()=>this.getAllTags())}getAllTags(){const e=this.localStorageService.getTagsOfNews("newsTags");e?this.filters=e:this.ecoNewsService.getAllPresentTags().pipe(Object(w.a)(1)).subscribe(e=>{this.filters=e.map(e=>({name:e.name,isActive:!1}))})}initPageforCreateOrEdit(){this.textAreasHeight=S,this.createEcoNewsService.isBackToEditing?(this.createEcoNewsService.getNewsId()?this.setDataForEdit():this.setDataForCreate(),this.formData=this.createEcoNewsService.getFormData(),this.newsId=this.createEcoNewsService.getNewsId(),this.formData&&(this.form=this.createEditNewsFormBuilder.getEditForm(this.formData.value),this.setActiveFilters(this.formData.value)),this.setInitialValues()):this.newsId?(this.fetchNewsItemToEdit(),this.setDataForEdit()):(this.form=this.createEditNewsFormBuilder.getSetupForm(),this.setDataForCreate(),this.setInitialValues())}setDataForEdit(){this.attributes=this.config.edit,this.onSubmit=this.editNews}setDataForCreate(){this.attributes=this.config.create,this.onSubmit=this.createNews}getNewsIdFromQueryParams(){this.route.queryParams.subscribe(e=>{this.newsId=e.id})}autoResize(e,t){t.target.style.height=e?"131px":"48px",t.target.style.height=t.target.scrollHeight+"px"}onSourceChange(){this.form&&this.form.get("source").valueChanges.subscribe(e=>{this.isLinkOrEmpty=/^$|^https?:\/\//.test(e)})}createNews(){this.isPosting=!0,this.createEcoNewsService.sendFormData(this.form).pipe(Object(f.a)(this.destroyed$),Object(x.a)(e=>(this.snackBar.openSnackBar("Oops, something went wrong. Please reload page or try again later."),Object(y.a)(e)))).subscribe(()=>this.escapeFromCreatePage()),this.localStorageService.removeTagsOfNews("newsTags")}escapeFromCreatePage(){this.isPosting=!1,this.allowUserEscape(),this.router.navigate(["/news"])}editNews(){const e=Object.assign(Object.assign({},this.form.value),{id:this.newsId});this.createEcoNewsService.editNews(e).pipe(Object(x.a)(e=>(this.snackBar.openSnackBar("Something went wrong. Please reload page or try again later."),Object(y.a)(e)))).subscribe(()=>this.escapeFromCreatePage())}fetchNewsItemToEdit(){this.newsItemSubscription=this.ecoNewsService.getEcoNewsById(this.newsId).pipe(Object(f.a)(this.destroyed$)).subscribe(e=>{this.form=this.createEditNewsFormBuilder.getEditForm(e),this.setActiveFilters(e),this.onSourceChange(),this.setInitialValues()})}setActiveFilters(e){e.tags.length&&(this.isArrayEmpty=!1,e.tags.forEach(e=>{const t=this.filters.findIndex(t=>t.name===""+e);this.filters=this.filterArr({name:""+e,isActive:!0},t)}))}tags(){return this.form.controls.tags}addFilters(e){e.isActive?this.removeFilters(e):(this.toggleIsActive(e,!0),this.isArrayEmpty=!1,this.tags().push(new u.h(e.name)),this.filtersValidation(e))}removeFilters(e){const t=this.form.value.tags;e.isActive&&1===t.length&&(this.isArrayEmpty=!0);const n=t.findIndex(t=>t===e.name);this.tags().removeAt(n),this.toggleIsActive(e,!1)}filtersValidation(e){this.form.value.tags.length>3&&(this.isFilterValidation=!0,setTimeout(()=>this.isFilterValidation=!1,3e3),this.tags().removeAt(3),this.toggleIsActive(e,!1))}toggleIsActive(e,t){const n=this.filters.findIndex(t=>t.name===e.name),i=this.filterArr({name:e.name,isActive:t},n);this.filters=i,this.localStorageService.setTagsOfNews("newsTags",i)}goToPreview(){this.allowUserEscape(),this.createEcoNewsService.setForm(this.form),this.createEcoNewsService.setNewsId(this.newsId),this.router.navigate(["news","preview"])}isImageValid(){return this.createEcoNewsService.isImageValid}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.formChangeSub&&this.formChangeSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](d.g),m["\u0275\u0275directiveInject"](k.c),m["\u0275\u0275directiveInject"](m.Injector),m["\u0275\u0275directiveInject"](P))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-edit-news"]],features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:2,consts:[[4,"ngIf"],["role","main","id","main-content"],["class","box",4,"ngIf"],[1,"box"],[1,"title"],["class","form-container",4,"ngIf"],[1,"form-container"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"wrapper"],[1,"left-form-column"],[1,"item-block"],["maxlength","170","formControlName","title",3,"placeholder","keyup"],["formArrayName","tags",1,"tags","item-block"],["type","button","class","tag-news",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass"],["type","text","formControlName","source",3,"placeholder","ngClass"],[1,"right-form-column"],[3,"formData"],[1,"textarea-wrapper"],[1,"textarea-title"],["minlength","20","name","main-area","formControlName","content",3,"placeholder","keyup"],[1,"textarea-description"],[1,"date"],[1,"submit-buttons"],["type","button",1,"cancel",3,"click"],["type","button",1,"preview",3,"click"],["type","submit",1,"submit",3,"disabled"],["type","button",1,"tag-news",3,"ngClass","click"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,R,1,0,"app-post-news-loader",0),m["\u0275\u0275elementStart"](1,"main",1),m["\u0275\u0275template"](2,Y,9,7,"div",2),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("ngIf",t.isPosting),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!t.isPosting))},directives:[i.u,T,u.J,u.u,u.l,u.d,u.o,u.t,u.j,u.f,i.t,i.r,U,u.p],pipes:[c.d],styles:['@charset "UTF-8";.box[_ngcontent-%COMP%]{width:1140px;margin:115px auto 0;padding:0}.textarea-title[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.form-description[_ngcontent-%COMP%]{margin-top:-30px;margin-bottom:50px}b[_ngcontent-%COMP%], button[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:var(--primary-dark-grey);font-family:var(--primary-font)}.title[_ngcontent-%COMP%]{margin-bottom:51px;width:100%}.title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:500;font-size:48px;line-height:48px;margin-bottom:28px}.form-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:652px;color:var(--secondary-grey)}.left-form-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .textarea-description[_ngcontent-%COMP%]{font-size:12px}input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red!important}h3[_ngcontent-%COMP%]{font-size:18px}form[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:1rem}.left-form-column[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.left-form-column[_ngcontent-%COMP%]{width:652px;min-height:380px}.left-form-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .left-form-column[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:48px;border-radius:5px;border:1px solid var(--secondary-grey);padding:12px 16px;resize:none;overflow:hidden}.left-form-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .left-form-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px;display:block;color:var(--secondary-grey)}.item-block[_ngcontent-%COMP%]{margin-bottom:32px}.textarea-description[_ngcontent-%COMP%]{margin:0;color:var(--secondary-grey)}.tags[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:-4px}.right-form-column[_ngcontent-%COMP%]{width:456px;margin-left:32px}.right-form-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}button[_ngcontent-%COMP%]{margin-bottom:8px;border:1px solid var(--secondary-grey);background-color:#fff;border-radius:50px;padding:5px 15px;outline:none}button[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-green);color:var(--primary-green)}.tags[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 8px 8px 0;font-size:14px;color:var(--tertiary-grey)}form[_ngcontent-%COMP%]   .textarea-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:131px;border-radius:5px;border:1px solid var(--secondary-grey);width:100%;padding:12px 16px 28px;overflow:hidden}.textarea-wrapper[_ngcontent-%COMP%]{margin-top:32px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.date[_ngcontent-%COMP%]{display:flex;max-width:500px;margin-top:32px}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-left:32px}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:18px}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:var(--secondary-grey);font-size:16px}input.ng-invalid.ng-touched[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], textarea.ng-invalid.ng-dirty[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{color:red}.submit-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:26px}.submit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;border:1px solid var(--primary-green);border-radius:3px;background-color:#fff;width:154px;height:48px;color:var(--primary-green);font-weight:700}.submit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:var(--primary-green);color:#fff;font-weight:700}.submit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:disabled{background-color:var(--primary-grey);border:1px solid var(--primary-grey)}.tags[_ngcontent-%COMP%]   .filters-color[_ngcontent-%COMP%]{background-color:var(--primary-green);color:#fff;border:none}.filters-color[_ngcontent-%COMP%]:after{content:"  \u2716";font-size:12px}.filters-color[_ngcontent-%COMP%]:hover{color:#fff;border:none}.warning[_ngcontent-%COMP%]{color:red!important}.left-form-column[_ngcontent-%COMP%]   .field-warning[_ngcontent-%COMP%]{border:1px solid red}@media screen and (max-width:1439px){.box[_ngcontent-%COMP%]{width:960px}.left-form-column[_ngcontent-%COMP%]{width:547px}}@media screen and (max-width:1023px){.box[_ngcontent-%COMP%]{width:740px}.wrapper[_ngcontent-%COMP%]{flex-direction:column}.left-form-column[_ngcontent-%COMP%]{width:100%}.right-form-column[_ngcontent-%COMP%]{margin:32px 0 0;width:100%}}@media screen and (max-width:767px){.box[_ngcontent-%COMP%]{width:548px}.title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;line-height:32px}}@media screen and (max-width:575px){.box[_ngcontent-%COMP%]{width:288px}.item-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px}.date[_ngcontent-%COMP%]{flex-direction:column}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin:0}.submit-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:43px}.submit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 24px;width:100%}}']}),e})();var Q=n("7Gk6"),Z=n("XNiG"),ee=n("eIep"),te=n("sTBm");function ne(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",16),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275pipe"](3,"lowercase"),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,m["\u0275\u0275pipeBind1"](3,3,"homepage.eco-news.tags."+e))," ")}}let ie=(()=>{class e{constructor(e){this.translate=e,this.profileIcons=te.a,this.likeImg="assets/img/comments/like.png"}checkNewsImage(){return this.newsImage=this.ecoNewsModel.imagePath&&" "!==this.ecoNewsModel.imagePath?this.ecoNewsModel.imagePath:this.profileIcons.newsDefaultPictureList,this.newsImage}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](c.e))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-list-gallery-view"]],inputs:{ecoNewsModel:"ecoNewsModel"},decls:29,vars:16,consts:[["role","link",1,"list-gallery"],["alt","user added image",1,"list-image-content",3,"src"],[1,"list-gallery-content"],[1,"filter-tag"],["class","ul-eco-buttons",4,"ngFor","ngForOf"],[1,"added-data"],[1,"title-list","word-wrap"],[1,"list-text","word-wrap"],[1,"user-data-added-news"],[1,"user-data-text-date"],["alt","calendar icon",1,"icon",3,"src"],[1,"user-data-text-date","user"],["alt","user icon",1,"icon",3,"src"],[1,"user-data-like"],[1,"numerosity"],["alt","like",1,"icon",3,"src"],[1,"ul-eco-buttons"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"img",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275template"](4,ne,4,5,"div",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",5),m["\u0275\u0275elementStart"](6,"div",6),m["\u0275\u0275elementStart"](7,"h3"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275elementStart"](10,"p"),m["\u0275\u0275text"](11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",8),m["\u0275\u0275elementStart"](13,"p",9),m["\u0275\u0275element"](14,"img",10),m["\u0275\u0275text"](15),m["\u0275\u0275pipe"](16,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"p",11),m["\u0275\u0275element"](18,"img",12),m["\u0275\u0275text"](19),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"div",13),m["\u0275\u0275elementStart"](21,"mat-icon"),m["\u0275\u0275text"](22,"chat_bubble_outline"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"span",14),m["\u0275\u0275text"](24),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"div",13),m["\u0275\u0275element"](26,"img",15),m["\u0275\u0275elementStart"](27,"span",14),m["\u0275\u0275text"](28),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",t.checkNewsImage(),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",t.ecoNewsModel.tags),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.title," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.text," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",t.profileIcons.calendarIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind4"](16,11,t.ecoNewsModel.creationDate,void 0,void 0,t.translate.defaultLang)," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",t.profileIcons.userIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.author.name," "),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](t.ecoNewsModel.countComments),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",t.likeImg,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](t.ecoNewsModel.likes))},directives:[i.t,a.a],pipes:[i.f,c.d,i.q],styles:["div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}.list-gallery[_ngcontent-%COMP%]{width:359px;min-height:528px;box-shadow:1px 1px 12px rgba(27,51,38,.15);background:#fff;border-radius:4px;display:flex;flex-direction:column}.list-gallery[_ngcontent-%COMP%]   .list-image-content[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:206px;border-top-left-radius:4px;border-top-right-radius:4px}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]{position:relative;margin:8px 24px 24px;flex-grow:1}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .filter-tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;height:24px;margin-bottom:8px}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .filter-tag[_ngcontent-%COMP%]   .ul-eco-buttons[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;line-height:16px;color:var(--primary-green);margin-right:16px;letter-spacing:1px;text-transform:uppercase}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .added-data[_ngcontent-%COMP%]{max-height:200px;overflow:hidden;position:relative}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .added-data[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{max-height:110px}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .added-data[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:21px;line-height:26px;color:var(--secondary-dark-grey)}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .added-data[_ngcontent-%COMP%]   .list-text[_ngcontent-%COMP%]{max-height:150px;overflow:hidden;margin:10px 0 0;font-family:var(--primary-font);font-size:14px;line-height:21px;color:var(--secondary-dark-grey)}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .word-wrap[_ngcontent-%COMP%]{word-break:break-word;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-added-news[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center;flex-wrap:nowrap}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-text-date[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;line-height:21px;color:var(--secondary-grey);mix-blend-mode:normal;opacity:.6;flex-basis:50%}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-text-date[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{align-items:center;margin-right:4px}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{padding-left:15px}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-text-date[_ngcontent-%COMP%]:nth-child(2){max-height:26px;display:block;white-space:nowrap;max-width:110px;overflow:hidden;text-overflow:ellipsis}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-like[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;color:var(--secondary-grey);opacity:.6;flex-basis:33%;display:flex;justify-content:flex-end;align-items:center}.list-gallery[_ngcontent-%COMP%]   .list-gallery-content[_ngcontent-%COMP%]   .user-data-like[_ngcontent-%COMP%]   .numerosity[_ngcontent-%COMP%]{margin-left:10px}.list-gallery[_ngcontent-%COMP%]:hover{background:#fff;box-shadow:0 4px 32px #e6ebea;border-radius:4px;cursor:pointer}@media screen and (max-width:1179px){.list-gallery[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width:767px){.list-gallery[_ngcontent-%COMP%]{width:100%}}@media (min-width:1179px) and (max-width:1199px){.list-gallery[_ngcontent-%COMP%]{width:300px}}"],changeDetection:0}),e})();const oe=function(e){return["/news",e]};function re(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275element"](1,"app-news-list-gallery-view",5),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;m["\u0275\u0275advance"](1),m["\u0275\u0275classProp"]("last-item",2===n)("recommended-item",!0),m["\u0275\u0275property"]("ecoNewsModel",e)("routerLink",m["\u0275\u0275pureFunction1"](6,oe,e.id))}}let ae=(()=>{class e{constructor(e,t){this.ecoNewsService=e,this.route=t}ngOnInit(){this.newsIdSubscription()}newsIdSubscription(){this.recommendedNewsSubscription=this.route.paramMap.pipe(Object(ee.a)(e=>{const t=+e.get("id");return this.ecoNewsService.getRecommendedNews(t)})).subscribe(e=>this.recommendedNews=e)}ngOnDestroy(){this.recommendedNewsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-eco-news-widget"]],decls:8,vars:4,consts:[[1,"wrapper"],[1,"m-0","p-0","container-fluid","d-flex","justify-content-center","align-items-center"],[1,"row","m-0","justify-content-center","w-100"],["class","col-lg-6 col-sm-12 col-xl-4 col-md-6 p-0 pb-3 d-flex justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"col-lg-6","col-sm-12","col-xl-4","col-md-6","p-0","pb-3","d-flex","justify-content-center","align-items-center"],[3,"ecoNewsModel","routerLink"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"p"),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](4,"hr"),m["\u0275\u0275elementStart"](5,"div",1),m["\u0275\u0275elementStart"](6,"div",2),m["\u0275\u0275template"](7,re,2,8,"div",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](3,2,"eco-news-single-view.eco-news-widget.paragraph")),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",t.recommendedNews))},directives:[i.t,ie,d.h],pipes:[c.d],styles:[".gallery-view-active[_ngcontent-%COMP%]{display:inline-flex;flex-flow:row wrap;justify-content:space-around;align-content:center;width:100%}p[_ngcontent-%COMP%]{margin-top:60px;font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:35px;color:var(--secondary-dark-grey)}hr[_ngcontent-%COMP%]{background:#e6e6e6;margin:20px 0}.list[_ngcontent-%COMP%]{list-style:none;padding-left:0}@media screen and (max-width:1024px){.gallery-view-active[_ngcontent-%COMP%]{grid-template-columns:repeat(2,27.8%);grid-gap:6.6%}}@media screen and (max-width:768px){.last-item[_ngcontent-%COMP%]{display:none}.gallery-view-active[_ngcontent-%COMP%]{display:flex}}@media screen and (max-width:576px){p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-dark-grey)}.gallery-view-active[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}}"]}),e})(),se=(()=>{class e{constructor(e){this.http=e,this.backEnd=C.a.backendLink}addComment(e,t=0){return this.http.post(`${this.backEnd}econews/comments/${this.ecoNewsId}`,{parentCommentId:t,text:e.value.content})}getActiveCommentsByPage(e,t){return this.http.get(`${this.backEnd}econews/comments/active?ecoNewsId=${this.ecoNewsId}&page=${e}&size=${t}`)}getCommentsCount(e){return this.http.get(`${this.backEnd}econews/comments/count/comments/${e}`)}getActiveRepliesByPage(e,t,n){return this.http.get(`${this.backEnd}econews/comments/replies/active/${e}?page=${t}&size=${n}`)}deleteComments(e){return this.http.delete(`${this.backEnd}econews/comments?id=${e}`,{observe:"response"})}getCommentLikes(e){return this.http.get(`${this.backEnd}econews/comments/count/likes?id=${e}`)}getRepliesAmount(e){return this.http.get(`${this.backEnd}econews/comments/count/replies/${e}`)}postLike(e){return this.http.post(`${this.backEnd}econews/comments/like?id=${e}`,{})}editComment(e,t){return this.http.patch(`${this.backEnd}econews/comments?id=${e}&text=${t.value}`,{parentCommentId:e,text:t.value})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275inject"](o.b))},e.\u0275prov=m["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ce=n("9ED3");function le(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.comments.zero-comment")," "))}function pe(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.comments.one-comment")," "))}function de(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.comments.more-then-two-comments")," "))}function me(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.comments.more-then-four-comments")," "))}function ge(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-add-comment",10),m["\u0275\u0275listener"]("updateList",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).updateElementsList()})),m["\u0275\u0275elementEnd"]()}}function he(e,t){1&e&&m["\u0275\u0275element"](0,"mat-spinner",11)}function ue(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-comments-list",12),m["\u0275\u0275listener"]("changedList",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).updateElementsList()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](1,"app-comment-pagination",13),m["\u0275\u0275listener"]("setPage",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).addCommentByPagination(t-1)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("elementsList",e.elementsList)("config",e.config)("isLoggedIn",e.isLoggedIn)("userId",e.userId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("config",e.config)}}const fe=function(){return[2,3,4]};function we(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"div",2),m["\u0275\u0275elementStart"](2,"div",3),m["\u0275\u0275elementStart"](3,"p"),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"p"),m["\u0275\u0275text"](7),m["\u0275\u0275elementContainerStart"](8,4),m["\u0275\u0275template"](9,le,3,3,"span",5),m["\u0275\u0275template"](10,pe,3,3,"span",5),m["\u0275\u0275template"](11,de,3,3,"span",5),m["\u0275\u0275template"](12,me,3,3,"span",6),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"hr"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](14,ge,1,0,"app-add-comment",7),m["\u0275\u0275template"](15,he,1,0,"mat-spinner",8),m["\u0275\u0275template"](16,ue,2,5,"ng-template",null,9,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275reference"](17),t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](5,9,"user.map.comments")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",t.totalElements," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitch",t.totalElements),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase",0),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase",1),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase",m["\u0275\u0275pureFunction0"](11,fe).includes(t.totalElements)?t.totalElements:!t.totalElements),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.isLoggedIn),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.elementsList.length<1&&t.elementsArePresent)("ngIfElse",e)}}function xe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-add-comment",16),m["\u0275\u0275listener"]("updateList",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).updateElementsList()})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("commentId",e.comment.id)}}function ve(e,t){1&e&&m["\u0275\u0275element"](0,"mat-spinner",11)}function be(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-comments-list",18),m["\u0275\u0275listener"]("changedList",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](3).updateElementsList()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](1,"app-comment-pagination",13),m["\u0275\u0275listener"]("setPage",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](3).addCommentByPagination(t-1)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](3);m["\u0275\u0275property"]("elementsList",e.elementsList)("commentId",e.comment.id)("config",e.config)("isLoggedIn",e.isLoggedIn)("userId",e.userId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("config",e.config)}}function ye(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,ve,1,0,"mat-spinner",8),m["\u0275\u0275template"](2,be,2,6,"ng-template",null,17,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](3),t=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.elementsList.length<1&&t.elementsArePresent)("ngIfElse",e)}}function Ce(e,t){if(1&e&&(m["\u0275\u0275template"](0,xe,1,1,"app-add-comment",14),m["\u0275\u0275template"](1,ye,4,2,"div",15)),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngIf",e.comment.showRelyButton&&e.isLoggedIn),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.comment.showAllRelies)}}let _e=(()=>{class e{constructor(e,t,n){this.commentsService=e,this.route=t,this.userOwnAuthService=n,this.dataType="comment",this.config={id:"comment",itemsPerPage:10,currentPage:0,totalItems:0},this.repliesCounter=new m.EventEmitter,this.elementsList=[],this.elementsArePresent=!0}ngOnInit(){this.checkUserSingIn(),this.userOwnAuthService.getDataFromLocalStorage(),this.newsId=this.route.snapshot.params.id,this.addEcoNewsId(),this.addCommentByPagination(),this.getActiveComments(),this.getCommentsTotalElements(),"reply"===this.dataType&&(this.config.id=this.comment.id.toString())}addEcoNewsId(){this.route.url.subscribe(e=>this.commentsService.ecoNewsId=e[0].path)}addCommentByPagination(e=0){this.commentsSubscription="comment"===this.dataType?this.commentsService.getActiveCommentsByPage(e,this.config.itemsPerPage).subscribe(e=>this.setCommentsList(e)):this.commentsService.getActiveRepliesByPage(this.comment.id,e,this.config.itemsPerPage).subscribe(e=>this.setCommentsList(e))}setCommentsList(e){this.elementsList=[...e.page],this.elementsArePresent=this.elementsList.length>0}updateElementsList(){this.addCommentByPagination(),this.getCommentsTotalElements(),this.getActiveComments()}getCommentsTotalElements(){"comment"===this.dataType?this.commentsService.getCommentsCount(this.newsId).subscribe(e=>this.totalElements=e):this.commentsService.getRepliesAmount(this.comment.id).subscribe(e=>this.repliesCounter.emit(e))}getActiveComments(){"comment"===this.dataType?this.commentsService.getActiveCommentsByPage(0,this.config.itemsPerPage).subscribe(e=>{this.setData(e.currentPage,e.totalElements)}):this.commentsService.getActiveRepliesByPage(this.comment.id,0,this.config.itemsPerPage).subscribe(e=>{this.setData(e.currentPage,e.totalElements)})}setData(e,t){this.config.currentPage=e,this.config.totalItems=t}checkUserSingIn(){this.userOwnAuthService.credentialDataSubject.subscribe(e=>{this.isLoggedIn=e&&e.userId,this.userId=e.userId})}ngOnDestroy(){this.commentsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](se),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](ce.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-comments-container"]],inputs:{dataType:"dataType",comment:"comment",config:"config"},outputs:{repliesCounter:"repliesCounter"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["replyConteiner",""],[1,"counter"],[1,"wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"updateList",4,"ngIf"],["class","spinner",4,"ngIf","ngIfElse"],["comments",""],[3,"updateList"],[1,"spinner"],["dataType","comment",3,"elementsList","config","isLoggedIn","userId","changedList"],[3,"config","setPage"],[3,"commentId","updateList",4,"ngIf"],[4,"ngIf"],[3,"commentId","updateList"],["reply",""],["dataType","reply",1,"list",3,"elementsList","commentId","config","isLoggedIn","userId","changedList"]],template:function(e,t){if(1&e&&(m["\u0275\u0275template"](0,we,18,12,"ng-container",0),m["\u0275\u0275template"](1,Ce,2,2,"ng-template",null,1,m["\u0275\u0275templateRefExtractor"])),2&e){const e=m["\u0275\u0275reference"](2);m["\u0275\u0275property"]("ngIf","comment"===t.dataType)("ngIfElse",e)}},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.spinner[_ngcontent-%COMP%]{margin:40px auto 0}.spinner[_ngcontent-%COMP%]  circle{stroke:var(--secondary-dark-green)}.list[_ngcontent-%COMP%]{width:100%}.counter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:500;font-size:24px;line-height:35px;color:var(--secondary-dark-grey);margin-bottom:18px}.counter[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background:#e6e6e6;margin-top:0;margin-bottom:32px}"]}),e})(),Oe=(()=>{class e{constructor(e){this.localStorageService=e,this.locale=this.localStorageService.getCurrentLanguage(),this.langChangeSubscription=this.localStorageService.languageSubject.subscribe(e=>this.locale=e)}transform(e){return Object(i.K)(e,"mediumDate",""+this.locale,null)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](g.a))},e.\u0275pipe=m["\u0275\u0275definePipe"]({name:"dateLocalisation",type:e,pure:!1}),e})();function Pe(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",36),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"eco-news-single-view.edit-news-button")," "))}function Me(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",37),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e," ")}}function Se(e,t){if(1&e&&m["\u0275\u0275element"](0,"img",38),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("src",e.likesType.like,m["\u0275\u0275sanitizeUrl"])}}function Ee(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"img",39),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onLikeNews()})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("src",e.isLiked?e.likesType.liked:e.likesType.like,m["\u0275\u0275sanitizeUrl"])}}function Ie(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",40),m["\u0275\u0275elementStart"](1,"div",41),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"a",42),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"eco-news-single-view.news-source")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate"]("href",null==e.newsItem?null:e.newsItem.source,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",null==e.newsItem?null:e.newsItem.source," ")}}const ke=function(){return["/news"]},Ne=function(){return["/news/create-news"]},Te=function(e){return{id:e}};function je(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275elementStart"](1,"div",3),m["\u0275\u0275elementStart"](2,"div",4),m["\u0275\u0275elementStart"](3,"a",5),m["\u0275\u0275elementStart"](4,"div",6),m["\u0275\u0275elementStart"](5,"div",7),m["\u0275\u0275element"](6,"img",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",9),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"a",10),m["\u0275\u0275template"](11,Pe,3,3,"div",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",12),m["\u0275\u0275template"](13,Me,2,1,"div",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",14),m["\u0275\u0275elementStart"](15,"div",15),m["\u0275\u0275elementStart"](16,"div",16),m["\u0275\u0275text"](17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",17),m["\u0275\u0275elementStart"](19,"div",18),m["\u0275\u0275text"](20),m["\u0275\u0275pipe"](21,"dateLocalisation"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"div",19),m["\u0275\u0275element"](23,"img",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"div",21),m["\u0275\u0275text"](25),m["\u0275\u0275pipe"](26,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](27,"div",22),m["\u0275\u0275template"](28,Se,1,1,"img",23),m["\u0275\u0275template"](29,Ee,1,1,"img",24),m["\u0275\u0275elementStart"](30,"span",25),m["\u0275\u0275text"](31),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](32,"img",26),m["\u0275\u0275elementStart"](33,"div",27),m["\u0275\u0275elementStart"](34,"div",28),m["\u0275\u0275elementStart"](35,"a",29),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onSocialShareLinkClick("twitter")})),m["\u0275\u0275element"](36,"img",30),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](37,"a",29),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onSocialShareLinkClick("linkedin")})),m["\u0275\u0275element"](38,"img",31),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](39,"a",29),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onSocialShareLinkClick("fb")})),m["\u0275\u0275element"](40,"img",32),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](41,"div",33),m["\u0275\u0275elementStart"](42,"div",34),m["\u0275\u0275text"](43),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](44,Ie,6,5,"div",35),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](45,"app-eco-news-widget"),m["\u0275\u0275element"](46,"app-comments-container"),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](27,ke)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",e.images.arrowLeft,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](9,21,"eco-news-single-view.back-button")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](28,Ne))("queryParams",m["\u0275\u0275pureFunction1"](29,Te,e.newsItem.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.newsItem.author.id===e.userId),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.newsItem.tags),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"](" ",e.newsItem.title," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](21,23,e.newsItem.creationDate)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",e.images.ellipse,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](26,25,"eco-news-single-view.author")," ",e.newsItem.author.name,""),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",!e.userId),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.userId),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.newsItem.likes),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.checkNewsImage(),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("src",e.images.twitter,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.images.linkedIn,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.images.facebook,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.newsItem.text," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==e.newsItem?null:e.newsItem.text)}}let Le=(()=>{class e{constructor(e,t,n){this.route=e,this.ecoNewsService=t,this.localStorageService=n,this.images=Q.a,this.likesType={like:"assets/img/comments/like.png",liked:"assets/img/comments/liked.png"},this.destroy=new Z.a}ngOnInit(){this.canUserEditNews(),this.setNewsId(),this.setNewsIdSubscription(),this.getIsLiked()}setNewsItem(e){const t={authorId:e.author.id,authorName:e.author.name};this.newsItem=Object.assign(Object.assign({},e),t)}checkNewsImage(){return this.newsImage=this.newsItem.imagePath&&" "!==this.newsItem.imagePath?this.newsItem.imagePath:this.images.largeImage,this.newsImage}canUserEditNews(){this.localStorageService.userIdBehaviourSubject.subscribe(e=>this.userId=e)}onSocialShareLinkClick(e){const t=this.shareLinks();window.open(t[e](),"_blank")}onLikeNews(){this.isLiked?(this.isLiked=!1,this.newsItem.likes=this.newsItem.likes-1,this.postToggleLike()):(this.isLiked=!0,this.newsItem.likes=this.newsItem.likes+1,this.postToggleLike())}postToggleLike(){this.ecoNewsService.postToggleLike(this.newsId)}shareLinks(){const e=window.location.href;return{fb:()=>"https://www.facebook.com/sharer/sharer.php?u="+e,linkedin:()=>"https://www.linkedin.com/sharing/share-offsite/?url="+e,twitter:()=>`https://twitter.com/share?url=${e}&text=${this.newsItem.title}&hashtags=${this.newsItem.tags.join(",")}`}}setNewsId(){this.newsId=this.route.snapshot.params.id}setNewsIdSubscription(){this.route.paramMap.pipe(Object(f.a)(this.destroy)).subscribe(e=>{this.newsId=+e.get("id"),this.fetchNewsItem()})}fetchNewsItem(){const e=this.newsId.toString();this.ecoNewsService.getEcoNewsById(e).pipe(Object(f.a)(this.destroy)).subscribe(e=>this.setNewsItem(e))}getIsLiked(){this.ecoNewsService.getIsLikedByUser(this.newsId).pipe(Object(w.a)(1)).subscribe(e=>{this.isLiked=e})}ngOnDestroy(){this.destroy.next(),this.destroy.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-eco-news-detail"]],decls:2,vars:1,consts:[["role","main","id","main-content"],["class","container",4,"ngIf"],[1,"container"],[1,"top-elements"],[1,"back-button"],[1,"button-link",3,"routerLink"],[1,"button-content"],[1,"button-arrow"],["aria-hidden","true","alt","arrow",1,"button-arrow-img",3,"src"],[1,"button-text"],[3,"routerLink","queryParams"],["class","edit-news",4,"ngIf"],[1,"tags"],["class","tags-item",4,"ngFor","ngForOf"],[1,"news-content"],[1,"news-title-container"],[1,"news-title","word-wrap"],[1,"news-info"],[1,"news-info-date"],[1,"news-info-dot"],["alt","dot",3,"src"],[1,"news-info-author"],[1,"like_wr"],["class","news_like disable","alt","like",3,"src",4,"ngIf"],["class","news_like","alt","like",3,"src","click",4,"ngIf"],[1,"numerosity_likes"],["alt","news-image",1,"news-image-img",3,"src"],[1,"news-text-container"],[1,"news-links-images"],[3,"click"],["alt","twitter",1,"news-links-img",3,"src"],["alt","linkedin",1,"news-links-img",3,"src"],["alt","facebook",1,"news-links-img","last-img",3,"src"],[1,"news-text"],[1,"news-text-content","word-wrap"],["class","source-field",4,"ngIf"],[1,"edit-news"],[1,"tags-item"],["alt","like",1,"news_like","disable",3,"src"],["alt","like",1,"news_like",3,"src","click"],[1,"source-field"],[1,"source-title"],[1,"source-text","word-wrap",3,"href"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"main",0),m["\u0275\u0275template"](1,je,47,31,"div",1),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.newsItem))},directives:[i.u,d.j,i.t,ae,_e],pipes:[c.d,Oe],styles:[".word-wrap[_ngcontent-%COMP%]{word-break:break-word}.button-content[_ngcontent-%COMP%], .news-info[_ngcontent-%COMP%], .news-links-images[_ngcontent-%COMP%], .top-elements[_ngcontent-%COMP%]{display:flex;align-items:center}.back-button[_ngcontent-%COMP%], .edit-news[_ngcontent-%COMP%], .news-info[_ngcontent-%COMP%], .news-text[_ngcontent-%COMP%], .tags-item[_ngcontent-%COMP%]{font-family:var(--primary-font)}.top-elements[_ngcontent-%COMP%]{margin-top:54px;justify-content:space-between}.back-button[_ngcontent-%COMP%]{font-size:1rem;line-height:19px;-webkit-text-decoration-line:underline;text-decoration-line:underline}.button-link[_ngcontent-%COMP%]{color:var(--primary-dark-grey)}.button-arrow[_ngcontent-%COMP%]{margin-right:6px}.edit-news[_ngcontent-%COMP%]{padding:15px 32px;color:var(--primary-green);font-size:1rem;line-height:16px;font-weight:700;border:1px solid var(--primary-green);border-radius:3px;text-align:center}.edit-news[_ngcontent-%COMP%]:hover{border-color:var(--secondary-dark-green);color:var(--secondary-dark-green)}.news-content[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{text-align:center}.tags[_ngcontent-%COMP%]{padding:48px 0 24px;display:flex;justify-content:center}.tags-item[_ngcontent-%COMP%]{color:var(--tertiary-grey);text-transform:capitalize;font-size:14px;line-height:16px;margin:0 8px;padding:8px 16px;border:1px solid var(--secondary-grey);border-radius:25px}.news-content[_ngcontent-%COMP%]{margin:0 7.5%}.news-title-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.news-title[_ngcontent-%COMP%]{margin:0 6.8% 24px;color:var(--primary-dark-grey);font-weight:500;width:100%;font-size:calc(19.42857px + 1.42857vw);line-height:calc(27.42857px + 1.42857vw);font-family:var(--secondary-font)}.news-info[_ngcontent-%COMP%]{padding:24px 0;display:flex;justify-content:center}.news-info-author[_ngcontent-%COMP%], .news-info-date[_ngcontent-%COMP%]{color:var(--primary-dark-grey);font-size:calc(13.71429px + .71429vw);line-height:calc(9.14286px + 2.14286vw)}.news-info-dot[_ngcontent-%COMP%]{padding:0 32px}.news-image-img[_ngcontent-%COMP%]{width:100%;-o-object-fit:contain;object-fit:contain}.news-links-images[_ngcontent-%COMP%]{flex-direction:column}.news-links-img[_ngcontent-%COMP%]{margin:9px 0}.news-text-container[_ngcontent-%COMP%]{display:flex;padding:69px 0 0;margin-top:37px}.news-text[_ngcontent-%COMP%]{margin-left:3rem;color:#000;text-align:left;width:100%}.news-text-content[_ngcontent-%COMP%]{width:90%;font-size:18px;line-height:32px;white-space:pre-wrap}.source-field[_ngcontent-%COMP%]{margin-top:32px;display:flex}.source-title[_ngcontent-%COMP%]{font-size:1.2rem;line-height:40px;color:var(--primary-dark-grey);mix-blend-mode:normal;margin-right:8px}.source-text[_ngcontent-%COMP%], .source-title[_ngcontent-%COMP%]{font-family:var(--primary-font)}.source-text[_ngcontent-%COMP%]{max-width:631px;font-size:18px;line-height:32px;margin-top:6px}.like_wr[_ngcontent-%COMP%]{margin-left:20px;display:flex;align-items:center}.like_wr[_ngcontent-%COMP%]   .news_like[_ngcontent-%COMP%]{cursor:pointer;width:20px;height:20px}.like_wr[_ngcontent-%COMP%]   .numerosity_likes[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;color:var(--secondary-grey);opacity:.6;margin-left:10px}.like_wr[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{cursor:default}@media (min-width:576px){.container[_ngcontent-%COMP%]{padding:0}}@media screen and (max-width:1024px){.wrapper[_ngcontent-%COMP%]{margin:0 3%}.news-title[_ngcontent-%COMP%]{margin:0 8% 24px}.news-content[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:768px){.wrapper[_ngcontent-%COMP%]{margin:0 1.8%}.news-title[_ngcontent-%COMP%]{margin:0 0 24px}.news-links-img[_ngcontent-%COMP%]{margin:0 32px 0 0}.news-text-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding:0}.news-links-images[_ngcontent-%COMP%]{flex-direction:row;margin:51px auto;width:136px}.last-img[_ngcontent-%COMP%]{margin:0}.news-text[_ngcontent-%COMP%]{margin-left:0}.news-text-content[_ngcontent-%COMP%]{width:100%}.source-text[_ngcontent-%COMP%]{max-width:647px}}@media screen and (max-width:576px){.wrapper[_ngcontent-%COMP%]{margin:0 2.4%}.wrap[_ngcontent-%COMP%]{width:100vw;margin-left:calc(-50vw + 50% - 8px);position:relative}}@media only screen and (max-width:768px){.news-text-container[_ngcontent-%COMP%]{flex-direction:column;margin-top:0}.news-text-container[_ngcontent-%COMP%]   .news-links-images[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}.news-text-container[_ngcontent-%COMP%]   .news-text[_ngcontent-%COMP%]{padding:0;margin-left:0}}@media screen and (max-width:320px){.wrapper[_ngcontent-%COMP%]{margin:0 5%}.news-title[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.back-button[_ngcontent-%COMP%]{margin-bottom:36px;display:flex;justify-content:center}.submit-form[_ngcontent-%COMP%]{width:100%;height:48px}.edit-news[_ngcontent-%COMP%]{width:100%;padding:11px 32px;font-weight:600}.news-info[_ngcontent-%COMP%], .top-elements[_ngcontent-%COMP%]{flex-direction:column}.create-news-text[_ngcontent-%COMP%]{font-size:24px;line-height:32px;margin-top:64px}.news-info-author[_ngcontent-%COMP%], .news-info-date[_ngcontent-%COMP%], .news-text-content[_ngcontent-%COMP%], .source-text[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.source-text[_ngcontent-%COMP%]{margin-top:8px}.source-field[_ngcontent-%COMP%]{flex-direction:column}.source-field[_ngcontent-%COMP%]   .source-text[_ngcontent-%COMP%]{max-width:288px}}@media only screen and (max-width:320px){.news-info[_ngcontent-%COMP%]{flex-direction:column}}"]}),e})();var Ae=n("xEgn"),Be=n("aW+4");function De(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"h2"),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"](" ",e.remainingCount," ",m["\u0275\u0275pipeBind1"](3,2,1===e.remainingCount?"homepage.eco-news.items-found.item-at-1":"homepage.eco-news.items-found.item-at-all")," ")}}function ze(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"]("",e.remainingCount," ",m["\u0275\u0275pipeBind1"](2,2,"homepage.eco-news.items-found.item-at-1"),"")}}function Fe(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"]("",e.remainingCount," ",m["\u0275\u0275pipeBind1"](2,2,"homepage.eco-news.items-found.item-at-2-3-4"),"")}}function Ve(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"]("",e.remainingCount," ",m["\u0275\u0275pipeBind1"](2,2,"homepage.eco-news.items-found.item-at-all"),"")}}function He(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275template"](1,ze,3,4,"h2",3),m["\u0275\u0275template"](2,Fe,3,4,"h2",3),m["\u0275\u0275template"](3,Ve,3,4,"h2",4),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngSwitch",e.setWordDeclension(e.remainingCount+"")),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase","a"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase","b")}}let Ue=(()=>{class e{constructor(e,t){this.translate=e,this.wordDeclensionService=t,this.remainingCount=0}setWordDeclension(e){return this.wordDeclensionService.setWordDeclension(e)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](c.e),m["\u0275\u0275directiveInject"](Be.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-remaining-count"]],inputs:{remainingCount:"remainingCount"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["otherLanguages",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(m["\u0275\u0275template"](0,De,4,4,"div",0),m["\u0275\u0275template"](1,He,4,3,"ng-template",null,1,m["\u0275\u0275templateRefExtractor"])),2&e){const e=m["\u0275\u0275reference"](2);m["\u0275\u0275property"]("ngIf","en"===t.translate.defaultLang)("ngIfElse",e)}},directives:[i.u,i.y,i.z,i.A],pipes:[c.d],styles:["h2[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:24px;color:#000;margin:0}@media screen and (max-width:575px){h2[_ngcontent-%COMP%]{font-size:12px}}"]}),e})();const Re=function(e){return{"btn-tiles-active":e}},We=function(e){return{"btn-bars-active":e}};let $e=(()=>{class e{constructor(){this.view=new m.EventEmitter,this.gallery=!0}ngOnInit(){this.getSessionStorageView(),this.changeGalleryViewEmit(this.gallery)}changeGalleryView(){this.gallery=!0,this.view.emit(this.gallery),this.setSessionStorageView()}changeListView(){this.gallery=!1,this.view.emit(this.gallery),this.setSessionStorageView()}changeGalleryViewEmit(e){this.view.emit(e)}setSessionStorageView(){sessionStorage.setItem("viewGallery",JSON.stringify(this.gallery))}getSessionStorageView(){const e=sessionStorage.getItem("viewGallery");null!==e&&(this.gallery=JSON.parse(e),this.view.emit(this.gallery))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-view-button"]],inputs:{gallery:"gallery"},outputs:{view:"view"},decls:5,vars:6,consts:[[1,"wrapper"],[1,"btn-tiles",3,"ngClass","click"],[1,"fa","fa-th-large"],[1,"btn-bars",3,"ngClass","click"],[1,"fa","fa-bars"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"span",1),m["\u0275\u0275listener"]("click",(function(){return t.changeGalleryView()})),m["\u0275\u0275element"](2,"em",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"span",3),m["\u0275\u0275listener"]("click",(function(){return t.changeListView()})),m["\u0275\u0275element"](4,"em",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](2,Re,t.gallery)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](4,We,!t.gallery)))},directives:[i.r],styles:[".wrapper[_ngcontent-%COMP%]{display:none}@media (min-width:576px){.wrapper[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-right:8px}}"]}),e})();const Ge={smallHeight:{26:"one-row",52:"d-none",72:"d-none",78:"one-row",96:"d-none",100:"one-row",104:"d-none"},bigHeight:{24:"tree-row",26:"tree-row",48:"two-row",52:"two-row",72:"one-row",78:"one-row",96:"one-row",100:"one-row"}},Xe={smallHeight:{26:"one-row",52:"two-row",78:"tree-row",104:"two-row"},bigHeight:{24:"one-row",26:"one-row",48:"two-row",52:"two-row",72:"tree-row",78:"tree-row",96:"tree-row",100:"tree-row",104:"tree-row"}},Je=["titleHeight"],qe=["textHeight"];function Ye(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",14),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275pipe"](3,"lowercase"),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,m["\u0275\u0275pipeBind1"](3,3,"homepage.eco-news.tags."+e))," ")}}let Ke=(()=>{class e{constructor(e,t){this.renderer=e,this.translate=t,this.smallHeight="smallHeight",this.bigHeight="bigHeight",this.profileIcons=te.a}ngAfterViewChecked(){this.checkHeightOfTittle()}checkHeightOfTittle(){const e=this.titleHeight.nativeElement.offsetHeight,t=this.getHeightOfDesc(e),n=this.getHeightOfTitle(e);this.renderer.addClass(this.textHeight.nativeElement,t),this.renderer.addClass(this.titleHeight.nativeElement,n)}checkNewsImage(){return this.newsImage=this.ecoNewsModel.imagePath&&" "!==this.ecoNewsModel.imagePath?this.ecoNewsModel.imagePath:this.profileIcons.newsDefaultPictureList,this.newsImage}getDomWidth(){return window.innerWidth<=768?this.smallHeight:this.bigHeight}getHeightOfDesc(e){return Ge[this.getDomWidth()][e]||(e>52?"one-row":e>26?"two-row":"tree-row")}getHeightOfTitle(e){return Xe[this.getDomWidth()][e]||(e>52?"tree-row":e>26?"two-row":"one-row")}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.Renderer2),m["\u0275\u0275directiveInject"](c.e))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-list-list-view"]],viewQuery:function(e,t){var n;1&e&&(m["\u0275\u0275staticViewQuery"](Je,!0),m["\u0275\u0275staticViewQuery"](qe,!0)),2&e&&(m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.titleHeight=n.first),m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.textHeight=n.first))},inputs:{ecoNewsModel:"ecoNewsModel"},decls:22,vars:13,consts:[[1,"eco-news_list-view-wrp"],["alt","Eco news image",1,"eco-news_list-img",3,"src"],[1,"eco-news_list-content"],[1,"filter-tag"],["class","eco-news_list-tag d-inline-block",4,"ngFor","ngForOf"],[1,"eco-news_list-content-title"],["titleHeight",""],[1,"eco-news_list-content-text"],["textHeight",""],[1,"eco-news_list-autors"],[1,"eco-news_data-text-date"],["alt","calendar icon",1,"icon",3,"src"],[1,"eco-news_person"],["alt","user icon",1,"icon",3,"src"],[1,"eco-news_list-tag","d-inline-block"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"img",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275template"](4,Ye,4,5,"p",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div"),m["\u0275\u0275elementStart"](6,"div",5,6),m["\u0275\u0275elementStart"](8,"p"),m["\u0275\u0275text"](9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"div",7,8),m["\u0275\u0275elementStart"](12,"p"),m["\u0275\u0275text"](13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",9),m["\u0275\u0275elementStart"](15,"p",10),m["\u0275\u0275element"](16,"img",11),m["\u0275\u0275text"](17),m["\u0275\u0275pipe"](18,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"p",12),m["\u0275\u0275element"](20,"img",13),m["\u0275\u0275text"](21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",t.checkNewsImage(),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",t.ecoNewsModel.tags),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.title," "),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.text," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",t.profileIcons.calendarIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind4"](18,8,t.ecoNewsModel.creationDate,void 0,void 0,t.translate.defaultLang)," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",t.profileIcons.userIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.author.name," "))},directives:[i.t],pipes:[i.f,c.d,i.q],styles:["div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}.eco-news_list-view-wrp[_ngcontent-%COMP%]{width:540px;height:192px;box-shadow:1px 1px 12px rgba(27,51,38,.15);border-radius:4px;background:#fff}.eco-news_list-img[_ngcontent-%COMP%]{display:none}.eco-news_list-tag[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:12px;line-height:16px;letter-spacing:-.25px;text-transform:uppercase;color:var(--primary-green);margin-right:5px}.eco-news_list-content[_ngcontent-%COMP%]{padding:24px;display:grid;grid-template-rows:20px auto 20px;row-gap:8px;height:100%}.eco-news_list-content-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:28px}.eco-news_list-content-title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:20px;color:var(--quaternary-dark-grey);line-height:24px;margin-bottom:5px;overflow:hidden;word-break:break-all}.eco-news_list-autors[_ngcontent-%COMP%]{display:flex;font-family:var(--primary-font);font-size:13.9px;line-height:21px;color:var(--tertiary-grey);mix-blend-mode:normal;opacity:.6}.eco-news_list-autors[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.eco-news_list-autors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center}.eco-news_data-text-date[_ngcontent-%COMP%]{min-width:95px;margin-right:20px}.eco-news_data-text-date[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:11px}.eco-news_person[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:11px;height:10.5px}.eco-news_list-content-text[_ngcontent-%COMP%]{font-size:14px;line-height:21px;font-family:var(--primary-font)}@media (min-width:768px){.eco-news_list-img[_ngcontent-%COMP%]{display:block;object-fit:cover;-o-object-fit:cover;height:100%;width:100%;border-top-left-radius:4px;border-bottom-left-radius:4px;overflow:hidden}.eco-news_list-view-wrp[_ngcontent-%COMP%]{height:204px;width:720px;display:grid;grid-template-columns:204px auto}}@media (min-width:1024px){.eco-news_list-view-wrp[_ngcontent-%COMP%]{height:204px;width:960px;grid-template-columns:359px auto}}@media (min-width:1440px){.eco-news_list-view-wrp[_ngcontent-%COMP%]{width:1140px}.eco-news_list-content[_ngcontent-%COMP%]{height:204px;grid-template-rows:20px 96px 20px;word-break:break-all}.eco-news_list-img[_ngcontent-%COMP%]{display:block;object-fit:cover;-o-object-fit:cover;height:100%;width:100%;border-top-left-radius:4px;border-bottom-left-radius:4px;overflow:hidden}}.four-row[_ngcontent-%COMP%]{-webkit-line-clamp:4}.four-row[_ngcontent-%COMP%], .tree-row[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;word-break:break-all}.tree-row[_ngcontent-%COMP%]{-webkit-line-clamp:3}.two-row[_ngcontent-%COMP%]{-webkit-line-clamp:2}.one-row[_ngcontent-%COMP%], .two-row[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;word-break:break-all}.one-row[_ngcontent-%COMP%]{-webkit-line-clamp:1}"],changeDetection:0}),e})();var Qe=n("f3yp"),Ze=n("iatx");const et=function(){return["create-news"]};function tt(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"a",16),m["\u0275\u0275elementStart"](1,"div",17),m["\u0275\u0275elementStart"](2,"span",18),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](4,et)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,2,"homepage.eco-news.create")))}function nt(e,t){if(1&e&&m["\u0275\u0275element"](0,"app-news-list-gallery-view",23),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275property"]("ecoNewsModel",e)}}function it(e,t){if(1&e&&m["\u0275\u0275element"](0,"app-news-list-list-view",23),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275property"]("ecoNewsModel",e)}}const ot=function(e,t){return{"gallery-view-li-active":e,"list-view-li-active":t}},rt=function(e){return["/news",e]};function at(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",21),m["\u0275\u0275template"](1,nt,1,1,"app-news-list-gallery-view",22),m["\u0275\u0275template"](2,it,1,1,"app-news-list-list-view",22),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](4,ot,n.view,!n.view))("routerLink",m["\u0275\u0275pureFunction1"](7,rt,e.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",n.view),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!n.view)}}const st=function(e){return{"gallery-view-active":e}};function ct(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ul",19),m["\u0275\u0275template"](1,at,3,9,"li",20),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](2,st,e.view)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.elements)}}function lt(e,t){1&e&&m["\u0275\u0275element"](0,"app-spinner")}function pt(e,t){1&e&&m["\u0275\u0275element"](0,"app-no-data",24),2&e&&m["\u0275\u0275property"]("text","homepage.eco-news.empty-state.no-news-advice")("title","homepage.eco-news.empty-state.no-news")}let dt=(()=>{class e{constructor(e,t,n,i){this.ecoNewsService=e,this.userOwnAuthService=t,this.snackBar=n,this.localStorageService=i,this.remaining=0,this.elementsArePresent=!0,this.destroyed$=new b.a(1)}ngOnInit(){this.onResize(),this.setDefaultNumberOfNews(12),this.setNullList(),this.checkUserSingIn(),this.userOwnAuthService.getDataFromLocalStorage(),this.scroll=!1,this.setLocalizedTags()}setLocalizedTags(){this.localStorageService.languageBehaviourSubject.pipe(Object(f.a)(this.destroyed$)).subscribe(()=>this.getAllTags())}getAllTags(){this.ecoNewsService.getAllPresentTags().pipe(Object(w.a)(1)).subscribe(e=>this.tagList=e.map(e=>e.name))}onResize(){this.getSessionStorageView(),this.windowSize=window.innerWidth,this.view=this.windowSize>576||!!this.gallery}getSessionStorageView(){const e=sessionStorage.getItem("viewGallery");e&&(this.gallery=JSON.parse(e))}onScroll(){this.scroll=!0,this.addElemsToCurrentList()}changeView(e){this.view=e}getFilterData(e){this.tagsList!==e&&(this.setNullList(),this.tagsList=e),this.addElemsToCurrentList()}checkUserSingIn(){this.userOwnAuthService.credentialDataSubject.subscribe(e=>this.isLoggedIn=e&&e.userId)}addElemsToCurrentList(){this.tagsList?this.ecoNewsService.getNewsListByTags(this.currentPage,this.numberOfNews,this.tagsList).pipe(Object(f.a)(this.destroyed$),Object(x.a)(e=>(this.snackBar.openSnackBar("error"),e))).subscribe(e=>this.setList(e)):this.ecoNewsService.getEcoNewsListByPage(this.currentPage,this.numberOfNews).pipe(Object(f.a)(this.destroyed$),Object(x.a)(e=>(this.snackBar.openSnackBar("error"),e))).subscribe(e=>this.setList(e)),this.changeCurrentPage()}setList(e){this.remaining=e.totalElements,this.elements=this.scroll?[...this.elements,...e.page]:[...e.page],this.elementsArePresent=this.elements.length<e.totalElements}setNullList(){this.currentPage=0,this.elements=[],this.elementsArePresent=!0}setDefaultNumberOfNews(e){this.numberOfNews=e}changeCurrentPage(){this.currentPage+=1}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](ce.a),m["\u0275\u0275directiveInject"](E.a),m["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-list"]],decls:20,vars:14,consts:[["role","main","id","main-content"],[1,"container"],[3,"resize"],[1,"cont"],[1,"main-header"],[3,"routerLink",4,"ngIf"],[1,"flex-container"],[3,"header","storageKey","tagsListData","tagsList"],[1,"main-wrapper"],[3,"remainingCount"],[3,"gallery","view"],[1,"list-wrapper"],["class","list",3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"text","title",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"routerLink"],["id","create-button",1,"secondary-global-button"],["id","create-button-text"],[1,"list",3,"ngClass"],[3,"ngClass","routerLink",4,"ngFor","ngForOf"],[3,"ngClass","routerLink"],[3,"ecoNewsModel",4,"ngIf"],[3,"ecoNewsModel"],[3,"text","title"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"main",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,m["\u0275\u0275resolveWindow"]),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275elementStart"](4,"h1",4),m["\u0275\u0275text"](5),m["\u0275\u0275pipe"](6,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,tt,5,5,"a",5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div"),m["\u0275\u0275elementStart"](9,"div",6),m["\u0275\u0275elementStart"](10,"app-tag-filter",7),m["\u0275\u0275listener"]("tagsList",(function(e){return t.getFilterData(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](11,"hr"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",8),m["\u0275\u0275element"](13,"app-remaining-count",9),m["\u0275\u0275elementStart"](14,"app-change-view-button",10),m["\u0275\u0275listener"]("view",(function(e){return t.changeView(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",11),m["\u0275\u0275template"](16,ct,2,4,"ul",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](17,lt,1,0,"app-spinner",13),m["\u0275\u0275template"](18,pt,1,2,"app-no-data",14),m["\u0275\u0275elementStart"](19,"div",15),m["\u0275\u0275listener"]("scrolled",(function(){return t.onScroll()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](6,12,"homepage.eco-news.title")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.isLoggedIn),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("header","homepage.eco-news.filter")("storageKey","EcoNews-filter")("tagsListData",t.tagList),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("remainingCount",t.remaining),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("gallery",t.view),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.remaining),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.elementsArePresent),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.elementsArePresent&&0===t.remaining),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500))},directives:[i.u,Ae.a,Ue,$e,p.a,d.j,i.r,i.t,d.h,ie,Ke,Qe.a,Ze.a],pipes:[c.d],styles:[".cont[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}div[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:4px 0 18px}.main-header[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:55px;line-height:48px;width:256px;white-space:nowrap;font-weight:500;margin:0 0 34px -3px}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-create-news[_ngcontent-%COMP%]{top:-10px}.main-wrapper[_ngcontent-%COMP%]{margin-bottom:42px;display:flex;justify-content:space-between}.list-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.list-wrapper[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style:none;padding-left:0}.gallery-view-active[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,359px);grid-gap:32px}.list-view-li-active[_ngcontent-%COMP%]{margin-bottom:32px}li[_ngcontent-%COMP%]:focus{outline:none}#create-button[_ngcontent-%COMP%]{border-radius:5px;line-height:16px;width:183px;min-height:40px;padding:8px 40px;display:flex;align-items:center;justify-content:center}#create-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:16px;white-space:nowrap}@media screen and (max-width:1199px){.wrapper[_ngcontent-%COMP%]{margin:0 3%}.gallery-view-active[_ngcontent-%COMP%]{grid-template-columns:repeat(3,299px)}}@media screen and (max-width:991px){.wrapper[_ngcontent-%COMP%]{margin:0 2.43%}.gallery-view-active[_ngcontent-%COMP%]{grid-template-columns:repeat(2,353px)}}@media screen and (max-width:767px){.wrapper[_ngcontent-%COMP%]{margin:0 1.95%}.gallery-view-active[_ngcontent-%COMP%]{grid-template-columns:repeat(2,258px)}}@media screen and (max-width:575px){.wrapper[_ngcontent-%COMP%]{margin:0 2.4%}.main-header[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.gallery-view-active[_ngcontent-%COMP%]{grid-template-columns:repeat(1,288px);grid-gap:24px}#create-button[_ngcontent-%COMP%]{width:122px;min-height:32px;padding:0}#create-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;line-height:12px}}@media (min-width:576px){.container[_ngcontent-%COMP%]{padding:0;max-width:96%}}"]}),e})();function mt(e,t){1&e&&m["\u0275\u0275element"](0,"app-post-news-loader")}function gt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"button",32),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,e.attributes.btnCaption)," ")}}function ht(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",33),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"eco-news-preview.tags."+e.toLowerCase())," ")}}function ut(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",34),m["\u0275\u0275elementStart"](1,"div",35),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",36),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,2,"eco-news-preview.news-source")," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.previewItem.value.source," ")}}const ft=function(){return["/news","create-news"]};function wt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275elementStart"](1,"div",3),m["\u0275\u0275elementStart"](2,"div",4),m["\u0275\u0275elementStart"](3,"a",5),m["\u0275\u0275elementStart"](4,"div",6),m["\u0275\u0275elementStart"](5,"div",7),m["\u0275\u0275element"](6,"img",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",9),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().isBackToEdit()})),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"form",10),m["\u0275\u0275listener"]("ngSubmit",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onSubmit()})),m["\u0275\u0275template"](11,gt,3,3,"button",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",12),m["\u0275\u0275text"](13),m["\u0275\u0275pipe"](14,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",13),m["\u0275\u0275template"](16,ht,3,3,"div",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"div",15),m["\u0275\u0275elementStart"](18,"div",16),m["\u0275\u0275elementStart"](19,"div",17),m["\u0275\u0275text"](20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",18),m["\u0275\u0275elementStart"](22,"div",19),m["\u0275\u0275text"](23),m["\u0275\u0275pipe"](24,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"div",20),m["\u0275\u0275element"](26,"img",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](27,"div",22),m["\u0275\u0275text"](28),m["\u0275\u0275pipe"](29,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](30,"img",23),m["\u0275\u0275elementStart"](31,"div",24),m["\u0275\u0275elementStart"](32,"div",25),m["\u0275\u0275element"](33,"img",26),m["\u0275\u0275element"](34,"img",27),m["\u0275\u0275element"](35,"img",28),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](36,"div",29),m["\u0275\u0275elementStart"](37,"div",30),m["\u0275\u0275text"](38),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](39,ut,6,4,"div",31),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](26,ft)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",e.images.arrowLeft,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](9,17,"eco-news-preview.back-button")),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",e.previewItem.valid&&0!==e.previewItem.value.tags.length),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](14,19,e.attributes.title)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",e.previewItem.value.tags),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"](" ",e.previewItem.value.title," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind2"](24,21,e.actualDate,"mediumDate")," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",e.images.ellipse,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](29,24,"eco-news-preview.author")," ",e.userName,""),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.getImagePath(),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",e.images.twitter,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.images.linkedIn,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.images.facebook,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.previewItem.value.content," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.previewItem.value.source)}}const xt=[{path:"",component:h,children:[{path:"preview",component:(()=>{class e{constructor(e,t,n,i){this.createEcoNewsService=e,this.localStorageService=t,this.router=n,this.config=i,this.images=Q.a,this.actualDate=new Date,this.isPosting=!1}ngOnInit(){this.getPreviewData(),this.bindUserName(),this.createEcoNewsService.getNewsId()?(this.newsId=this.createEcoNewsService.getNewsId(),this.attributes=this.config.edit,this.onSubmit=this.editNews):(this.attributes=this.config.create,this.onSubmit=this.postNewsItem)}isBackToEdit(){this.createEcoNewsService.isBackToEditing=!0,setTimeout(()=>{this.createEcoNewsService.isBackToEditing=!1},1e3)}bindUserName(){this.userNameSub=this.localStorageService.firstNameBehaviourSubject.subscribe(e=>{this.userName=e})}getPreviewData(){this.previewItem=this.createEcoNewsService.getFormData()}postNewsItem(){this.isPosting=!0,this.createEcoNewsService.sendFormData(this.previewItem).subscribe(()=>{this.isPosting=!1,this.router.navigate(["/news"])})}editNews(){const e=Object.assign(Object.assign({},this.previewItem.value),{id:this.newsId});this.createEcoNewsService.editNews(e).subscribe(()=>{this.isPosting=!1,this.router.navigate(["/news"])})}getImagePath(){return this.previewItem.value.image?this.previewItem.value.image:this.images.largeImage}ngOnDestroy(){this.userNameSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](_),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](d.g),m["\u0275\u0275directiveInject"](P))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-preview-page"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"top-elements"],[1,"back-button"],[1,"button-link",3,"routerLink"],[1,"button-content"],[1,"button-arrow"],["alt","arrow",1,"button-arrow-img",3,"src"],[1,"button-text",3,"click"],[1,"submit-form",3,"ngSubmit"],["type","submit","class","primary-global-button",4,"ngIf"],[1,"create-news-text"],[1,"tags"],["class","tags-item",4,"ngFor","ngForOf"],[1,"news-content"],[1,"news-title-container"],[1,"news-title","word-wrap"],[1,"news-info"],[1,"news-info-date"],[1,"news-info-dot"],["alt","dot",3,"src"],[1,"news-info-author"],["alt","news-image",1,"news-image-img",3,"src"],[1,"news-text-container"],[1,"news-links-images"],["alt","twitter",1,"news-links-img",3,"src"],["alt","linkedin",1,"news-links-img",3,"src"],["alt","facebook",1,"news-links-img",3,"src"],[1,"news-text"],[1,"news-text-content","word-wrap"],["class","source-field",4,"ngIf"],["type","submit",1,"primary-global-button"],[1,"tags-item"],[1,"source-field"],[1,"source-title"],[1,"source-text","word-wrap"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,mt,1,0,"app-post-news-loader",0),m["\u0275\u0275template"](1,wt,40,27,"div",1)),2&e&&(m["\u0275\u0275property"]("ngIf",t.isPosting),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.isPosting))},directives:[i.u,T,d.j,u.J,u.u,u.v,i.t],pipes:[c.d,i.f],styles:[".wrapper[_ngcontent-%COMP%]{margin:0 10%}.word-wrap[_ngcontent-%COMP%]{word-break:break-word}.button-content[_ngcontent-%COMP%], .news-info[_ngcontent-%COMP%], .news-links-images[_ngcontent-%COMP%], .top-elements[_ngcontent-%COMP%]{display:flex;align-items:center}.back-button[_ngcontent-%COMP%], .news-info[_ngcontent-%COMP%], .news-text[_ngcontent-%COMP%], .publish[_ngcontent-%COMP%], .tags-item[_ngcontent-%COMP%]{font-family:var(--primary-font)}.top-elements[_ngcontent-%COMP%]{margin-top:54px;justify-content:space-between}.back-button[_ngcontent-%COMP%]{font-size:1rem;line-height:19px;-webkit-text-decoration-line:underline;text-decoration-line:underline}.button-link[_ngcontent-%COMP%]{color:var(--primary-dark-grey)}.button-arrow[_ngcontent-%COMP%]{margin-right:6px}.primary-global-button[_ngcontent-%COMP%]{padding:16px 40px;border:1px solid var(--primary-green);border-radius:3px;outline:none}.create-news-text[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:500;font-size:3rem;line-height:48px;color:var(--secondary-dark-grey)}.news-content[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{text-align:center}.tags[_ngcontent-%COMP%]{padding:48px 0 24px;display:flex;justify-content:center}.tags-item[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:var(--tertiary-grey);text-transform:capitalize;margin:0 8px;padding:8px 16px;border:1px solid var(--secondary-grey);border-radius:25px}.news-content[_ngcontent-%COMP%]{margin:0 7.5%}.news-title-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.news-title[_ngcontent-%COMP%]{margin:0 6.8% 24px;color:var(--secondary-dark-grey);font-weight:500;font-size:3rem;line-height:60px;font-family:var(--secondary-font)}.news-info[_ngcontent-%COMP%]{padding:0 0 30px;justify-content:center}.news-info-author[_ngcontent-%COMP%], .news-info-date[_ngcontent-%COMP%]{color:var(--primary-dark-grey)}.news-info-dot[_ngcontent-%COMP%]{padding:0 32px}.news-links-images[_ngcontent-%COMP%]{flex-direction:column}.news-links-img[_ngcontent-%COMP%]{margin:9px 0}.news-image-img[_ngcontent-%COMP%]{width:100%}.news-text-container[_ngcontent-%COMP%]{display:flex;padding:69px 0 0}.news-text[_ngcontent-%COMP%]{margin-left:74px;color:#000;text-align:left;width:100%}.news-text-content[_ngcontent-%COMP%]{width:90%;font-size:18px;line-height:32px;white-space:pre-wrap}.source-field[_ngcontent-%COMP%]{margin-top:32px;display:flex}.source-title[_ngcontent-%COMP%]{font-size:24px;line-height:40px;color:var(--primary-dark-grey);mix-blend-mode:normal;margin-right:8px}.source-text[_ngcontent-%COMP%], .source-title[_ngcontent-%COMP%]{font-family:var(--primary-font)}.source-text[_ngcontent-%COMP%]{font-size:18px;line-height:32px;color:#000;margin-top:6px}@media screen and (max-width:1024px){.wrapper[_ngcontent-%COMP%]{margin:0 3%}.news-title[_ngcontent-%COMP%]{margin:0 8% 24px}.news-content[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:768px){.wrapper[_ngcontent-%COMP%]{margin:0 1.8%}.news-title[_ngcontent-%COMP%]{margin:0 0 24px}.news-links-img[_ngcontent-%COMP%]{margin:0 32px 0 0}.news-text-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding:0}.news-links-images[_ngcontent-%COMP%]{flex-direction:row;margin:51px auto;width:136px}.news-text[_ngcontent-%COMP%]{margin-left:0}.news-text-content[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:576px){.wrapper[_ngcontent-%COMP%]{margin:0 2.4%}}@media screen and (max-width:320px){.wrapper[_ngcontent-%COMP%]{margin:0 5%}.back-button[_ngcontent-%COMP%]{margin-bottom:36px;display:flex;justify-content:center}.primary-global-button[_ngcontent-%COMP%], .submit-form[_ngcontent-%COMP%]{width:100%;height:48px}.news-info[_ngcontent-%COMP%], .top-elements[_ngcontent-%COMP%]{flex-direction:column}.create-news-text[_ngcontent-%COMP%]{font-size:24px;line-height:32px;margin-top:64px}.source-field[_ngcontent-%COMP%]{flex-direction:column}.news-info[_ngcontent-%COMP%], .news-text-content[_ngcontent-%COMP%], .source-text[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.source-text[_ngcontent-%COMP%]{margin-top:8px}}"]}),e})()},{path:"create-news",component:K,canDeactivate:[n("F2BE").a]},{path:"post-news-loader",component:T},{path:":id",component:Le},{path:"",component:dt},{path:"",redirectTo:"news",pathMatch:"full"}]}];let vt=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.k.forChild(xt)],d.k]}),e})();var bt=n("5tIC"),yt=n("dPY1"),Ct=n("Gikj");function _t(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275element"](1,"textarea",5),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementStart"](3,"button",6),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275propertyInterpolate"]("placeholder",m["\u0275\u0275pipeBind1"](2,3,"homepage.eco-news.comment.placeholder.add-a-comment")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",!e.addCommentForm.valid),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](5,5,"homepage.eco-news.comment.comment")," ")}}function Ot(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275element"](1,"textarea",7),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementStart"](3,"button",6),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275propertyInterpolate"]("placeholder",m["\u0275\u0275pipeBind1"](2,4,"homepage.eco-news.comment.placeholder.add-a-reply")),m["\u0275\u0275property"]("maxlength",e.replyMaxLength),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",!e.addCommentForm.valid),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](5,6,"homepage.eco-news.comment.reply")," ")}}let Pt=(()=>{class e{constructor(e,t,n){this.commentsService=e,this.fb=t,this.profileService=n,this.updateList=new m.EventEmitter,this.addCommentForm=this.fb.group({content:["",[u.H.required,u.H.maxLength(8e3)]]}),this.replyMaxLength=8e3}ngOnInit(){this.getUserInfo()}getUserInfo(){this.profileService.getUserInfo().subscribe(e=>{this.firstName=e.name,this.avatarImage=e.profilePicturePath})}onSubmit(){this.commentsService.addComment(this.addCommentForm,this.commentId).pipe(Object(w.a)(1)).subscribe(()=>{this.updateList.emit(),this.addCommentForm.reset()})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](se),m["\u0275\u0275directiveInject"](u.g),m["\u0275\u0275directiveInject"](yt.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-comment"]],inputs:{commentId:"commentId"},outputs:{updateList:"updateList"},decls:5,vars:7,consts:[[1,"main-wrapper",3,"formGroup","ngClass","ngSubmit"],[3,"imgPath","firstName","additionalImgClass"],["class","input-submit",4,"ngIf","ngIfElse"],["reply",""],[1,"input-submit"],["formControlName","content",1,"comment-width",3,"placeholder"],[1,"primary-global-button",3,"disabled"],["formControlName","content",1,"reply-width",3,"placeholder","maxlength"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),m["\u0275\u0275element"](1,"app-user-profile-image",1),m["\u0275\u0275template"](2,_t,6,7,"div",2),m["\u0275\u0275template"](3,Ot,6,8,"ng-template",null,3,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](4);m["\u0275\u0275property"]("formGroup",t.addCommentForm)("ngClass",t.commentId?"wrapper-reply":"wrapper-comment"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("imgPath",t.avatarImage)("firstName",t.firstName)("additionalImgClass","comments"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.commentId)("ngIfElse",e)}},directives:[u.J,u.u,u.l,i.r,Ct.a,i.u,u.d,u.t,u.j,u.o],pipes:[c.d],styles:[".main-wrapper[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between}.main-wrapper[_ngcontent-%COMP%]   #comment-user-image[_ngcontent-%COMP%], .main-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50px;margin-right:24px}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]{display:flex;width:100%}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:72px;overflow:hidden;resize:none;padding:10px 0 0 20px;border-radius:5px}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--secondary-grey)}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--secondary-grey)}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   .comment-width[_ngcontent-%COMP%]{width:505px}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   .reply-width[_ngcontent-%COMP%]{width:467px}.main-wrapper[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:157px;height:48px;margin-left:16px;border-radius:5px}.wrapper-comment[_ngcontent-%COMP%]{width:66%}.wrapper-reply[_ngcontent-%COMP%]{margin:32px 0 32px 70px}@media screen and (max-width:768px){.wrapper-comment[_ngcontent-%COMP%]{width:100%}.wrapper-comment[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-bottom:16px}}@media screen and (max-width:576px){.wrapper-comment[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%], .wrapper-reply[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]{justify-content:flex-end;flex-wrap:wrap}.wrapper-comment[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .wrapper-reply[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.wrapper-reply[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-bottom:16px}}@media screen and (max-width:320px){.wrapper-comment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.wrapper-comment[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .wrapper-comment[_ngcontent-%COMP%]   .input-submit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}"]}),e})();function Mt(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.replies.one-reply")))}function St(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.replies.more-then-two-replies")))}function Et(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.replies.more-then-four-replies")))}const It=function(){return[2,3,4]};function kt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"button",1),m["\u0275\u0275elementStart"](1,"span",2),m["\u0275\u0275elementStart"](2,"span",3),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5),m["\u0275\u0275elementContainerStart"](6,4),m["\u0275\u0275template"](7,Mt,3,3,"span",5),m["\u0275\u0275template"](8,St,3,3,"span",5),m["\u0275\u0275template"](9,Et,3,3,"span",6),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](10,"img",7),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](4,6,e.isShowReplies?"homepage.eco-news.comment.hide":"homepage.eco-news.comment.view")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"]("",e.repliesCounter," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitch",e.repliesCounter),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase",1),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngSwitchCase",m["\u0275\u0275pureFunction0"](8,It).includes(e.repliesCounter)?e.repliesCounter:!e.repliesCounter),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.isShowReplies?e.arrowUp:e.arrowDown,m["\u0275\u0275sanitizeUrl"])}}let Nt=(()=>{class e{constructor(){this.arrowDown="assets/img/comments/arrow_down.png",this.arrowUp="assets/img/comments/arrow_up.png"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-view-replies"]],inputs:{repliesCounter:"repliesCounter",isShowReplies:"isShowReplies"},decls:1,vars:1,consts:[["class","cta-btn view",4,"ngIf"],[1,"cta-btn","view"],[1,"btn-text"],[1,"d-none","d-sm-inline"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["alt","arrow",3,"src"]],template:function(e,t){1&e&&m["\u0275\u0275template"](0,kt,11,9,"button",0),2&e&&m["\u0275\u0275property"]("ngIf",t.repliesCounter>=1)},directives:[i.u,i.y,i.z,i.A],pipes:[c.d],styles:[".cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;text-align:right;border:none;background-color:#fff;padding:0;outline:none}.cta-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{margin-right:5px;font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--secondary-grey);mix-blend-mode:normal;white-space:nowrap}.view[_ngcontent-%COMP%]{height:40px}@media screen and (max-width:992px){.cta-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:12px}}"]}),e})();var Tt=n("y9Pg");let jt=(()=>{class e{constructor(e,t){this.commentsService=e,this.dialog=t,this.elementsList=new m.EventEmitter,this.deleteIcon="assets/img/comments/delete.png"}openPopup(){this.dialog.open(Tt.a,{hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:`homepage.eco-news.comment.${this.dataType}-popup.title`,popupConfirm:`homepage.eco-news.comment.${this.dataType}-popup.confirm`,popupCancel:`homepage.eco-news.comment.${this.dataType}-popup.cancel`}}).afterClosed().pipe(Object(w.a)(1)).subscribe(e=>{e&&this.commentsService.deleteComments(this.element.id).pipe(Object(w.a)(1)).subscribe(e=>{200===e.status&&this.elementsList.emit()})})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](se),m["\u0275\u0275directiveInject"](k.c))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-delete-comment"]],inputs:{element:"element",dataType:"dataType"},outputs:{elementsList:"elementsList"},decls:6,vars:4,consts:[[1,"d-flex"],[1,"cta-btn","delete",3,"click"],["aria-hidden","true","alt","edit icon",1,"btn-img",3,"src"],[1,"d-none","d-sm-block","btn-text"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"button",1),m["\u0275\u0275listener"]("click",(function(){return t.openPopup()})),m["\u0275\u0275element"](2,"img",2),m["\u0275\u0275elementStart"](3,"span",3),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",t.deleteIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](5,2,"homepage.eco-news.comment.btn.delete")," "))},pipes:[c.d],styles:[".delete[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:40px}.cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border:none;background-color:#fff;outline:none}.btn-img[_ngcontent-%COMP%]{min-width:12px;max-height:14px}.btn-text[_ngcontent-%COMP%]{margin-left:5px;font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--secondary-grey);mix-blend-mode:normal}@media screen and (max-width:992px){.btn-text[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:575px){.delete[_ngcontent-%COMP%]{margin-right:15px}}@media screen and (max-width:380px){.cta-btn[_ngcontent-%COMP%]{width:24px}}"]}),e})(),Lt=(()=>{class e{constructor(){this.editIcon="assets/img/comments/edit.png",this.isEditing=new m.EventEmitter}editComments(){this.isEditing.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-comment"]],outputs:{isEditing:"isEditing"},decls:6,vars:4,consts:[[1,"d-flex","main-wrapper"],[1,"cta-btn","edit",3,"click"],["aria-hidden","true","alt","edit icon",1,"btn-img",3,"src"],[1,"d-none","d-sm-block","btn-text"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"button",1),m["\u0275\u0275listener"]("click",(function(){return t.editComments()})),m["\u0275\u0275element"](2,"img",2),m["\u0275\u0275elementStart"](3,"span",3),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",t.editIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](5,2,"homepage.eco-news.comment.btn.edit")," "))},pipes:[c.d],styles:[".edit[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:40px}.cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border:none;background-color:#fff;outline:none}.btn-img[_ngcontent-%COMP%]{min-width:16px;max-height:16px}.btn-text[_ngcontent-%COMP%]{margin-left:5px;font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--secondary-grey);mix-blend-mode:normal}@media screen and (max-width:992px){.btn-text[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:575px){.main-wrapper[_ngcontent-%COMP%]{margin-left:35px;margin-right:15px}.edit[_ngcontent-%COMP%]{width:20px}}@media screen and (max-width:380px){.cta-btn[_ngcontent-%COMP%]{width:24px}}"]}),e})();var At=n("2Vo4"),Bt=n("HDdC"),Dt=n("zH15");let zt=(()=>{class e{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}return e.V1_0="1.0",e.V1_1="1.1",e.V1_2="1.2",e.default=new e([e.V1_0,e.V1_1,e.V1_2]),e})();class Ft{constructor(e){const{command:t,headers:n,body:i,binaryBody:o,escapeHeaderValues:r,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},n||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=r||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(e,t){const n={},i=e=>e.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const r=i(o[0]);let a=i(o[1]);t&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(a=Ft.hdrValueUnEscape(a)),n[r]=a}return new Ft({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Ft.toUnit8Array(e,this._binaryBody).buffer:e+this._body+"\0"}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];e.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${t}:${Ft.hdrValueEscape(""+n)}`:`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push("content-length:"+this.bodyLength()),e.join("\n")+"\n\n"}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,t){const n=(new TextEncoder).encode(e),i=new Uint8Array([0]),o=new Uint8Array(n.length+t.length+i.length);return o.set(n),o.set(t,n.length),o.set(i,n.length+t.length),o}static marshall(e){return new Ft(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class Vt{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(n=e instanceof ArrayBuffer?new Uint8Array(e):this._encoder.encode(e),t&&0!==n[n.length-1]){const e=new Uint8Array(n.length+1);e.set(n,0),e[n.length]=0,n=e}for(let i=0;i<n.length;i++)this._onByte(n[i])}_collectFrame(e){0!==e&&13!==e&&(10!==e?(this._onByte=this._collectCommand,this._reinjectByte(e)):this.onIncomingPing())}_collectCommand(e){if(13!==e)return 10===e?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_collectHeaders(e){13!==e&&(10!==e?(this._onByte=this._collectHeaderKey,this._reinjectByte(e)):this._setupCollectBody())}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e)return 10===e?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_setupCollectBody(){const e=this._results.headers.filter(e=>"content-length"===e[0])[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!=this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Ht=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e}({}),Ut=function(e){return e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE",e}({});class Rt{constructor(e,t,n={}){this._client=e,this._webSocket=t,this._serverFrameHandlers={CONNECTED:e=>{this.debug("connected to server "+e.headers.server),this._connected=!0,this._connectedVersion=e.headers.version,this._connectedVersion===zt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(e.headers),this.onConnect(e)},MESSAGE:e=>{const t=e.headers.subscription,n=this._subscriptions[t]||this.onUnhandledMessage,i=e,o=this,r=this._connectedVersion===zt.V1_2?i.headers.ack:i.headers["message-id"];i.ack=(e={})=>o.ack(r,t,e),i.nack=(e={})=>o.nack(r,t,e),n(i)},RECEIPT:e=>{const t=this._receiptWatchers[e.headers["receipt-id"]];t?(t(e),delete this._receiptWatchers[e.headers["receipt-id"]]):this.onUnhandledReceipt(e)},ERROR:e=>{this.onStompError(e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(n)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(e){Object.assign(this,e)}start(){const e=new Vt(e=>{const t=Ft.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug("<<< "+t),(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const e=t.data instanceof ArrayBuffer?(new TextDecoder).decode(t.data):t.data;this.debug("<<< "+e)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._onclose=e=>{this.debug("Connection closed to "+this._client.brokerURL),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(e){if(e.version!==zt.V1_1&&e.version!==zt.V1_2)return;if(!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map(e=>parseInt(e,10));if(0!==this.heartbeatOutgoing&&0!==n){const e=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${e}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===Ht.OPEN&&(this._webSocket.send("\n"),this.debug(">>> PING"))},e)}if(0!==this.heartbeatIncoming&&0!==t){const e=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${e}ms`),this._ponger=setInterval(()=>{const t=Date.now()-this._lastServerActivityTS;t>2*e&&(this.debug(`did not receive server activity for the last ${t}ms`),this._closeOrDiscardWebsocket())},e)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==Ht.CONNECTING&&this._webSocket.readyState!==Ht.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){var e;this._webSocket.terminate||(e=e=>this.debug(e),this._webSocket.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const n=new Date,i=this.onclose;this.onclose=t=>{const i=(new Date).getTime()-n.getTime();e(`Discarded socket closed after ${i}ms, with code/reason: ${t.code}/${t.reason}`)},this.close(),i.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:i,binaryBody:o,skipContentLengthHeader:r}=e,a=new Ft({command:t,headers:n,body:i,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:r});let s=a.serialize();if(this.debug(this.logRawCommunication?">>> "+s:">>> "+a),this.forceBinaryWSFrames&&"string"==typeof s&&(s=(new TextEncoder).encode(s)),"string"==typeof s&&this.splitLargeFrames){let e=s;for(;e.length>0;){const t=e.substring(0,this.maxWebSocketChunkSize);e=e.substring(this.maxWebSocketChunkSize),this._webSocket.send(t),this.debug(`chunk sent = ${t.length}, remaining = ${e.length}`)}}else this._webSocket.send(s)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug("Ignoring error during disconnect "+e)}else this._webSocket.readyState!==Ht.CONNECTING&&this._webSocket.readyState!==Ht.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(e){const{destination:t,headers:n,body:i,binaryBody:o,skipContentLengthHeader:r}=e,a=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:a,body:i,binaryBody:o,skipContentLengthHeader:r})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){(n=Object.assign({},n)).id||(n.id="sub-"+this._counter++),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const i=this;return{id:n.id,unsubscribe:e=>i.unsubscribe(n.id,e)}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===zt.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===zt.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}var Wt=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class $t{constructor(e){this.client=e}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(e){this.client.heartbeatOutgoing=e}get incoming(){return this.client.heartbeatIncoming}set incoming(e){this.client.heartbeatIncoming=e}}class Gt extends class{constructor(e={}){this.stompVersions=zt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=Ut.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Ut.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){if(this.state===Ut.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Ut.ACTIVE),this._connect())}_connect(){return Wt(this,void 0,void 0,(function*(){if(this.connected)return void this.debug("STOMP: already connected, nothing to do");if(yield this.beforeConnect(),!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher=setTimeout(()=>{this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect()},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new Rt(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===Ut.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(Ut.INACTIVE)),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)}}),this._stompHandler.start()}))}_createWebSocket(){let e;return e=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return Wt(this,void 0,void 0,(function*(){let e;return this.state!==Ut.ACTIVE?(this.debug(`Already ${Ut[this.state]}, ignoring call to deactivate`),Promise.resolve()):(this._changeState(Ut.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==Ht.CLOSED?(e=new Promise((e,t)=>{this._resolveSocketClose=e}),this._disposeStompHandler(),e):(this._changeState(Ut.INACTIVE),Promise.resolve()))}))}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(e){this._stompHandler.publish(e)}watchForReceipt(e,t){this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._stompHandler.unsubscribe(e,t)}begin(e){return this._stompHandler.begin(e)}commit(e){this._stompHandler.commit(e)}abort(e){this._stompHandler.abort(e)}ack(e,t,n={}){this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._stompHandler.nack(e,t,n)}}{constructor(e){super(),this.maxWebSocketFrameSize=16384,this._heartbeatInfo=new $t(this),this.reconnect_delay=0,this.webSocketFactory=e,this.debug=(...e)=>{console.log(...e)}}_parseConnect(...e){let t,n,i,o={};if(e.length<2)throw new Error("Connect requires at least 2 arguments");if("function"==typeof e[1])[o,n,i,t]=e;else switch(e.length){case 6:[o.login,o.passcode,n,i,t,o.host]=e;break;default:[o.login,o.passcode,n,i,t]=e}return[o,n,i,t]}connect(...e){const t=this._parseConnect(...e);t[0]&&(this.connectHeaders=t[0]),t[1]&&(this.onConnect=t[1]),t[2]&&(this.onStompError=t[2]),t[3]&&(this.onWebSocketClose=t[3]),super.activate()}disconnect(e,t={}){e&&(this.onDisconnect=e),this.disconnectHeaders=t,super.deactivate()}send(e,t={},n=""){const i=!1===(t=Object.assign({},t))["content-length"];i&&delete t["content-length"],this.publish({destination:e,headers:t,body:n,skipContentLengthHeader:i})}set reconnect_delay(e){this.reconnectDelay=e}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(e){this.onUnhandledMessage=e}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(e){this.onUnhandledReceipt=e}get heartbeat(){return this._heartbeatInfo}set heartbeat(e){this.heartbeatIncoming=e.incoming,this.heartbeatOutgoing=e.outgoing}}let Xt=(()=>{class e{static client(t,n){return null==n&&(n=zt.default.protocolVersions()),new Gt(()=>new(e.WebSocketClass||WebSocket)(t,n))}static over(e){let t;return"function"==typeof e?t=e:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),t=()=>e),new Gt(t)}}return e.WebSocketClass=null,e})();var Jt=function(e){return e[e.ATTEMPTING=0]="ATTEMPTING",e[e.CONNECTED=1]="CONNECTED",e}({}),qt=n("pLZG"),Yt=n("SxV6");let Kt=(()=>{class e{constructor(){this.state=new At.a(Jt.ATTEMPTING),this.webSocket=Xt.over(()=>new Dt(C.a.socket)),this.webSocket.connect({},()=>{this.state.next(Jt.CONNECTED)})}connect(){return new Bt.a(e=>{this.state.pipe(Object(qt.a)(e=>e===Jt.CONNECTED)).subscribe(()=>{e.next(this.webSocket)})})}onMessage(e){return this.connect().pipe(Object(Yt.a)(),Object(ee.a)(t=>new Bt.a(n=>{const i=t.subscribe(e,e=>{n.next(JSON.parse(e.body))});return()=>t.unsubscribe(i.id)})))}send(e,t){this.connect().pipe(Object(Yt.a)()).subscribe(n=>n.send(e,{},JSON.stringify(t)))}ngOnDestroy(){this.connect().pipe(Object(Yt.a)()).subscribe(e=>e.disconnect(null))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qt=["like"];function Zt(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",6),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.btn.like")," "))}function en(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",6),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.btn.liked")," "))}let tn=(()=>{class e{constructor(e,t,n){this.commentsService=e,this.socketService=t,this.localStorageService=n,this.likesCounter=new m.EventEmitter,this.error=!1,this.commentsImages={like:"assets/img/comments/like.png",liked:"assets/img/comments/liked.png"}}ngOnInit(){this.likeState=this.comment.currentUserLiked,this.setStartingElements(this.likeState),this.onConnectedtoSocket()}onConnectedtoSocket(){this.socketService.onMessage(`/topic/${this.comment.id}/comment`).subscribe(e=>{this.changeLkeBtn(e),this.likesCounter.emit(e.amountLikes)})}setStartingElements(e){this.like.nativeElement.srcset=this.commentsImages[e?"liked":"like"]}getUserId(){this.localStorageService.userIdBehaviourSubject.subscribe(e=>this.userId=e)}pressLike(){this.commentsService.postLike(this.comment.id).subscribe(()=>{this.getUserId(),this.socketService.send("/app/likeAndCount",{id:this.comment.id,amountLikes:this.likeState?0:1,userId:this.userId})})}changeLkeBtn(e){e.liked?(this.likeState=!0,this.like.nativeElement.srcset=this.commentsImages.liked):(this.likeState=!1,this.like.nativeElement.srcset=this.commentsImages.like)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](se),m["\u0275\u0275directiveInject"](Kt),m["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-like-comment"]],viewQuery:function(e,t){var n;1&e&&m["\u0275\u0275staticViewQuery"](Qt,!0),2&e&&m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.like=n.first)},inputs:{comment:"comment"},outputs:{likesCounter:"likesCounter"},decls:7,vars:3,consts:[[1,"d-flex","main-wrapper"],[1,"cta-btn","like",3,"click"],["alt","like","aria-hidden","true",1,"btn-img",3,"src"],["like",""],["class","d-none d-sm-block btn-text",4,"ngIf","ngIfElse"],["liked",""],[1,"d-none","d-sm-block","btn-text"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"button",1),m["\u0275\u0275listener"]("click",(function(){return t.pressLike()})),m["\u0275\u0275element"](2,"img",2,3),m["\u0275\u0275template"](4,Zt,3,3,"span",4),m["\u0275\u0275template"](5,en,3,3,"ng-template",null,5,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](6);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",t.commentsImages.like,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!t.likeState&&!t.error)("ngIfElse",e)}},directives:[i.u],pipes:[c.d],styles:[".like[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:40px;margin-right:8px}.visible[_ngcontent-%COMP%]{visibility:visible}.hidden[_ngcontent-%COMP%]{visibility:hidden}.cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border:none;background-color:#fff;outline:none}.btn-img[_ngcontent-%COMP%]{min-width:16px;max-height:16px}.btn-text[_ngcontent-%COMP%]{margin-left:5px;font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--secondary-grey);mix-blend-mode:normal}@media screen and (max-width:992px){.btn-text[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:575px){.main-wrapper[_ngcontent-%COMP%]{padding-left:30px}}@media screen and (max-width:380px){.cta-btn[_ngcontent-%COMP%]{width:24px}}"]}),e})(),nn=(()=>{class e{constructor(){this.replyImages="assets/img/comments/reply.png"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reply-comment"]],decls:6,vars:4,consts:[[1,"d-flex","main-wrapper"],[1,"cta-btn","reply"],["aria-hidden","true","alt","reply",1,"btn-img",3,"src"],[1,"d-none","d-sm-block","btn-text"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"button",1),m["\u0275\u0275element"](2,"img",2),m["\u0275\u0275elementStart"](3,"span",3),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",t.replyImages,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](5,2,"homepage.eco-news.comment.btn.reply")," "))},pipes:[c.d],styles:[".reply[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:40px}.cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border:none;background-color:#fff;outline:none}.btn-img[_ngcontent-%COMP%]{min-width:16px;max-height:16px}.btn-text[_ngcontent-%COMP%]{margin-left:5px;font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--secondary-grey);mix-blend-mode:normal}@media screen and (max-width:992px){.btn-text[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:575px){.main-wrapper[_ngcontent-%COMP%]{margin-left:5px}.reply[_ngcontent-%COMP%]{width:15px}}@media screen and (max-width:380px){.cta-btn[_ngcontent-%COMP%]{width:24px}}"]}),e})();var on=n("oOf3");function rn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"a",10),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2),m["\u0275\u0275reference"](2).previous()})),m["\u0275\u0275element"](1,"div",11),m["\u0275\u0275elementEnd"]()}}function an(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"a"),m["\u0275\u0275element"](1,"div",12),m["\u0275\u0275elementEnd"]())}function sn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,an,2,0,"a",7),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"](2);const e=m["\u0275\u0275reference"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isFirstPage())}}function cn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"a",10),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"](2),m["\u0275\u0275reference"](2).setCurrent(t.value)})),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function ln(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"a"),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function pn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",13),m["\u0275\u0275template"](1,cn,2,1,"a",6),m["\u0275\u0275template"](2,ln,2,1,"a",7),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275nextContext"](2);const n=m["\u0275\u0275reference"](2);m["\u0275\u0275classProp"]("current",n.getCurrent()===e.value),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",n.getCurrent()!==e.value),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",n.getCurrent()===e.value)}}function dn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"a",10),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2),m["\u0275\u0275reference"](2).next()})),m["\u0275\u0275element"](1,"div",14),m["\u0275\u0275elementEnd"]()}}function mn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"a"),m["\u0275\u0275element"](1,"div",15),m["\u0275\u0275elementEnd"]())}function gn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,mn,2,0,"a",7),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"](2);const e=m["\u0275\u0275reference"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isLastPage())}}function hn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275elementStart"](1,"div",5),m["\u0275\u0275template"](2,rn,2,0,"a",6),m["\u0275\u0275template"](3,sn,2,1,"div",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](4,pn,3,4,"div",8),m["\u0275\u0275elementStart"](5,"div",9),m["\u0275\u0275template"](6,dn,2,0,"a",6),m["\u0275\u0275template"](7,gn,2,1,"div",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){m["\u0275\u0275nextContext"]();const e=m["\u0275\u0275reference"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!e.isFirstPage()),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.pages.length>0),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.pages),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!e.isLastPage()),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.pages.length>0)}}let un=(()=>{class e{constructor(e){this.cdr=e,this.setPage=new m.EventEmitter,this.maxSize=5,this.maxCommentsOnPage=10,this.bigTotalSize=null}onPageChange(e){this.config.currentPage=e,this.setPage.emit(e)}calcPaginationSize(e,t){return this.bigTotalSize=t<=2||t>=e-1?5:3===t||t===e-2?6:7,this.maxSize=e<=5?5:this.bigTotalSize,this.maxSize}ngAfterViewChecked(){this.cdr.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-comment-pagination"]],inputs:{config:"config"},outputs:{setPage:"setPage"},decls:4,vars:3,consts:[[1,"pagination"],[3,"id","maxSize","pageChange"],["p","paginationApi"],["class","custom-pagination",4,"ngIf"],[1,"custom-pagination"],[1,"pagination-previous"],[3,"click",4,"ngIf"],[4,"ngIf"],["class","page-number",3,"current",4,"ngFor","ngForOf"],[1,"pagination-next"],[3,"click"],[1,"previous-btn"],[1,"previous-btn-disabled"],[1,"page-number"],[1,"next-btn"],[1,"next-btn-disabled"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"pagination-template",1,2),m["\u0275\u0275listener"]("pageChange",(function(e){return t.onPageChange(e)})),m["\u0275\u0275template"](3,hn,8,5,"div",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("id",t.config.id)("maxSize",t.calcPaginationSize(e.getLastPage(),e.getCurrent())),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.getTotalItems()>t.maxCommentsOnPage)}},directives:[on.d,i.u,i.t],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;height:28px}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{margin:0 40px 0 0}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number.current[_ngcontent-%COMP%]{height:28px;min-width:32px;background:var(--primary-green)!important;border-radius:4px}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:28px;font-family:var(--primary-font);font-size:21px;line-height:28px;color:var(--primary-dark-grey);cursor:pointer}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number.current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 9px;color:#fff}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-green)}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .page-number.current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]{display:inline-block;font-weight:700;cursor:pointer}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .previous-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .previous-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .previous-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .previous-btn-disabled[_ngcontent-%COMP%]{margin-right:40px;width:8px;height:12px}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%]{margin-right:0}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .previous-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .previous-btn[_ngcontent-%COMP%]{background:url(/assets/img/comments/arrow-previous.svg) no-repeat 50%}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .previous-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .previous-btn-disabled[_ngcontent-%COMP%]{background:url(/assets/img/comments/arrow-previous-disable.svg) no-repeat 50%}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn-disabled[_ngcontent-%COMP%]{background:url(/assets/img/comments/arrow-next-disable.svg) no-repeat 50%}.pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .custom-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{background:url(/assets/img/comments/arrow-next.svg) no-repeat 50%}"]}),e})();var fn=function(e){return e.commentType="comment",e.wrapperCommentType="wrapper-comment",e.wrapperReplyType="wrapper-reply",e}({});function wn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",25),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"homepage.eco-news.comment.btn.edited")," "))}function xn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",26),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.text)}}function vn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",27),m["\u0275\u0275elementStart"](1,"textarea",28),m["\u0275\u0275text"](2," "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("value",e.text)("formControl",t.content)}}function bn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",29),m["\u0275\u0275elementStart"](1,"app-edit-comment",30),m["\u0275\u0275listener"]("isEditing",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().showElements(t.id,"isEdit")})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](2,"app-delete-comment",31),m["\u0275\u0275listener"]("elementsList",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).deleteComment()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("element",e)("dataType",t.dataType)}}function yn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",33),m["\u0275\u0275elementStart"](1,"div",34),m["\u0275\u0275elementStart"](2,"div",35),m["\u0275\u0275elementStart"](3,"button",36),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](2).$implicit;return m["\u0275\u0275nextContext"]().saveEditedComment(t)})),m["\u0275\u0275element"](4,"img",37),m["\u0275\u0275elementStart"](5,"span",38),m["\u0275\u0275text"](6),m["\u0275\u0275pipe"](7,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div",35),m["\u0275\u0275elementStart"](9,"button",39),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](2).$implicit;return m["\u0275\u0275nextContext"]().cancelEditedComment(t)})),m["\u0275\u0275element"](10,"img",40),m["\u0275\u0275elementStart"](11,"span",38),m["\u0275\u0275text"](12),m["\u0275\u0275pipe"](13,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("disabled",!e.content.valid),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.editIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](7,5,"homepage.eco-news.comment.btn.save")," "),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("src",e.cancelIcon,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](13,7,"homepage.eco-news.comment.btn.cancel")," ")}}function Cn(e,t){if(1&e&&m["\u0275\u0275template"](0,yn,14,9,"div",32),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngIf",t.isLoggedIn&&t.checkCommentAuthor(e.author.id))}}function _n(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-like-comment",41),m["\u0275\u0275listener"]("likesCounter",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().changeCounter(t,n.id,"likes")})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275property"]("comment",e)}}function On(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-reply-comment",42),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().showElements(t.id,"showRelyButton")})),m["\u0275\u0275elementEnd"]()}}function Pn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",43),m["\u0275\u0275elementStart"](1,"app-view-replies",44),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().showElements(t.id,"showAllRelies")})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("isShowReplies",t.isShowReplies(e.id))("repliesCounter",e.replies)}}function Mn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-comments-container",45),m["\u0275\u0275listener"]("repliesCounter",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().changeCounter(t,n.id,"replies")})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275property"]("comment",e)}}function Sn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",1),m["\u0275\u0275elementStart"](1,"div",2),m["\u0275\u0275element"](2,"app-user-profile-image",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",4),m["\u0275\u0275elementStart"](4,"span",5),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",6),m["\u0275\u0275elementStart"](7,"div",7),m["\u0275\u0275element"](8,"span",8),m["\u0275\u0275elementStart"](9,"span",9),m["\u0275\u0275text"](10),m["\u0275\u0275pipe"](11,"dateLocalisation"),m["\u0275\u0275template"](12,wn,3,3,"span",10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"span",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",12),m["\u0275\u0275element"](15,"img",13),m["\u0275\u0275elementStart"](16,"span",14),m["\u0275\u0275text"](17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",15),m["\u0275\u0275template"](19,xn,2,1,"p",16),m["\u0275\u0275template"](20,vn,3,2,"div",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",18),m["\u0275\u0275template"](22,bn,3,2,"div",19),m["\u0275\u0275template"](23,Cn,1,1,"ng-template",null,20,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](25,_n,1,1,"app-like-comment",21),m["\u0275\u0275template"](26,On,1,0,"app-reply-comment",22),m["\u0275\u0275template"](27,Pn,2,2,"div",23),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](28,Mn,1,1,"app-comments-container",24),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275reference"](24),i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngClass",i.dataType===i.types.commentType?i.types.wrapperCommentType:i.types.wrapperReplyType),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("imgPath",e.author.userProfilePicturePath)("firstName",e.author.name)("additionalImgClass","comments-list"),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.author.name," "),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](11,17,e.modifiedDate)," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.isCommentEdited(e)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",i.likeImg,m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.likes),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!e.isEdit),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isEdit),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.isLoggedIn&&i.checkCommentAuthor(e.author.id)&&!e.isEdit)("ngIfElse",n),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",i.isLoggedIn&&!i.checkCommentAuthor(e.author.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i.isLoggedIn&&!e.isEdit&&i.dataType===i.types.commentType),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i.dataType===i.types.commentType),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i.dataType===i.types.commentType)}}let En=(()=>{class e{constructor(e){this.commentsService=e,this.elementsList=[],this.changedList=new m.EventEmitter,this.types=fn,this.content=new u.h("",[u.H.required,u.H.maxLength(8e3)]),this.editIcon="assets/img/comments/edit.png",this.cancelIcon="assets/img/comments/cancel-comment-edit.png",this.likeImg="assets/img/comments/like.png"}deleteComment(){this.changedList.emit()}isCommentEdited(e){return"EDITED"===e.status}saveEditedComment(e){this.commentsService.editComment(e.id,this.content).pipe(Object(w.a)(1)).subscribe(()=>this.content.reset()),e.isEdit=!1,e.text=this.content.value,e.status="EDITED",e.modifiedDate=String(Date.now())}cancelEditedComment(e){e.isEdit=!1}changeCounter(e,t,n){this.elementsList=this.elementsList.map(i=>(i.id===t&&(i[n]=e),i))}showElements(e,t){this.elementsList=this.elementsList.map(n=>(n[t]=n.id===e&&!n[t],n))}isShowReplies(e){for(const t of this.elementsList)if(t.id===e&&t.showAllRelies)return t.showAllRelies;return!1}checkCommentAuthor(e){return e===Number(this.userId)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](se))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-comments-list"]],inputs:{elementsList:"elementsList",dataType:"dataType",commentId:"commentId",config:"config",isLoggedIn:"isLoggedIn",userId:"userId"},outputs:{changedList:"changedList"},decls:2,vars:4,consts:[["class","comment-body-wrapper",3,"ngClass",4,"ngFor","ngForOf"],[1,"comment-body-wrapper",3,"ngClass"],[1,"comment-avatar"],[3,"imgPath","firstName","additionalImgClass"],[1,"comment-details"],[1,"author-name"],[1,"comment-date-likes"],[1,"comment-date"],[1,"comment-dot"],[1,"comment-date-month"],["class","edited",4,"ngIf"],[1,"comment-dot","last-dot"],[1,"comment-likes"],["alt","like","aria-hidden","true",3,"src"],[1,"like-amount"],[1,"comment-main-text"],["class","comment-text",4,"ngIf"],["class","comment-edit-text",4,"ngIf"],[1,"comments-elements"],["class","btn-wrapper",4,"ngIf","ngIfElse"],["editComment",""],[3,"comment","likesCounter",4,"ngIf"],[3,"click",4,"ngIf"],["class","btn-replies",4,"ngIf"],["dataType","reply",3,"comment","repliesCounter",4,"ngIf"],[1,"edited"],[1,"comment-text"],[1,"comment-edit-text"],["type","text","maxlength","8000",1,"edit-text-input",3,"value","formControl"],[1,"btn-wrapper"],[3,"isEditing"],[3,"element","dataType","elementsList"],["class","save-cancel-wrapper",4,"ngIf"],[1,"save-cancel-wrapper"],[1,"d-flex"],[1,"main-wrapper"],[1,"cta-btn","save-edit",3,"disabled","click"],["alt","edit icon",3,"src"],[1,"d-none","d-sm-block","btn-text"],[1,"cta-btn","cancel-edit",3,"click"],["alt","cancel icon",1,"btn-img",3,"src"],[3,"comment","likesCounter"],[3,"click"],[1,"btn-replies"],[3,"isShowReplies","repliesCounter","click"],["dataType","reply",3,"comment","repliesCounter"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,Sn,29,19,"div",0),m["\u0275\u0275pipe"](1,"paginate")),2&e&&m["\u0275\u0275property"]("ngForOf",m["\u0275\u0275pipeBind2"](1,1,t.elementsList,t.config))},directives:[i.t,i.r,Ct.a,i.u,u.d,u.o,u.t,u.i,Lt,jt,tn,nn,Nt,_e],pipes:[on.b,Oe,c.d],styles:[".comment-body-wrapper[_ngcontent-%COMP%]{margin:auto;border-bottom:1px solid #e6e6e6}.comment-body-wrapper[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{position:relative}.wrapper-comment[_ngcontent-%COMP%]{width:65.79%}.wrapper-reply[_ngcontent-%COMP%]{width:90%;padding-left:70px}.author-name[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:18px;line-height:28px;color:var(--secondary-dark-grey);white-space:nowrap}.comment-date[_ngcontent-%COMP%]{color:var(--secondary-grey);font-family:var(--primary-font);font-size:12px;line-height:16px;display:flex;flex-direction:row;align-items:center;padding-top:3px}.comment-date[_ngcontent-%COMP%]   .comment-dot[_ngcontent-%COMP%]{margin:0 8px;display:inline-block;width:4px;height:4px;background:var(--secondary-grey);border-radius:100%}.comment-date[_ngcontent-%COMP%]   .comment-date-month[_ngcontent-%COMP%]{display:inline-block}.comment-date[_ngcontent-%COMP%]   .comment-date-month[_ngcontent-%COMP%]   .edited[_ngcontent-%COMP%]{display:inline-block;margin-left:4px}.comment-date[_ngcontent-%COMP%]   .last-dot[_ngcontent-%COMP%]{display:none}.comment-details[_ngcontent-%COMP%]{display:flex;margin:32px 0 8px 63px}.comment-details[_ngcontent-%COMP%]   .comment-date-likes[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.comment-main-text[_ngcontent-%COMP%]{margin-left:62px;font-family:var(--primary-font);font-size:16px;line-height:24px;margin-bottom:-10px;display:flex;flex-direction:column}.comment-main-text[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{word-wrap:break-word}.comment-main-text[_ngcontent-%COMP%]   .edit-text-button[_ngcontent-%COMP%]{width:157px;height:48px}.comments-elements[_ngcontent-%COMP%]{display:flex;padding-left:55px;justify-content:space-between}.comments-elements[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{display:flex}.comment-edit-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:10px}.comment-edit-text[_ngcontent-%COMP%]   .edit-text-input[_ngcontent-%COMP%]{width:100%;height:72px;overflow:hidden;resize:none;padding:10px 0 0 20px}.comment-edit-text[_ngcontent-%COMP%]   .edit-text-input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--secondary-grey)}.comment-edit-text[_ngcontent-%COMP%]   .edit-text-input[_ngcontent-%COMP%]::placeholder{color:var(--secondary-grey)}.btn-replies[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;overflow:hidden;text-overflow:ellipsis}.save-edit[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:40px;margin-right:25px;cursor:pointer}.save-edit[_ngcontent-%COMP%]:disabled{pointer-events:none}.cancel-edit[_ngcontent-%COMP%]{height:40px;margin-right:8px;cursor:pointer}.cancel-edit[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]{min-width:12px;max-height:12px}.cta-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;border:none;background-color:#fff;outline:none}.btn-text[_ngcontent-%COMP%]{display:inline-block;font-size:16px;line-height:24px;mix-blend-mode:normal;white-space:nowrap}.btn-text[_ngcontent-%COMP%], .comment-likes[_ngcontent-%COMP%]   .like-amount[_ngcontent-%COMP%]{margin-left:5px;font-family:var(--primary-font);color:var(--secondary-grey)}.comment-likes[_ngcontent-%COMP%]   .like-amount[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.comment-likes[_ngcontent-%COMP%]   .commnet-dot[_ngcontent-%COMP%]{display:none}@media screen and (max-width:992px){.btn-text[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:768px){.comment-body-wrapper[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:575px){.comments-elements[_ngcontent-%COMP%]{padding-left:25px}.comment-date[_ngcontent-%COMP%]{flex-direction:row-reverse}.comment-details[_ngcontent-%COMP%]{flex-direction:column}.comment-details[_ngcontent-%COMP%]   .comment-date-likes[_ngcontent-%COMP%]{justify-content:left}.main-wrapper[_ngcontent-%COMP%]{margin-left:35px}.main-wrapper[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:20px}.main-wrapper[_ngcontent-%COMP%]:last-child{margin-left:0}}@media screen and (max-width:320px){.comment-details[_ngcontent-%COMP%]{flex-direction:column}.comment-details[_ngcontent-%COMP%]   .comment-date-likes[_ngcontent-%COMP%]{justify-content:left}.comment-date[_ngcontent-%COMP%]{flex-direction:row}.comment-date[_ngcontent-%COMP%]   .comment-date-month[_ngcontent-%COMP%]{margin:0}.comment-date[_ngcontent-%COMP%]   .comment-dot[_ngcontent-%COMP%]{display:none}.comment-date[_ngcontent-%COMP%]   .last-dot[_ngcontent-%COMP%]{display:inline-block;margin:0 8px}}"]}),e})();var In=n("PCNd"),kn=n("Xa2L"),Nn=n("Csug"),Tn=n("Rjwz"),jn=n("dbUT"),Ln=n("7pIB"),An=n("Wp6s"),Bn=n("cH1L"),Dn=n("bSwM"),zn=n("OX3A"),Fn=n("aGpt"),Vn=n("G+HJ"),Hn=n("SVWb"),Un=n("fkLc"),Rn=n("320Y"),Wn=n("Ja8e"),$n=n("PcoY"),Gn=n("cGTx"),Xn=n("7iAO"),Jn=n("N4lJ"),qn=n("B00N"),Yn=n("K4pU"),Kn=n("8jPN"),Qn=n("QBoR"),Zn=n("Xtxg");let ei=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[se],imports:[[bt.a,In.a,i.c,on.a,kn.b]]}),e})();m["\u0275\u0275setComponentScope"](_e,[Nn.a,c.a,Tn.a,u.J,u.y,u.I,u.d,u.z,u.C,u.b,u.F,u.G,u.B,u.t,u.u,u.E,u.p,u.o,u.A,u.c,u.e,u.w,u.x,u.v,u.i,u.l,u.j,u.m,u.f,jn.e,jn.f,jn.w,jn.o,jn.y,jn.x,jn.B,jn.C,jn.D,jn.z,jn.A,jn.Y,jn.G,jn.H,jn.j,jn.R,jn.q,jn.r,jn.S,jn.c,jn.d,jn.b,jn.U,jn.g,jn.a,jn.i,jn.P,jn.Q,jn.X,jn.T,jn.F,jn.k,jn.m,jn.n,jn.l,jn.Z,jn.h,jn.K,jn.L,jn.M,jn.N,jn.J,jn.s,jn.u,jn.v,jn.E,jn.I,jn.O,jn.V,Ln.a,Ln.b,An.a,An.f,An.n,An.d,An.m,An.l,An.b,An.e,An.k,An.i,An.h,An.g,An.o,An.c,Bn.b,k.g,k.e,k.k,k.h,k.d,Dn.a,Dn.c,kn.a,kn.c,r.b,j.a,U,Ze.a,Ae.a,zn.a,Ct.a,Tt.a,I.a,Qe.a,Fn.a,Vn.a,Hn.a,Un.a,Rn.a,Wn.a,$n.a,Gn.a,Xn.a,Jn.a,i.r,i.s,i.t,i.u,i.B,i.x,i.y,i.z,i.A,i.v,i.w,on.c,on.d,Pt,Nt,jt,Lt,tn,nn,un,En,_e],[c.d,Oe,qn.a,Yn.a,Kn.a,Qn.a,Zn.a,i.b,i.I,i.q,i.l,i.F,i.g,i.D,i.G,i.d,i.f,i.j,i.k,i.m,on.b]);let ti=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[E.a,{provide:P,useValue:M}],imports:[[i.c,ei,bt.a,In.a,a.b,p.b,vt,s.b,r.c,ei,c.c.forChild({loader:{provide:c.b,useFactory:ni,deps:[o.b]},isolate:!0})],c.c]}),e})();function ni(e){return new l.a(e,"./assets/i18n/",".json")}},"1eVo":function(e,t,n){"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,i=1,o=arguments.length;i<o;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},"2Naf":function(e,t,n){"use strict";var i=n("raCH").EventEmitter,o=n("P7XM"),r=n("woL0"),a=n("Yh+D"),s=global.XMLHttpRequest;function c(e,t,n,o){var r=this;i.call(this),setTimeout((function(){r._start(e,t,n,o)}),0)}o(c,i),c.prototype._start=function(e,t,n,i){var o=this;try{this.xhr=new s}catch(p){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=r.unloadAdd((function(){o._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(d){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),i&&i.headers)for(var l in i.headers)this.xhr.setRequestHeader(l,i.headers[l]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(n.readyState){case 3:try{t=n.status,e=n.responseText}catch(d){}1223===t&&(t=204),200===t&&e&&e.length>0&&o.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(d){o.emit("finish",0,""),o._cleanup(!1)}},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!s;var l=["Active"].concat("Object").join("X");!c.enabled&&l in global&&(c.enabled=!!new(s=function(){try{return new global[l]("Microsoft.XMLHTTP")}catch(e){return null}}));var p=!1;try{p="withCredentials"in new s}catch(d){}c.supportsCORS=p,e.exports=c},"3wkl":function(e,t,n){"use strict";var i=n("P7XM"),o=n("2Naf");function r(e,t,n,i){o.call(this,e,t,n,i)}i(r,o),r.enabled=o.enabled&&o.supportsCORS,e.exports=r},"42Jg":function(e,t,n){"use strict";var i=n("P7XM"),o=n("moM4");function r(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}i(r,o),e.exports=r},"4rNY":function(e,t,n){"use strict";var i=n("P7XM"),o=n("dXd4"),r=n("FUii"),a=n("3wkl"),s=n("c6pU");function c(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",r,a)}i(c,o),c.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||a.enabled)},c.transportName="xhr-polling",c.roundTrips=2,e.exports=c},"5Vaj":function(e,t,n){"use strict";var i=n("P7XM"),o=n("dXd4"),r=n("sYUk"),a=n("FUii"),s=n("nX0T");function c(e){if(!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,s)}i(c,o),c.enabled=r.enabled,c.transportName="xdr-polling",c.roundTrips=2,e.exports=c},"6Zju":function(e,t,n){"use strict";var i=n("P7XM"),o=n("raCH").EventEmitter;function r(e,t){o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}i(r,o),r.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},r.prototype.sendSchedule=function(){var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=r},"8fj+":function(e,t,n){"use strict";var i=n("woL0"),o=n("kwwM"),r=n("JqAl");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in global||(global[e.exports.WPrefix]={})},postMessage:function(t,n){global.parent!==global&&global.parent.postMessage(o.stringify({windowId:e.exports.currentWindowId,type:t,data:n||""}),"*")},createIframe:function(e,t){var n,o,r=global.document.createElement("iframe"),a=function(){clearTimeout(n);try{r.onload=null}catch(e){}r.onerror=null},s=function(){r&&(a(),setTimeout((function(){r&&r.parentNode.removeChild(r),r=null}),0),i.unloadDel(o))},c=function(e){r&&(s(),t(e))};return r.src=e,r.style.display="none",r.style.position="absolute",r.onerror=function(){c("onerror")},r.onload=function(){clearTimeout(n),n=setTimeout((function(){c("onload timeout")}),2e3)},global.document.body.appendChild(r),n=setTimeout((function(){c("timeout")}),15e3),o=i.unloadAdd(s),{post:function(e,t){setTimeout((function(){try{r&&r.contentWindow&&r.contentWindow.postMessage(e,t)}catch(n){}}),0)},cleanup:s,loaded:a}},createHtmlfile:function(t,n){var o,r,a,s=["Active"].concat("Object").join("X"),c=new global[s]("htmlfile"),l=function(){clearTimeout(o),a.onerror=null},p=function(){c&&(l(),i.unloadDel(r),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},d=function(e){c&&(p(),n(e))};c.open(),c.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[e.exports.WPrefix]=global[e.exports.WPrefix];var m=c.createElement("div");return c.body.appendChild(m),a=c.createElement("iframe"),m.appendChild(a),a.src=t,a.onerror=function(){d("onerror")},o=setTimeout((function(){d("timeout")}),15e3),r=i.unloadAdd(p),{post:function(e,t){try{setTimeout((function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}),0)}catch(n){}},cleanup:p,loaded:l}}},e.exports.iframeEnabled=!1,global.document&&(e.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!r.isKonqueror())},"96lO":function(e,t,n){"use strict";var i=n("P7XM"),o=n("Yh+D"),r=n("6Zju"),a=n("Dohz");function s(e,t,n,i,s){var c=o.addPath(e,t),l=this;r.call(this,e,n),this.poll=new a(i,c,s),this.poll.on("message",(function(e){l.emit("message",e)})),this.poll.once("close",(function(e,t){l.poll=null,l.emit("close",e,t),l.close()}))}i(s,r),s.prototype.close=function(){r.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=s},"9wH6":function(e,t,n){"use strict";var i=n("raCH").EventEmitter;function o(){var e=this;i.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),o.timeout)}n("P7XM")(o,i),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,e.exports=o},AEAD:function(e,t,n){"use strict";e.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||t.length&&-1===t.indexOf(e.transportName)||e.enabled(n)&&(i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)))})),i}}}},Dohz:function(e,t,n){"use strict";var i=n("P7XM"),o=n("raCH").EventEmitter;function r(e,t,n){o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}i(r,o),r.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,i){e.poll=t=null,e.pollIsClosing||("network"===i?e._scheduleReceiver():(e.emit("close",n||1006,i),e.removeAllListeners()))}))},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=r},E8Ah:function(e,t,n){"use strict";var i=global.WebSocket||global.MozWebSocket;e.exports=i?function(e){return new i(e)}:void 0},EBWB:function(e,t){e.exports="1.5.1"},FUii:function(e,t,n){"use strict";var i=n("P7XM"),o=n("raCH").EventEmitter;function r(e,t){o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null,n.emit("close",null,200===e?"network":"permanent"),n._cleanup()}))}i(r,o),r.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(-1===(n=i.indexOf("\n")))break;var o=i.slice(0,n);o&&this.emit("message",o)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=r},GBY4:function(e,t,n){"use strict";var i=n("RA0T"),o=n("nFlj"),r=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,a=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function d(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,i={},o=typeof(e=e||t.location||{});if("blob:"===e.protocol)i=new g(unescape(e.pathname),{});else if("string"===o)for(n in i=new g(e,{}),p)delete i[n];else if("object"===o){for(n in e)n in p||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=r.test(e.href))}return i}function m(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!(t[2]&&t[2].length>=2),rest:t[2]&&1===t[2].length?"/"+t[3]:t[3]}}function g(e,t,n){if(e=c(e),!(this instanceof g))return new g(e,t,n);var r,a,s,p,h,u,f=l.slice(),w=typeof t,x=this,v=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=d(t),r=!(a=m(e||"")).protocol&&!a.slashes,x.slashes=a.slashes||r&&t.slashes,x.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(f[3]=[/(.*)/,"pathname"]);v<f.length;v++)"function"!=typeof(p=f[v])?(u=p[1],(s=p[0])!=s?x[u]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof p[2]?(x[u]=e.slice(0,h),e=e.slice(h+p[2])):(x[u]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(x[u]=h[1],e=e.slice(0,h.index)),x[u]=x[u]||r&&p[3]&&t[u]||"",p[4]&&(x[u]=x[u].toLowerCase())):e=p(e);n&&(x.query=n(x.query)),r&&t.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==t.pathname)&&(x.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,o=n[i-1],r=!1,a=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),a++):a&&(0===i&&(r=!0),n.splice(i,1),a--);return r&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(x.pathname,t.pathname)),"/"!==x.pathname.charAt(0)&&x.hostname&&(x.pathname="/"+x.pathname),i(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(p=x.auth.split(":"),x.username=p[0]||"",x.password=p[1]||""),x.origin=x.protocol&&x.host&&"file:"!==x.protocol?x.protocol+"//"+x.host:"null",x.href=x.toString()}g.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),r[e]=t;break;case"port":r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";r[e]=t.charAt(0)!==a?a+t:t}else r[e]=t;break;default:r[e]=t}for(var s=0;s<l.length;s++){var c=l[s];c[4]&&(r[c[1]]=r[c[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},g.extractProtocol=m,g.location=d,g.trimLeft=c,g.qs=o,e.exports=g},JYLm:function(e,t,n){"use strict";var i=n("z+YZ");e.exports={string:function(e){for(var t="abcdefghijklmnopqrstuvwxyz012345".length,n=i.randomBytes(e),o=[],r=0;r<e;r++)o.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[r]%t,1));return o.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},JqAl:function(e,t,n){"use strict";e.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(e){return!1}}}},"JuP+":function(e,t,n){"use strict";var i=n("P7XM"),o=n("nzop"),r=n("1eVo");e.exports=function(e){function t(t,n){o.call(this,e.transportName,t,n)}return i(t,o),t.enabled=function(t,n){if(!global.document)return!1;var i=r.extend({},n);return i.sameOrigin=!0,e.enabled(i)&&o.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}},"OX/4":function(e,t,n){"use strict";var i=n("woL0"),o=n("Yh+D"),r=n("P7XM"),a=n("raCH").EventEmitter,s=n("E8Ah");function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this);var r=this,l=o.addPath(e,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){r.emit("message",e.data)},this.unloadRef=i.unloadAdd((function(){r.ws.close()})),this.ws.onclose=function(e){r.emit("close",e.code,e.reason),r._cleanup()},this.ws.onerror=function(e){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}r(c,a),c.prototype.send=function(e){this.ws.send("["+e+"]")},c.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!s},c.transportName="websocket",c.roundTrips=2,e.exports=c},P7XM:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},Ph6G:function(e,t,n){"use strict";var i=n("P7XM"),o=n("dXd4"),r=n("FUii"),a=n("3wkl"),s=n("c6pU"),c=n("JqAl");function l(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",r,a)}i(l,o),l.enabled=function(e){return!e.nullOrigin&&!c.isOpera()&&a.enabled},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!global.document,e.exports=l},QLKV:function(e,t,n){"use strict";var i=n("P7XM"),o=n("VNbE"),r=n("c6pU"),a=n("dXd4");function s(e){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",o,r)}i(s,a),s.enabled=function(e){return o.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},"R+Q3":function(e,t,n){"use strict";var i=n("P7XM"),o=n("moM4");function r(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}i(r,o),e.exports=r},RA0T:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},SGzc:function(e,t,n){"use strict";n("dyV1");var i,o=n("GBY4"),r=n("P7XM"),a=n("kwwM"),s=n("JYLm"),c=n("hPxs"),l=n("Yh+D"),p=n("woL0"),d=n("AEAD"),m=n("1eVo"),g=n("JqAl"),h=n("SM0v"),u=n("moM4"),f=n("l6Lj"),w=n("oOIF"),x=n("42Jg"),v=n("R+Q3"),b=n("uajq");function y(e,t,n){if(!(this instanceof y))return new y(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");f.call(this),this.readyState=y.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(i)}}this._server=n.server||s.numberString(1e3);var r=new o(e);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==r.protocol&&"https:"!==r.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var a="https:"===r.protocol;if("https:"===w.protocol&&!a&&!l.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var c=t.sort();c.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<c.length-1&&e===c[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var p=l.getOrigin(w.href);this._origin=p?p.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,this._urlInfo={nullOrigin:!g.hasDomain(),sameOrigin:l.isOriginEqual(this.url,w.href),sameScheme:l.isSchemeEqual(this.url,w.href)},this._ir=new b(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function C(e){return 1e3===e||e>=3e3&&e<=4999}r(y,f),y.prototype.close=function(e,t){if(e&&!C(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==y.CLOSING&&this.readyState!==y.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},y.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===y.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===y.OPEN&&this._transport.send(c.quote(e))},y.version=n("EBWB"),y.CONNECTING=0,y.OPEN=1,y.CLOSING=2,y.CLOSED=3,y.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=m.extend(e,this._urlInfo);var n=i.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._connect()}else this._close(1002,"Cannot connect to server")},y.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(e),void p.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=new e(l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[e.transportName]);return n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=e.transportName,void(this._transport=n)}this._close(2e3,"All transports failed",!1)},y.prototype._transportTimeout=function(){this.readyState===y.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},y.prototype._transportMessage=function(e){var t,n=this,i=e.slice(0,1),o=e.slice(1);switch(i){case"o":return void this._open();case"h":return void this.dispatchEvent(new u("heartbeat"))}if(o)try{t=a.parse(o)}catch(r){}if(void 0!==t)switch(i){case"a":Array.isArray(t)&&t.forEach((function(e){n.dispatchEvent(new v(e))}));break;case"m":this.dispatchEvent(new v(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},y.prototype._transportClose=function(e,t){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),C(e)||2e3===e||this.readyState!==y.CONNECTING?this._close(e,t):this._connect()},y.prototype._open=function(){this.readyState===y.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=y.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new u("open"))):this._close(1006,"Server lost session")},y.prototype._close=function(e,t,n){var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===y.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=y.CLOSING,setTimeout((function(){this.readyState=y.CLOSED,i&&this.dispatchEvent(new u("error"));var o=new x("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},y.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return i=d(e),n("n6ct")(y,e),y}},SM0v:function(e,t,n){"use strict";var i={};["log","debug","warn"].forEach((function(e){var t;try{t=global.console&&global.console[e]&&global.console[e].apply}catch(n){}i[e]=t?function(){return global.console[e].apply(global.console,arguments)}:"log"===e?function(){}:i.log})),e.exports=i},VNbE:function(e,t,n){"use strict";var i=n("P7XM"),o=n("8fj+"),r=n("Yh+D"),a=n("raCH").EventEmitter,s=n("JYLm");function c(e){a.call(this);var t=this;o.polluteGlobalNamespace(),this.id="a"+s.string(6),e=r.addQuery(e,"c="+decodeURIComponent(o.WPrefix+"."+this.id));var n=c.htmlfileEnabled?o.createHtmlfile:o.createIframe;global[o.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,(function(){t._cleanup(),t._close("permanent")}))}i(c,a),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[o.WPrefix][this.id]},c.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in global)try{c.htmlfileEnabled=!!new global[l]("htmlfile")}catch(p){}c.enabled=c.htmlfileEnabled||o.iframeEnabled,e.exports=c},"Yh+D":function(e,t,n){"use strict";var i=n("GBY4");e.exports={getOrigin:function(e){if(!e)return null;var t=new i(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){return this.getOrigin(e)===this.getOrigin(t)},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},aUWK:function(e,t,n){"use strict";e.exports=[n("OX/4"),n("Ph6G"),n("sYUk"),n("e03l"),n("JuP+")(n("e03l")),n("QLKV"),n("JuP+")(n("QLKV")),n("4rNY"),n("5Vaj"),n("JuP+")(n("4rNY")),n("+Ewk")]},c6pU:function(e,t,n){"use strict";var i=n("P7XM"),o=n("2Naf");function r(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}i(r,o),r.enabled=o.enabled,e.exports=r},dXd4:function(e,t,n){"use strict";var i=n("P7XM"),o=n("Yh+D"),r=n("96lO");function a(e,t,n,i){r.call(this,e,t,function(e){return function(t,n,i){var r={};"string"==typeof n&&(r.headers={"Content-type":"text/plain"});var a=o.addPath(t,"/xhr_send"),s=new e("POST",a,n,r);return s.once("finish",(function(e){if(s=null,200!==e&&204!==e)return i(new Error("http status "+e));i()})),function(){s.close(),s=null;var e=new Error("Aborted");e.code=1e3,i(e)}}}(i),n,i)}i(a,r),e.exports=a},dyV1:function(e,t,n){"use strict";var i,o=Array.prototype,r=Object.prototype,a=Function.prototype,s=String.prototype,c=o.slice,l=r.toString,p=function(e){return"[object Function]"===r.toString.call(e)},d=function(e){return"[object String]"===l.call(e)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();i=m?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)};var g=function(e,t,n){for(var o in t)r.hasOwnProperty.call(t,o)&&i(e,o,t[o],n)},h=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function u(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function f(){}g(a,{bind:function(e){var t=this;if(!p(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=c.call(arguments,1),i=function(){if(this instanceof s){var i=t.apply(this,n.concat(c.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(c.call(arguments)))},o=Math.max(0,t.length-n.length),r=[],a=0;a<o;a++)r.push("$"+a);var s=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this, arguments); }")(i);return t.prototype&&(f.prototype=t.prototype,s.prototype=new f,f.prototype=null),s}}),g(Array,{isArray:function(e){return"[object Array]"===l.call(e)}});var w,x,v,b=Object("a"),y="a"!==b[0]||!(0 in b);g(o,{forEach:function(e){var t=h(this),n=y&&d(this)?this.split(""):t,i=arguments[1],o=-1,r=n.length>>>0;if(!p(e))throw new TypeError;for(;++o<r;)o in n&&e.call(i,n[o],o,t)}},(x=!0,v=!0,(w=o.forEach)&&(w.call("foo",(function(e,t,n){"object"!=typeof n&&(x=!1)})),w.call([1],(function(){v="string"==typeof this}),"x")),!(w&&x&&v)));var C=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);g(o,{indexOf:function(e){var t=y&&d(this)?this.split(""):h(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=u(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},C);var _,O=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(_=void 0===/()??/.exec("")[1],s.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==l.call(e))return O.call(this,e,t);var i,r,a,s,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),d=0;for(e=new RegExp(e.source,p+"g"),n+="",_||(i=new RegExp("^"+e.source+"$(?!\\s)",p)),t=void 0===t?-1>>>0:t>>>0;(r=e.exec(n))&&!((a=r.index+r[0].length)>d&&(c.push(n.slice(d,r.index)),!_&&r.length>1&&r[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)})),r.length>1&&r.index<n.length&&o.push.apply(c,r.slice(1)),s=r[0].length,d=a,c.length>=t));)e.lastIndex===r.index&&e.lastIndex++;return d===n.length?!s&&e.test("")||c.push(""):c.push(n.slice(d)),c.length>t?c.slice(0,t):c}):"0".split(void 0,0).length&&(s.split=function(e,t){return void 0===e&&0===t?[]:O.call(this,e,t)});var P=s.substr;g(s,{substr:function(e,t){return P.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},"".substr&&"b"!=="0b".substr(-1))},e03l:function(e,t,n){"use strict";var i=n("P7XM"),o=n("dXd4"),r=n("+R4f"),a=n("3wkl"),s=n("yjSe");function c(e){if(!c.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",r,a)}i(c,o),c.enabled=function(){return!!s},c.transportName="eventsource",c.roundTrips=2,e.exports=c},fCBv:function(e,t,n){"use strict";var i=n("raCH").EventEmitter,o=n("P7XM"),r=n("kwwM"),a=n("woL0"),s=n("nzop"),c=n("xSnx");function l(e,t){var n=this;i.call(this);var o=function(){var i=n.ifr=new s(c.transportName,t,e);i.once("message",(function(e){if(e){var t;try{t=r.parse(e)}catch(i){return n.emit("finish"),void n.close()}n.emit("finish",t[0],t[1])}n.close()})),i.once("close",(function(){n.emit("finish"),n.close()}))};global.document.body?o():a.attachEvent("load",o)}o(l,i),l.enabled=function(){return s.enabled()},l.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=l},hPxs:function(e,t,n){"use strict";var i,o=n("kwwM"),r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var t=o.stringify(e);return r.lastIndex=0,r.test(t)?(i||(i=function(e){var t,n={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(r)),t.replace(r,(function(e){return i[e]}))):t}}},ibx3:function(e,t,n){"use strict";var i=n("raCH").EventEmitter,o=n("P7XM"),r=n("kwwM"),a=n("1eVo");function s(e,t){i.call(this);var n=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var i,s;if(200===e){if(s=+new Date-o,t)try{i=r.parse(t)}catch(c){}a.isObject(i)||(i={})}n.emit("finish",i,s),n.removeAllListeners()}))}o(s,i),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=s},kwwM:function(e,t,n){(function(e){var i;(function(){var o=n("PDX0"),r={function:!0,object:!0},a=r[typeof t]&&t&&!t.nodeType&&t,s=r[typeof window]&&window||this,c=a&&r[typeof e]&&e&&!e.nodeType&&"object"==typeof global&&global;function l(e,t){e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,i=e.String||s.String,o=e.Object||s.Object,a=e.Date||s.Date,c=e.SyntaxError||s.SyntaxError,p=e.TypeError||s.TypeError,d=e.Math||s.Math,m=e.JSON||s.JSON;"object"==typeof m&&m&&(t.stringify=m.stringify,t.parse=m.parse);var g=o.prototype,h=g.toString,u=g.hasOwnProperty;function f(e,t){try{e()}catch(n){t&&t()}}var w=new a(-0xc782b5b800cec);function x(e){if(null!=x[e])return x[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=x("json-stringify")&&x("date-serialization")&&x("json-parse");else if("date-serialization"==e){if(o=x("json-stringify")&&w){var r=t.stringify;f((function(){o='"-271821-04-20T00:00:00.000Z"'==r(new a(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new a(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new a(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new a(-1))}))}}else{var s,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l="function"==typeof(r=t.stringify);l&&((s=function(){return 1}).toJSON=s,f((function(){l="0"===r(0)&&"0"===r(new n)&&'""'==r(new i)&&void 0===r(h)&&void 0===r(void 0)&&void 0===r()&&"1"===r(s)&&"[1]"==r([s])&&"[null]"==r([void 0])&&"null"==r(null)&&"[null,null,null]"==r([void 0,h,null])&&r({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===r(null,s)&&"[\n 1,\n 2\n]"==r([1,2],null,1)}),(function(){l=!1}))),o=l}if("json-parse"==e){var p,d=t.parse;"function"==typeof d&&f((function(){0!==d("0")||d(!1)||(s=d(c),(p=5==s.a.length&&1===s.a[0])&&(f((function(){p=!d('"\t"')})),p&&f((function(){p=1!==d("01")})),p&&f((function(){p=1!==d("1.")}))))}),(function(){p=!1})),o=p}}return x[e]=!!o}if(f((function(){w=-109252==w.getUTCFullYear()&&0===w.getUTCMonth()&&1===w.getUTCDate()&&10==w.getUTCHours()&&37==w.getUTCMinutes()&&6==w.getUTCSeconds()&&708==w.getUTCMilliseconds()})),x["bug-string-char-index"]=x["date-serialization"]=x.json=x["json-stringify"]=x["json-parse"]=null,!x("json")){var v=x("bug-string-char-index"),b=function(e,t){var n,i,o,a=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)u.call(i,o)&&a++;return n=i=null,a?b=function(e,t){var n,i,o="[object Function]"==h.call(e);for(n in e)o&&"prototype"==n||!u.call(e,n)||(i="constructor"===n)||t(n);(i||u.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],b=function(e,t){var n,o,a="[object Function]"==h.call(e),s=!a&&"function"!=typeof e.constructor&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||u;for(n in e)a&&"prototype"==n||!s.call(e,n)||t(n);for(o=i.length;n=i[--o];)s.call(e,n)&&t(n)}),b(e,t)};if(!x("json-stringify")&&!x("date-serialization")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(e,t){return("000000"+(t||0)).slice(-e)},_=function(e){var t,n,i,o,r,a,s,c,l;if(w)t=function(e){n=e.getUTCFullYear(),i=e.getUTCMonth(),o=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),l=e.getUTCMilliseconds()};else{var p=d.floor,m=[0,31,59,90,120,151,181,212,243,273,304,334],g=function(e,t){return m[t]+365*(e-1970)+p((e-1969+(t=+(t>1)))/4)-p((e-1901+t)/100)+p((e-1601+t)/400)};t=function(e){for(o=p(e/864e5),n=p(o/365.2425)+1970-1;g(n+1,0)<=o;n++);for(i=p((o-g(n,0))/30.42);g(n,i+1)<=o;i++);o=1+o-g(n,i),a=p((r=(e%864e5+864e5)%864e5)/36e5)%24,s=p(r/6e4)%60,c=p(r/1e3)%60,l=r%1e3}}return(_=function(e){return e>-1/0&&e<1/0?(t(e),e=(n<=0||n>=1e4?(n<0?"-":"+")+C(6,n<0?-n:n):C(4,n))+"-"+C(2,i+1)+"-"+C(2,o)+"T"+C(2,a)+":"+C(2,s)+":"+C(2,c)+"."+C(3,l)+"Z",n=i=o=a=s=c=l=null):e=null,e})(e)};if(x("json-stringify")&&!x("date-serialization")){function O(e){return _(this)}var P=t.stringify;t.stringify=function(e,t,n){var i=a.prototype.toJSON;a.prototype.toJSON=O;var o=P(e,t,n);return a.prototype.toJSON=i,o}}else{var M=function(e){var t=e.charCodeAt(0);return y[t]||"\\u00"+C(2,t.toString(16))},S=/[\x00-\x1f\x22\x5c]/g,E=function(e){return S.lastIndex=0,'"'+(S.test(e)?e.replace(S,M):e)+'"'},I=function(e,t,n,i,o,r,s){var c,l,d,m,g,u,w,x,v;if(f((function(){c=t[e]})),"object"==typeof c&&c&&(c.getUTCFullYear&&"[object Date]"==h.call(c)&&c.toJSON===a.prototype.toJSON?c=_(c):"function"==typeof c.toJSON&&(c=c.toJSON(e))),n&&(c=n.call(t,e,c)),null==c)return void 0===c?c:"null";switch("object"==(l=typeof c)&&(d=h.call(c)),d||l){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return E(""+c)}if("object"==typeof c){for(w=s.length;w--;)if(s[w]===c)throw p();if(s.push(c),m=[],x=r,r+=o,"[object Array]"==d){for(u=0,w=c.length;u<w;u++)g=I(u,c,n,i,o,r,s),m.push(void 0===g?"null":g);v=m.length?o?"[\n"+r+m.join(",\n"+r)+"\n"+x+"]":"["+m.join(",")+"]":"[]"}else b(i||c,(function(e){var t=I(e,c,n,i,o,r,s);void 0!==t&&m.push(E(e)+":"+(o?" ":"")+t)})),v=m.length?o?"{\n"+r+m.join(",\n"+r)+"\n"+x+"}":"{"+m.join(",")+"}":"{}";return s.pop(),v}};t.stringify=function(e,t,n){var i,o,a,s;if(r[typeof t]&&t)if("[object Function]"==(s=h.call(t)))o=t;else if("[object Array]"==s){a={};for(var c,l=0,p=t.length;l<p;)c=t[l++],"[object String]"!=(s=h.call(c))&&"[object Number]"!=s||(a[c]=1)}if(n)if("[object Number]"==(s=h.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),i="";i.length<n;)i+=" "}else"[object String]"==s&&(i=n.length<=10?n:n.slice(0,10));return I("",((c={})[""]=e,c),o,a,i,"",[])}}}if(!x("json-parse")){var k,N,T=i.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw k=N=null,c()},A=function(){for(var e,t,n,i,o,r=N,a=r.length;k<a;)switch(o=r.charCodeAt(k)){case 9:case 10:case 13:case 32:k++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=v?r.charAt(k):r[k],k++,e;case 34:for(e="@",k++;k<a;)if((o=r.charCodeAt(k))<32)L();else if(92==o)switch(o=r.charCodeAt(++k)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=j[o],k++;break;case 117:for(t=++k,n=k+4;k<n;k++)(o=r.charCodeAt(k))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||L();e+=T("0x"+r.slice(t,k));break;default:L()}else{if(34==o)break;for(o=r.charCodeAt(k),t=k;o>=32&&92!=o&&34!=o;)o=r.charCodeAt(++k);e+=r.slice(t,k)}if(34==r.charCodeAt(k))return k++,e;L();default:if(t=k,45==o&&(i=!0,o=r.charCodeAt(++k)),o>=48&&o<=57){for(48==o&&(o=r.charCodeAt(k+1))>=48&&o<=57&&L(),i=!1;k<a&&(o=r.charCodeAt(k))>=48&&o<=57;k++);if(46==r.charCodeAt(k)){for(n=++k;n<a&&!((o=r.charCodeAt(n))<48||o>57);n++);n==k&&L(),k=n}if(101==(o=r.charCodeAt(k))||69==o){for(43!=(o=r.charCodeAt(++k))&&45!=o||k++,n=k;n<a&&!((o=r.charCodeAt(n))<48||o>57);n++);n==k&&L(),k=n}return+r.slice(t,k)}i&&L();var s=r.slice(k,k+4);if("true"==s)return k+=4,!0;if("fals"==s&&101==r.charCodeAt(k+4))return k+=5,!1;if("null"==s)return k+=4,null;L()}return"$"},B=function(e){var t,n;if("$"==e&&L(),"string"==typeof e){if("@"==(v?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=A());)n?","==e?"]"==(e=A())&&L():L():n=!0,","==e&&L(),t.push(B(e));return t}if("{"==e){for(t={};"}"!=(e=A());)n?","==e?"}"==(e=A())&&L():L():n=!0,","!=e&&"string"==typeof e&&"@"==(v?e.charAt(0):e[0])&&":"==A()||L(),t[e.slice(1)]=B(A());return t}L()}return e},D=function(e,t,n){var i=z(e,t,n);void 0===i?delete e[t]:e[t]=i},z=function(e,t,n){var i,o=e[t];if("object"==typeof o&&o)if("[object Array]"==h.call(o))for(i=o.length;i--;)D(h,b,o);else b(o,(function(e){D(o,e,n)}));return n.call(e,t,o)};t.parse=function(e,t){var n,i;return k=0,N=""+e,n=B(A()),"$"!=A()&&L(),k=N=null,t&&"[object Function]"==h.call(t)?z(((i={})[""]=n,i),"",t):n}}}return t.runInContext=l,t}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(s=c),a&&!o)l(s,a);else{var p=s.JSON,d=s.JSON3,m=!1,g=l(s,s.JSON3={noConflict:function(){return m||(m=!0,s.JSON=p,s.JSON3=d,p=d=null),g}});s.JSON={parse:g.parse,stringify:g.stringify}}o&&(void 0===(i=(function(){return g}).call(t,n,t,e))||(e.exports=i))}).call(this)}).call(this,n("YuTi")(e))},l6Lj:function(e,t,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},i.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1===i||(n.length>1?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e])}},i.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],o=0;o<i.length;o++)i[o].apply(this,n)},e.exports=i},moM4:function(e,t,n){"use strict";function i(e){this.type=e}i.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,e.exports=i},n6ct:function(e,t,n){"use strict";var i=n("Yh+D"),o=n("woL0"),r=n("kwwM"),a=n("uzES"),s=n("xSnx"),c=n("8fj+"),l=n("oOIF");e.exports=function(e,t){var n,p={};t.forEach((function(e){e.facadeTransport&&(p[e.facadeTransport.transportName]=e.facadeTransport)})),p[s.transportName]=s,e.bootstrap_iframe=function(){var t;c.currentWindowId=l.hash.slice(1),o.attachEvent("message",(function(o){if(o.source===parent&&(void 0===n&&(n=o.origin),o.origin===n)){var s;try{s=r.parse(o.data)}catch(f){return}if(s.windowId===c.currentWindowId)switch(s.type){case"s":var d;try{d=r.parse(s.data)}catch(f){break}var m=d[0],g=d[1],h=d[2],u=d[3];if(m!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+m+'", the iframe: "'+e.version+'".');if(!i.isOriginEqual(h,l.href)||!i.isOriginEqual(u,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+h+", "+u+")");t=new a(new p[g](h,u));break;case"m":t._send(s.data);break;case"c":t&&t._close(),t=null}}})),c.postMessage("s")}}},nFlj:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function r(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=r(o),n=r(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var r=o(t[1]),a=o(t[2]);null===r||null===a||r in i||(i[r]=a)}return i}},nX0T:function(e,t,n){"use strict";var i=n("raCH").EventEmitter,o=n("P7XM"),r=n("woL0"),a=n("JqAl"),s=n("Yh+D");function c(e,t,n){var o=this;i.call(this),setTimeout((function(){o._start(e,t,n)}),0)}o(c,i),c.prototype._start=function(e,t,n){var i=this,o=new global.XDomainRequest;t=s.addQuery(t,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=r.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(a){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!global.XDomainRequest||!a.hasDomain()),e.exports=c},nzop:function(e,t,n){"use strict";var i=n("P7XM"),o=n("kwwM"),r=n("raCH").EventEmitter,a=n("EBWB"),s=n("Yh+D"),c=n("8fj+"),l=n("woL0"),p=n("JYLm");function d(e,t,n){if(!d.enabled())throw new Error("Transport created when disabled");r.call(this);var i=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=p.string(8);var o=s.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(o,(function(e){i.emit("close",1006,"Unable to load an iframe ("+e+")"),i.close()})),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}i(d,r),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(e){if(s.isOriginEqual(e.origin,this.origin)){var t;try{t=o.parse(e.data)}catch(i){return}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=o.parse(t.data)}catch(i){return}this.emit("close",n[0],n[1]),this.close()}}},d.prototype.postMessage=function(e,t){this.iframeObj.post(o.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},d.prototype.send=function(e){this.postMessage("m",e)},d.enabled=function(){return c.iframeEnabled},d.transportName="iframe",d.roundTrips=2,e.exports=d},oOIF:function(e,t,n){"use strict";e.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},raCH:function(e,t,n){"use strict";var i=n("P7XM"),o=n("l6Lj");function r(){o.call(this)}i(r,o),r.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},r.prototype.once=function(e,t){var n=this,i=!1;this.on(e,(function o(){n.removeListener(e,o),i||(i=!0,t.apply(this,arguments))}))},r.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];for(var r=0;r<t.length;r++)t[r].apply(this,i)}},r.prototype.on=r.prototype.addListener=o.prototype.addEventListener,r.prototype.removeListener=o.prototype.removeEventListener,e.exports.EventEmitter=r},sYUk:function(e,t,n){"use strict";var i=n("P7XM"),o=n("dXd4"),r=n("FUii"),a=n("nX0T");function s(e){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",r,a)}i(s,o),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&a.enabled&&e.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},uajq:function(e,t,n){"use strict";var i=n("raCH").EventEmitter,o=n("P7XM"),r=n("Yh+D"),a=n("nX0T"),s=n("3wkl"),c=n("c6pU"),l=n("9wH6"),p=n("fCBv"),d=n("ibx3");function m(e,t){var n=this;i.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}o(m,i),m._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,c):s.enabled?new d(t,s):a.enabled&&n.sameScheme?new d(t,a):p.enabled()?new p(e,t):new d(t,l)},m.prototype.doXhr=function(e,t){var n=this,i=r.addPath(e,"/info");this.xo=m._getReceiver(e,i,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),m.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},m.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},m.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},m.timeout=8e3,e.exports=m},uzES:function(e,t,n){"use strict";var i=n("kwwM"),o=n("8fj+");function r(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}r.prototype._transportClose=function(e,t){o.postMessage("c",i.stringify([e,t]))},r.prototype._transportMessage=function(e){o.postMessage("t",e)},r.prototype._send=function(e){this._transport.send(e)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=r},v0om:function(e,t,n){"use strict";var i,o,r=n("JYLm"),a=n("Yh+D");e.exports=function(e,t,n){i||((i=global.document.createElement("form")).style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",(o=global.document.createElement("textarea")).name="d",i.appendChild(o),global.document.body.appendChild(i));var s="a"+r.string(8);i.target=s,i.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+s);var c=function(e){try{return global.document.createElement('<iframe name="'+e+'">')}catch(n){var t=global.document.createElement("iframe");return t.name=e,t}}(s);c.id=s,c.style.display="none",i.appendChild(c);try{o.value=t}catch(p){}i.submit();var l=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),o.value="",n(e))};return c.onerror=function(){l()},c.onload=function(){l()},c.onreadystatechange=function(e){"complete"===c.readyState&&l()},function(){l(new Error("Aborted"))}}},woL0:function(e,t,n){"use strict";var i=n("JYLm"),o={},r=!1,a=global.chrome&&global.chrome.app&&global.chrome.app.runtime;e.exports={attachEvent:function(e,t){void 0!==global.addEventListener?global.addEventListener(e,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+e,t),global.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==global.addEventListener?global.removeEventListener(e,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+e,t),global.detachEvent("on"+e,t))},unloadAdd:function(e){if(a)return null;var t=i.string(8);return o[t]=e,r&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}},a||e.exports.attachEvent("unload",(function(){r||(r=!0,e.exports.triggerUnloadCallbacks())}))},xSnx:function(e,t,n){"use strict";var i=n("P7XM"),o=n("raCH").EventEmitter,r=n("kwwM"),a=n("c6pU"),s=n("ibx3");function c(e){var t=this;o.call(this),this.ir=new s(e,a),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",r.stringify([e,n]))}))}i(c,o),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=c},yjSe:function(e,t){e.exports=global.EventSource},"z+YZ":function(e,t,n){"use strict";e.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(e){var t=new Uint8Array(e);return global.crypto.getRandomValues(t),t}:function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}},zH15:function(e,t,n){"use strict";var i=n("aUWK");e.exports=n("SGzc")(i),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)}}]);