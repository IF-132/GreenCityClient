function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"MO+k":function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,n){return function(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw new Error("missing channels property: "+a);if(!("labels"in r[a]))throw new Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw new Error("channel and label counts mismatch: "+a);var o=r[a].channels,s=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:o}),Object.defineProperty(r[a],"labels",{value:s})}r.rgb.hsl=function(e){var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s===o?t=0:i===s?t=(r-a)/l:r===s?t=2+(a-i)/l:a===s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},r.rgb.hsv=function(e){var t,n,i,r,a,o=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(o,s,l),d=c-Math.min(o,s,l),p=function(e){return(c-e)/6/d+.5};return 0===d?r=a=0:(a=d/c,t=p(o),n=p(s),i=p(l),o===c?r=i-n:s===c?r=1/3+t-i:l===c&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*a,100*c]},r.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2];return[r.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,i))*100,100*(i=1-1/255*Math.max(t,Math.max(n,i)))]},r.rgb.cmyk=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},r.rgb.keyword=function(e){var i=n[e];if(i)return i;var r,a,o,s=1/0;for(var l in t)if(t.hasOwnProperty(l)){var c=(a=e,o=t[l],Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)+Math.pow(a[2]-o[2],2));c<s&&(s=c,r=l)}return r},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],i=t[1],a=t[2];return i/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.hsl.rgb=function(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=o+1/3*-(c-1))<0&&i++,i>1&&i--,r[c]=255*(a=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t);return r},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,r=n,a=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=a<=1?a:2-a,[t,100*(0===i?2*r/(a+r):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},r.hsv.hsl=function(e){var t,n,i,r=e[0],a=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return i=(2-a)*o,n=a*s,[r,100*(n=(n/=(t=(2-a)*s)<=1?t:2-t)||0),100*(i/=2)]},r.hwb.rgb=function(e){var t,n,i,r,a,o,s,l=e[0]/360,c=e[1]/100,d=e[2]/100,p=c+d;switch(p>1&&(c/=p,d/=p),i=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(i=1-i),r=c+i*((n=1-d)-c),t){default:case 6:case 0:a=n,o=r,s=c;break;case 1:a=r,o=n,s=c;break;case 2:a=c,o=n,s=r;break;case 3:a=c,o=r,s=n;break;case 4:a=r,o=c,s=n;break;case 5:a=n,o=c,s=r}return[255*a,255*o,255*s]},r.cmyk.rgb=function(e){var t=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-i)+i)),255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},r.xyz.rgb=function(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,t=(t=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(e){var t,n,i;t=e[1]/500+(n=(e[0]+16)/116),i=n-e[2]/200;var r=Math.pow(n,3),a=Math.pow(t,3),o=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,[t*=95.047,n*=100,i*=108.883]},r.lab.lch=function(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]},r.lch.lab=function(e){var t,n=e[1];return t=e[2]/360*2*Math.PI,[e[0],n*Math.cos(t),n*Math.sin(t)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],a=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===a&&(o+=60),o},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255,a=Math.max(Math.max(n,i),r),o=Math.min(Math.min(n,i),r),s=a-o;return t=s<=0?0:a===n?(i-r)/s%6:a===i?2+(r-n)/s:4+(n-i)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},r.hsl.hcg=function(e){var t,n=e[1]/100,i=e[2]/100,r=0;return(t=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*t)/(1-t)),[e[0],100*t,100*r]},r.hsv.hcg=function(e){var t=e[2]/100,n=e[1]/100*t,i=0;return n<1&&(i=(t-n)/(1-n)),[e[0],100*n,100*i]},r.hcg.rgb=function(e){var t=e[1]/100,n=e[2]/100;if(0===t)return[255*n,255*n,255*n];var i,r=[0,0,0],a=e[0]/360%1*6,o=a%1,s=1-o;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return[255*(t*r[0]+(i=(1-t)*n)),255*(t*r[1]+i),255*(t*r[2]+i)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=1-e[2]/100,n=t-e[1]/100,i=0;return n<1&&(i=(t-n)/(1-n)),[e[0],100*n,100*i]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}(n={exports:{}}),n.exports}();function i(e,t){return function(n){return t(e(n))}}function r(e,t){for(var r=[t[e].parent,e],a=n[t[e].parent][e],o=t[e].parent;t[o].parent;)r.unshift(t[o].parent),a=i(n[t[o].parent][o],a),o=t[o].parent;return a.conversion=r,a}var a={};Object.keys(n).forEach((function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:n[e].channels}),Object.defineProperty(a[e],"labels",{value:n[e].labels});var t=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(n),i=t.length,r=0;r<i;r++)e[t[r]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;)for(var r=i.pop(),a=Object.keys(n[r]),o=a.length,s=0;s<o;s++){var l=a[s],c=t[l];-1===c.distance&&(c.distance=t[r].distance+1,c.parent=r,i.unshift(l))}return t}(e),i={},a=Object.keys(t),o=a.length,s=0;s<o;s++){var l=a[s];null!==t[l].parent&&(i[l]=r(l,t))}return i}(e);Object.keys(t).forEach((function(n){var i=t[n];a[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(i),a[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))}));var o=a,s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l={getRgba:c,getHsla:d,getRgb:function(e){var t=c(e);return t&&t.slice(0,3)},getHsl:function(e){var t=d(e);return t&&t.slice(0,3)},getHwb:p,getAlpha:function(e){var t=c(e);return t||(t=d(e))||(t=p(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+m(e[0])+m(e[1])+m(e[2])+(t>=0&&t<1?m(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?u(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:u,percentString:function(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:h,hslString:function(e,t){return t<1||e[3]&&e[3]<1?g(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:g,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return v[e.slice(0,3)]}};function c(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<t.length;a++)t[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],a=0;a<t.length;a++)t[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=s[i[1]]))return}for(a=0;a<t.length;a++)t[a]=f(t[a],0,255);return n=n||0==n?f(n,0,1):1,t[3]=n,t}}function d(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[f(parseInt(t[1]),0,360),f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(n)?1:n,0,1)]}}}function p(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[f(parseInt(t[1]),0,360),f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(n)?1:n,0,1)]}}}function u(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function h(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function f(e,t,n){return Math.min(Math.max(t,e),n)}function m(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var v={};for(var b in s)v[s[b]]=b;var x=function e(t){return t instanceof e?t:this instanceof e?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(n=l.getRgba(t))?this.setValues("rgb",n):(n=l.getHsla(t))?this.setValues("hsl",n):(n=l.getHwb(t))&&this.setValues("hwb",n):"object"==typeof t&&(void 0!==(n=t).r||void 0!==n.red?this.setValues("rgb",n):void 0!==n.l||void 0!==n.lightness?this.setValues("hsl",n):void 0!==n.v||void 0!==n.value?this.setValues("hsv",n):void 0!==n.w||void 0!==n.whiteness?this.setValues("hwb",n):void 0===n.c&&void 0===n.cyan||this.setValues("cmyk",n)))):new e(t);var n};(x.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return l.hexString(this.values.rgb)},rgbString:function(){return l.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return l.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return l.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return l.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return l.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return l.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return l.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,i=void 0===t?.5:t,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new x,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&("[object Array]"===(t={}.toString.call(e=i[a]))?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return n}}).spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},x.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},x.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},x.prototype.setValues=function(e,t){var n,i,r=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)r[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var c=a[e];for(n=0;n<e.length;n++)r[e][n]=t[c[n]];l=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(s[e][n],r[e][n])),r[e][n]=Math.round(i);for(var d in a)d!==e&&(r[d]=o[e][d](r[e]));return!0},x.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},x.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=x);var y=x;function C(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var _,M={noop:function(){},uid:(_=0,function(){return _++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)})),valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return M.valueOrDefault(M.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,a,o;if(M.isArray(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(M.isObject(e))for(a=(o=Object.keys(e)).length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])},arrayEquals:function(e,t){var n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(a=t[n],(r=e[n])instanceof Array&&a instanceof Array){if(!M.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(e){if(M.isArray(e))return e.map(M.clone);if(M.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=M.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){if(C(e)){var r=t[e],a=n[e];M.isObject(r)&&M.isObject(a)?M.merge(r,a,i):t[e]=M.clone(a)}},_mergerIf:function(e,t,n){if(C(e)){var i=t[e],r=n[e];M.isObject(i)&&M.isObject(r)?M.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=M.clone(r))}},merge:function(e,t,n){var i,r,a,o,s,l=M.isArray(t)?t:[t],c=l.length;if(!M.isObject(e))return e;for(i=(n=n||{}).merger||M._merger,r=0;r<c;++r)if(M.isObject(t=l[r]))for(s=0,o=(a=Object.keys(t)).length;s<o;++s)i(a[s],e,t,n);return e},mergeIf:function(e,t){return M.merge(e,t,{merger:M._mergerIf})},extend:Object.assign||function(e){return M.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=M.inherits,e&&M.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,i){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},P=M;M.callCallback=M.callback,M.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},M.getValueOrDefault=M.valueOrDefault,M.getValueAtIndexOrDefault=M.valueAtIndexOrDefault;var w={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-w.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*w.easeInBounce(2*e):.5*w.easeOutBounce(2*e-1)+.5}},O={effects:w};P.easingEffects=w;var k=Math.PI,S=k/180,I=2*k,E=k/2,F=k/4,D=2*k/3,A={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=t+o,l=n+o,c=t+i-o,d=n+r-o;e.moveTo(t,l),s<c&&l<d?(e.arc(s,l,o,-k,-E),e.arc(c,l,o,-E,0),e.arc(c,d,o,0,E),e.arc(s,d,o,E,k)):s<c?(e.moveTo(s,n),e.arc(c,l,o,-E,E),e.arc(s,l,o,E,k+E)):l<d?(e.arc(s,l,o,-k,0),e.arc(s,d,o,0,k)):e.arc(s,l,o,-k,k),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,a){var o,s,l,c,d,p=(a||0)*S;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(o=t.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(i,r),e.rotate(p),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,I),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(p)*n,r-Math.cos(p)*n),p+=D,e.lineTo(i+Math.sin(p)*n,r-Math.cos(p)*n),p+=D,e.lineTo(i+Math.sin(p)*n,r-Math.cos(p)*n),e.closePath();break;case"rectRounded":c=n-(d=.516*n),s=Math.cos(p+F)*c,l=Math.sin(p+F)*c,e.arc(i-s,r-l,d,p-k,p-E),e.arc(i+l,r-s,d,p-E,p),e.arc(i+s,r+l,d,p,p+E),e.arc(i-l,r+s,d,p+E,p+k),e.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*n,e.rect(i-c,r-c,2*c,2*c);break}p+=F;case"rectRot":s=Math.cos(p)*n,l=Math.sin(p)*n,e.moveTo(i-s,r-l),e.lineTo(i+l,r-s),e.lineTo(i+s,r+l),e.lineTo(i-l,r+s),e.closePath();break;case"crossRot":p+=F;case"cross":s=Math.cos(p)*n,l=Math.sin(p)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"star":s=Math.cos(p)*n,l=Math.sin(p)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s),p+=F,s=Math.cos(p)*n,l=Math.sin(p)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"line":s=Math.cos(p)*n,l=Math.sin(p)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(p)*n,r+Math.sin(p)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(t.x+n.x)/2;e.lineTo(a,i?n.y:t.y),e.lineTo(a,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},L=A;P.clear=A.clear,P.drawRoundedRectangle=function(e){e.beginPath(),A.roundedRect.apply(A,arguments)};var T={_set:function(e,t){return P.merge(this[e]||(this[e]={}),t)}};T._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var z=T,j=P.valueOrDefault,N={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return P.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t=z.global,n=j(e.fontSize,t.defaultFontSize),i={family:j(e.fontFamily,t.defaultFontFamily),lineHeight:P.options.toLineHeight(j(e.lineHeight,t.defaultLineHeight),n),size:n,style:j(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return i.string=function(e){return!e||P.isNullOrUndef(e.size)||P.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i},resolve:function(e,t,n,i){var r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(void 0!==(o=e[r])&&(void 0!==t&&"function"==typeof o&&(o=o(t),s=!1),void 0!==n&&P.isArray(o)&&(o=o[n],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}},B={_factorize:function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},R=B;P.log10=B.log10;var V=P,H=L,q=N,W=R;V.easing=O,V.canvas=H,V.options=q,V.math=W,V.rtl={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};var U=function(e){V.extend(this,e),this.initialize.apply(this,arguments)};V.extend(U.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=V.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),function(e,t,n,i){var r,a,o,s,l,c,d,p,u,h=Object.keys(n);for(r=0,a=h.length;r<a;++r)if(c=n[o=h[r]],t.hasOwnProperty(o)||(t[o]=c),(s=t[o])!==c&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=s),(d=typeof c)==typeof(l=e[o]))if("string"===d){if((p=y(l)).valid&&(u=y(c)).valid){t[o]=u.mix(p,i).rgbString();continue}}else if(V.isFinite(l)&&V.isFinite(c)){t[o]=l+(c-l)*i;continue}t[o]=c}}(i,r,n,e),t):(t._view=V.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return V.isNumber(this._model.x)&&V.isNumber(this._model.y)}}),U.extend=V.inherits;var $=U,Y=$.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),G=Y;Object.defineProperty(Y.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Y.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),z._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:V.noop,onComplete:V.noop}});var Q={animations:[],request:null,addAnimation:function(e,t,n,i){var r,a,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===e)return void(o[r]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=V.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=V.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,a=0;a<r.length;)t=(e=r[a]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),V.callback(e.render,[t,e],t),V.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(V.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(a,1)):++a}},X=V.options.resolve,K=["push","pop","shift","splice","unshift"];function Z(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(K.forEach((function(t){delete e[t]})),delete e._chartjs)}}var J=function(e,t){this.initialize(e,t)};V.extend(J.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,i=this.getDataset(),r=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!i.xAxisID||(e.xAxisID=i.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!i.yAxisID||(e.yAxisID=i.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Z(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(e=0,t=i.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&Z(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),K.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=i.apply(this,t);return V.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),r}})})))),n._data=r),n.resyncElements()},_configure:function(){this._config=V.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&V._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:V.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},getStyle:function(e){var t,n=this.getMeta(),i=n.dataset;return this._configure(),!1!==(t=i&&void 0===e?this._resolveDatasetElementOptions(i||{}):this._resolveDataElementOptions(n.data[e=e||0]||{},e)).fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,i,r,a,o=this,s=o.chart,l=o._config,c=e.custom||{},d=s.options.elements[o.datasetElementType.prototype._type]||{},p=o._datasetElementOptions,u={},h={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:t};for(n=0,i=p.length;n<i;++n)r=p[n],a=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,u[r]=X([c[a],l[a],d[a]],h);return u},_resolveDataElementOptions:function(e,t){var n=this,i=e&&e.custom,r=n._cachedDataOpts;if(r&&!i)return r;var a,o,s,l,c=n.chart,d=n._config,p=c.options.elements[n.dataElementType.prototype._type]||{},u=n._dataElementOptions,h={},g={chart:c,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},f={cacheable:!i};if(i=i||{},V.isArray(u))for(o=0,s=u.length;o<s;++o)h[l=u[o]]=X([i[l],d[l],p[l]],g,t,f);else for(o=0,s=(a=Object.keys(u)).length;o<s;++o)h[l=a[o]]=X([i[l],d[u[l]],d[l],p[l]],g,t,f);return f.cacheable&&(n._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(e){V.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,a=V.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=X([i.hoverBackgroundColor,t.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=X([i.hoverBorderColor,t.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=X([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,i,r,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,r=this._resolveDatasetElementOptions(o,!0),e=0,t=(i=Object.keys(r)).length;e<t;++e)s[n=i[e]]=a[n],a[n]=r[n];o.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,i=t.length;i<n?e.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),J.extend=V.inherits;var ee=J,te=2*Math.PI;function ne(e,t){var n=t.startAngle,i=t.endAngle,r=t.pixelMargin,a=r/t.outerRadius,o=t.x,s=t.y;e.beginPath(),e.arc(o,s,t.outerRadius,n-a,i+a),t.innerRadius>r?e.arc(o,s,t.innerRadius-r,i+(a=r/t.innerRadius),n-a,!0):e.arc(o,s,r,i+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}z._set("global",{elements:{arc:{backgroundColor:z.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ie=$.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=V.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=te;for(;r>s;)r-=te;for(;r<o;)r+=te;return r>=o&&r<=s&&a>=n.innerRadius&&a<=n.outerRadius}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/te)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+te,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%te}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&function(e,t,n){var i="inner"===t.borderAlign;i?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,i){var r,a=n.endAngle;for(i&&(n.endAngle=n.startAngle+te,ne(e,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=te,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+te,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+te),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,i),i&&ne(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}(t,n,r),t.restore()}}),re=V.valueOrDefault,ae=z.global.defaultColor;z._set("global",{elements:{line:{tension:.4,backgroundColor:ae,borderWidth:3,borderColor:ae,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var oe=$.extend({_type:"line",draw:function(){var e,t,n,i=this,r=i._view,a=i._chart.ctx,o=r.spanGaps,s=i._children.slice(),l=z.global,c=l.elements.line,d=-1,p=i._loop;if(s.length){if(i._loop){for(e=0;e<s.length;++e)if(t=V.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),p=o;break}p&&s.push(s[0])}for(a.save(),a.lineCap=r.borderCapStyle||c.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||c.borderDash),a.lineDashOffset=re(r.borderDashOffset,c.borderDashOffset),a.lineJoin=r.borderJoinStyle||c.borderJoinStyle,a.lineWidth=re(r.borderWidth,c.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),(n=s[0]._view).skip||(a.moveTo(n.x,n.y),d=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===d?V.previousItem(s,e):s[d],n.skip||(d!==e-1&&!o||-1===d?a.moveTo(n.x,n.y):V.canvas.lineTo(a,t._view,n),d=e);p&&a.closePath(),a.stroke(),a.restore()}}}),se=V.valueOrDefault,le=z.global.defaultColor;function ce(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}z._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:le,borderColor:le,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var de=$.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ce,inXRange:ce,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,a=t.radius,o=t.x,s=t.y,l=z.global,c=l.defaultColor;t.skip||(void 0===e||V.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||c,n.lineWidth=se(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||c,V.canvas.drawPoint(n,i,a,o,s,r))}}),pe=z.global.defaultColor;function ue(e){return e&&void 0!==e.width}function he(e){var t,n,i,r,a;return ue(e)?(t=e.x-(a=e.width/2),n=e.x+a,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(a=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-a,r=e.y+a),{left:t,top:i,right:n,bottom:r}}function ge(e,t,n){return e===t?n:e===n?t:e}function fe(e,t,n){var i=null===t,r=null===n,a=!(!e||i&&r)&&he(e);return a&&(i||t>=a.left&&t<=a.right)&&(r||n>=a.top&&n<=a.bottom)}z._set("global",{elements:{rectangle:{backgroundColor:pe,borderColor:pe,borderSkipped:"bottom",borderWidth:0}}});var me=$.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=he(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){var i,r,a,o,s=e.borderWidth,l=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=ge(t,"left","right")):e.base<e.y&&(t=ge(t,"bottom","top")),n[t]=!0,n):n}(e);return V.isObject(s)?(i=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):i=r=a=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>t?t:r,b:l.bottom||a<0?0:a>n?n:a,l:l.left||o<0?0:o>t?t:o}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(t),i=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return fe(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return ue(n)?fe(n,e,null):fe(n,null,t)},inXRange:function(e){return fe(this._view,e,null)},inYRange:function(e){return fe(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return ue(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return ue(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),ve={},be=oe,xe=de,ye=me;ve.Arc=ie,ve.Line=be,ve.Point=xe,ve.Rectangle=ye;var Ce=V._deprecated,_e=V.valueOrDefault;z._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),z._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Me=ee.extend({dataElementType:ve.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;ee.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Ce("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ce("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ce("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ce("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ce("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=i.length;t<n;++t)this.updateElement(i[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveDataElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[t]},V.isArray(a.data[t])&&(e._model.borderSkipped=null),i._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,i){var r=this,a=e._model,o=r._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),c=r._ruler||r.getRuler(),d=r.calculateBarValuePixels(r.index,t,i),p=r.calculateBarIndexPixels(r.index,t,c,i);a.horizontal=l,a.base=n?s:d.base,a.x=l?n?s:d.head:p.center,a.y=l?p.center:n?s:d.head,a.height=l?p.size:void 0,a.width=l?void 0:p.size},_getStacks:function(e){var t,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),a=i.options.stacked,o=r.length,s=[];for(t=0;t<o&&(n=r[t],(!1===a||-1===s.indexOf(n.stack)||void 0===a&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this._getIndexScale(),i=[];for(e=0,t=this.getMeta().data.length;e<t;++e)i.push(n.getPixelForValue(null,e,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(e,t,n){var i,r,a,o,s,l,c,d=this.chart,p=this._getValueScale(),u=p.isHorizontal(),h=d.data.datasets,g=p._getMatchingVisibleMetas(this._type),f=p._parseValue(h[e].data[t]),m=n.minBarLength,v=p.options.stacked,b=this.getMeta().stack,x=void 0===f.start?0:f.max>=0&&f.min>=0?f.min:f.max,y=void 0===f.start?f.end:f.max>=0&&f.min>=0?f.max-f.min:f.min-f.max,C=g.length;if(v||void 0===v&&void 0!==b)for(i=0;i<C&&(r=g[i]).index!==e;++i)r.stack===b&&(a=void 0===(c=p._parseValue(h[r.index].data[t])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(f.min<0&&a<0||f.max>=0&&a>0)&&(x+=a));return o=p.getPixelForValue(x),l=(s=p.getPixelForValue(x+y))-o,void 0!==m&&Math.abs(l)<m&&(l=m,s=y>=0&&!u||y<0&&u?o-m:o+m),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(e,t,n,i){var r="flex"===i.barThickness?function(e,t,n){var i,r=t.pixels,a=r[e],o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o),i=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/t.stackCount,ratio:n.barPercentage,start:i}}(t,n,i):function(e,t,n){var i,r,a=n.barThickness,o=t.stackCount,s=t.pixels[e],l=V.isNullOrUndef(a)?function(e,t){var n,i,r,a,o=e._length;for(r=1,a=t.length;r<a;++r)o=Math.min(o,Math.abs(t[r]-t[r-1]));for(r=0,a=e.getTicks().length;r<a;++r)i=e.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(i-n)):o,n=i;return o}(t.scale,t.pixels):-1;return V.isNullOrUndef(a)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}(t,n,i),a=this.getStackIndex(e,this.getMeta().stack),o=r.start+r.chunk*a+r.chunk/2,s=Math.min(_e(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(V.canvas.clipArea(e.ctx,e.chartArea);a<r;++a){var o=t._parseValue(i.data[a]);isNaN(o.min)||isNaN(o.max)||n[a].draw()}V.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=V.extend({},ee.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,i=e._getValueScale().options;return t.barPercentage=_e(n.barPercentage,t.barPercentage),t.barThickness=_e(n.barThickness,t.barThickness),t.categoryPercentage=_e(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=_e(n.maxBarThickness,t.maxBarThickness),t.minBarLength=_e(i.minBarLength,t.minBarLength),t}}),Pe=V.valueOrDefault,we=V.options.resolve;z._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": ("+e.xLabel+", "+e.yLabel+", "+t.datasets[e.datasetIndex].data[e.index].r+")"}}}});var Oe=ee.extend({dataElementType:ve.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta();V.each(n.data,(function(n,i){t.updateElement(n,i,e)}))},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=e.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveDataElementOptions(e,t),c=i.getDataset().data[t],d=i.index,p=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,t,d),u=n?s.getBasePixel():s.getPixelForValue(c,t,d);e._xScale=o,e._yScale=s,e._options=l,e._datasetIndex=d,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(p)||isNaN(u),x:p,y:u},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Pe(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Pe(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Pe(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,i=n.chart,r=n.getDataset(),a=e.custom||{},o=r.data[t]||{},s=ee.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=V.extend({},s)),s.radius=we([a.radius,o.r,n._config.radius,i.options.elements.point.radius],l,t),s}}),ke=V.valueOrDefault,Se=Math.PI,Ie=2*Se,Ee=Se/2;z._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-Ee,circumference:Ie,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return V.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Fe=ee.extend({dataElementType:ve.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i=this,r=i.chart,a=r.chartArea,o=r.options,s=1,l=1,c=0,d=0,p=i.getMeta(),u=p.data,h=o.cutoutPercentage/100||0,g=o.circumference,f=i._getRingWeight(i.index);if(g<Ie){var m=o.rotation%Ie,v=(m+=m>=Se?-Ie:m<-Se?Ie:0)+g,b=Math.cos(m),x=Math.sin(m),y=Math.cos(v),C=Math.sin(v),_=m<=0&&v>=0||v>=Ie,M=m<=Ee&&v>=Ee||v>=Ie+Ee,P=m<=-Ee&&v>=-Ee||v>=Se+Ee,w=m===-Se||v>=Se?-1:Math.min(b,b*h,y,y*h),O=P?-1:Math.min(x,x*h,C,C*h),k=_?1:Math.max(b,b*h,y,y*h),S=M?1:Math.max(x,x*h,C,C*h);s=(k-w)/2,l=(S-O)/2,c=-(k+w)/2,d=-(S+O)/2}for(t=0,n=u.length;t<n;++t)u[t]._options=i._resolveDataElementOptions(u[t],t);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max(Math.min((a.right-a.left-r.borderWidth)/s,(a.bottom-a.top-r.borderWidth)/l)/2,0),r.innerRadius=Math.max(r.outerRadius*h,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=c*r.outerRadius,r.offsetY=d*r.outerRadius,p.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*f,0),t=0,n=u.length;t<n;++t)i.updateElement(u[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=o.rotation,p=o.rotation,u=i.getDataset(),h=n&&s.animateRotate||e.hidden?0:i.calculateCircumference(u.data[t])*(o.circumference/Ie),g=e._options||{};V.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:d,endAngle:p,circumference:h,outerRadius:n&&s.animateScale?0:i.outerRadius,innerRadius:n&&s.animateScale?0:i.innerRadius,label:V.valueAtIndexOrDefault(u.label,t,r.data.labels[t])}});var f=e._model;n&&s.animateRotate||(f.startAngle=0===t?o.rotation:i.getMeta().data[t-1]._model.endAngle,f.endAngle=f.startAngle+f.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return V.each(n.data,(function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))})),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Ie*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,a,o,s,l,c=0,d=this.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){e=(i=d.getDatasetMeta(t)).data,t!==this.index&&(a=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],a?(a._configure(),o=a._resolveDataElementOptions(r,t)):o=r._options,"inner"!==o.borderAlign&&(c=(l=o.hoverBorderWidth)>(c=(s=o.borderWidth)>c?s:c)?l:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,i=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=ke(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=ke(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=ke(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});z._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),z._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var De=Me.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Ae=V.valueOrDefault,Le=V.options.resolve,Te=V.canvas._isPointInArea;function ze(e,t){var n=e&&e.options.ticks||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function je(e,t,n){var i=n/2,r=ze(e,i),a=ze(t,i);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function Ne(e){var t,n,i,r;return V.isObject(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r}}z._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Be=ee.extend({datasetElementType:ve.Line,dataElementType:ve.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i._config,l=i._showLine=Ae(s.showLine,i.chart.options.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),l&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),a._scale=i._yScale,a._datasetIndex=i.index,a._children=o,a._model=i._resolveDatasetElementOptions(a),a.pivot()),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(l&&0!==a._model.tension&&i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i,r,a=this,o=a.getMeta(),s=e.custom||{},l=a.getDataset(),c=a.index,d=l.data[t],p=a._xScale,u=a._yScale,h=o.dataset._model,g=a._resolveDataElementOptions(e,t);i=p.getPixelForValue("object"==typeof d?d:NaN,t,c),r=n?u.getBasePixel():a.calculatePointY(d,t,c),e._xScale=p,e._yScale=u,e._options=g,e._datasetIndex=c,e._index=t,e._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Ae(s.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,i=e.custom||{},r=t.chart.options,a=r.elements.line,o=ee.prototype._resolveDatasetElementOptions.apply(t,arguments);return o.spanGaps=Ae(n.spanGaps,r.spanGaps),o.tension=Ae(n.lineTension,a.tension),o.steppedLine=Le([i.steppedLine,n.steppedLine,a.stepped]),o.clip=Ne(Ae(n.clip,je(t._xScale,t._yScale,o.borderWidth))),o},calculatePointY:function(e,t,n){var i,r,a,o,s,l,c=this.chart,d=this._yScale,p=0,u=0;if(d.options.stacked){for(o=+d.getRightValue(e),l=(s=c._getSortedVisibleDatasetMetas()).length,i=0;i<l&&(r=s[i]).index!==n;++i)"line"===r.type&&r.yAxisID===d.id&&((a=+d.getRightValue(c.data.datasets[r.index].data[t]))<0?u+=a||0:p+=a||0);return d.getPixelForValue(o<0?u+o:p+o)}return d.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,i,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===o.cubicInterpolationMode)V.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,i=V.splineCurve(V.previousItem(l,e)._model,n,V.nextItem(l,e)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)Te(n=l[e]._model,s)&&(e>0&&Te(l[e-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),e<l.length-1&&Te(l[e+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),i=n.data||[],r=t.chartArea,a=t.canvas,o=0,s=i.length;for(this._showLine&&(V.canvas.clipArea(t.ctx,{left:!1===(e=n.dataset._model.clip).left?0:r.left-e.left,right:!1===e.right?a.width:r.right+e.right,top:!1===e.top?0:r.top-e.top,bottom:!1===e.bottom?a.height:r.bottom+e.bottom}),n.dataset.draw(),V.canvas.unclipArea(t.ctx));o<s;++o)i[o].draw(r)},setHoverStyle:function(e){var t=e._model,n=e._options,i=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ae(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Ae(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Ae(n.hoverBorderWidth,n.borderWidth),t.radius=Ae(n.hoverRadius,n.radius)}}),Re=V.options.resolve;z._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var Ve=ee.extend({dataElementType:ve.Arc,linkScales:V.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],d=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),t=0,n=a.data.length;t<n;t++)l[t]=s,i=r._computeAngle(t),c[t]=i,s+=i;for(t=0,n=d.length;t<n;++t)d[t]._options=r._resolveDataElementOptions(d[t],t),r.updateElement(d[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,d=l.xCenter,p=l.yCenter,u=o.startAngle,h=e.hidden?0:l.getDistanceFromCenterForValue(a.data[t]),g=i._starts[t],f=g+(e.hidden?0:i._angles[t]),m=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[t]),v=e._options||{};V.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:p,innerRadius:0,outerRadius:n?m:h,startAngle:n&&s.animateRotate?u:g,endAngle:n&&s.animateRotate?u:f,label:V.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return V.each(t.data,(function(t,i){isNaN(e.data[i])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,i=V.getHoverColor,r=V.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();return isNaN(i.data[e])||r.data[e].hidden?0:Re([t.chart.options.elements.arc.angle,2*Math.PI/n],{chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index},e)}});z._set("pie",V.clone(z.doughnut)),z._set("pie",{cutoutPercentage:0});var He=Fe,qe=V.valueOrDefault;z._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var We=ee.extend({datasetElementType:ve.Line,dataElementType:ve.Point,linkScales:V.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveDatasetElementOptions(a),a.pivot(),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(t,a.data[t]),l=i._resolveDataElementOptions(e,t),c=i.getMeta().dataset._model,d=n?o.xCenter:s.x,p=n?o.yCenter:s.y;e._scale=o,e._options=l,e._datasetIndex=i.index,e._index=t,e._model={x:d,y:p,skip:r.skip||isNaN(d)||isNaN(p),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:qe(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,i=ee.prototype._resolveDatasetElementOptions.apply(e,arguments);return i.spanGaps=qe(t.spanGaps,n.spanGaps),i.tension=qe(t.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var e,t,n,i,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(e,t,n){return Math.max(Math.min(e,n),t)}for(r.dataset._model.spanGaps&&(o=o.filter((function(e){return!e._model.skip}))),e=0,t=o.length;e<t;++e)n=o[e]._model,i=V.splineCurve(V.previousItem(o,e,!0)._model,n,V.nextItem(o,e,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,a.left,a.right),n.controlPointPreviousY=s(i.previous.y,a.top,a.bottom),n.controlPointNextX=s(i.next.x,a.left,a.right),n.controlPointNextY=s(i.next.y,a.top,a.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=V.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=qe(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=qe(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=qe(n.hoverBorderWidth,n.borderWidth),t.radius=qe(n.hoverRadius,n.radius)}});z._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),z._set("global",{datasets:{scatter:{showLine:!1}}});var Ue={bar:Me,bubble:Oe,doughnut:Fe,horizontalBar:De,line:Be,polarArea:Ve,pie:He,radar:We,scatter:Be};function $e(e,t){return e.native?{x:e.x,y:e.y}:V.getRelativePosition(e,t)}function Ye(e,t){var n,i,r,a,o,s,l=e._getSortedVisibleDatasetMetas();for(i=0,a=l.length;i<a;++i)for(r=0,o=(n=l[i].data).length;r<o;++r)(s=n[r])._view.skip||t(s)}function Ge(e,t){var n=[];return Ye(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function Qe(e,t,n,i){var r=Number.POSITIVE_INFINITY,a=[];return Ye(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),s=i(t,o);s<r?(a=[e],r=s):s===r&&a.push(e)}})),a}function Xe(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ke(e,t,n){var i=$e(t,e);n.axis=n.axis||"x";var r=Xe(n.axis),a=n.intersect?Ge(e,i):Qe(e,i,!1,r),o=[];return a.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[a[0]._index];t&&!t._view.skip&&o.push(t)})),o):[]}var Ze={modes:{single:function(e,t){var n=$e(t,e),i=[];return Ye(e,(function(e){if(e.inRange(n.x,n.y))return i.push(e),i})),i.slice(0,1)},label:Ke,index:Ke,dataset:function(e,t,n){var i=$e(t,e);n.axis=n.axis||"xy";var r=Xe(n.axis),a=n.intersect?Ge(e,i):Qe(e,i,!1,r);return a.length>0&&(a=e.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(e,t){return Ke(e,t,{intersect:!1})},point:function(e,t){return Ge(e,$e(t,e))},nearest:function(e,t,n){var i=$e(t,e);n.axis=n.axis||"xy";var r=Xe(n.axis);return Qe(e,i,n.intersect,r)},x:function(e,t,n){var i=$e(t,e),r=[],a=!1;return Ye(e,(function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r},y:function(e,t,n){var i=$e(t,e),r=[],a=!1;return Ye(e,(function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r}}},Je=V.extend;function et(e,t){return V.where(e,(function(e){return e.pos===t}))}function tt(e,t){return e.sort((function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function nt(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function it(e,t,n){var i,r,a=n.box,o=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?a.height:a.width,e[n.pos]+=n.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(i=t.outerWidth-nt(o,e,"left","right"),r=t.outerHeight-nt(o,e,"top","bottom"),i!==e.w||r!==e.h){e.w=i,e.h=r;var l=n.horizontal?[i,e.w]:[r,e.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function rt(e,t){var n,i=t.maxPadding;return n={left:0,top:0,right:0,bottom:0},(e?["left","right"]:["top","bottom"]).forEach((function(e){n[e]=Math.max(t[e],i[e])})),n}function at(e,t,n){var i,r,a,o,s,l,c=[];for(i=0,r=e.length;i<r;++i)(o=(a=e[i]).box).update(a.width||t.w,a.height||t.h,rt(a.horizontal,t)),it(t,n,a)&&(l=!0,c.length&&(s=!0)),o.fullWidth||c.push(a);return s&&at(c,t,n)||l}function ot(e,t,n){var i,r,a,o,s=n.padding,l=t.x,c=t.y;for(i=0,r=e.length;i<r;++i)o=(a=e[i]).box,a.horizontal?(o.left=o.fullWidth?s.left:t.left,o.right=o.fullWidth?n.outerWidth-s.right:t.left+t.w,o.top=c,o.bottom=c+o.height,o.width=o.right-o.left,c=o.bottom):(o.left=l,o.right=l+o.width,o.top=t.top,o.bottom=t.top+t.h,o.height=o.bottom-o.top,l=o.right);t.x=l,t.y=c}z._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var st,lt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)n.hasOwnProperty(i=r[o])&&(t[i]=n[i])},update:function(e,t,n){if(e){var i=V.options.toPadding((e.options.layout||{}).padding),r=t-i.width,a=n-i.height,o=function(e){var t=function(e){var t,n,i,r=[];for(t=0,n=(e||[]).length;t<n;++t)r.push({index:t,box:i=e[t],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(e),n=tt(et(t,"left"),!0),i=tt(et(t,"right")),r=tt(et(t,"top"),!0),a=tt(et(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(a),chartArea:et(t,"chartArea"),vertical:n.concat(i),horizontal:r.concat(a)}}(e.boxes),s=o.vertical,l=o.horizontal,c=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,vBoxMaxWidth:r/2/s.length,hBoxMaxHeight:a/2}),d=Je({maxPadding:Je({},i),w:r,h:a,x:i.left,y:i.top},i);!function(e,t){var n,i,r;for(n=0,i=e.length;n<i;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight}(s.concat(l),c),at(s,d,c),at(l,d,c)&&at(s,d,c),function(e){var t=e.maxPadding;function n(n){var i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),ot(o.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,ot(o.rightAndBottom,d,c),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},V.each(o.chartArea,(function(t){var n=t.box;Je(n,e.chartArea),n.update(d.w,d.h)}))}}},ct=(st=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&st.default||st,dt=["animationstart","webkitAnimationStart"],pt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function ut(e,t){var n=V.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var ht=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}()&&{passive:!0};function gt(e,t,n){e.addEventListener(t,n,ht)}function ft(e,t,n){e.removeEventListener(t,n,ht)}function mt(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function vt(e){var t=document.createElement("div");return t.className=e||"",t}var bt={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),e.appendChild(i)}}(t.host?t:document.head,ct)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=ut(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=ut(e,"height");void 0!==a&&(e.height=o)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach((function(e){var i=n[e];V.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)})),V.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n.$chartjs||(n.$chartjs={});gt(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=pt[e.type]||e.type,i=V.getRelativePosition(e,t);return mt(n,t,i.x,i.y,e)}(t,e))})}else!function(e,t,n){var i,r,a,o,s=e.$chartjs||(e.$chartjs={}),l=s.resizer=function(e){var t=vt("chartjs-size-monitor"),n=vt("chartjs-size-monitor-expand"),i=vt("chartjs-size-monitor-shrink");n.appendChild(vt()),i.appendChild(vt()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return gt(n,"scroll",r.bind(n,"expand")),gt(i,"scroll",r.bind(i,"shrink")),t}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,r=i?i.clientWidth:0;t(mt("resize",n)),i&&i.clientWidth<r&&n.canvas&&t(mt("resize",n))}},a=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,a||(a=!0,V.requestAnimFrame.call(window,(function(){a=!1,i.apply(r,o)})))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),i=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};V.each(dt,(function(t){gt(e,t,i)})),n.reflow=!!e.offsetParent,e.classList.add("chartjs-render-monitor")}(e,(function(){if(s.resizer){var t=e.parentNode;t&&t!==l.parentNode&&t.insertBefore(l,t.firstChild),l._reset()}}))}(i,n,e)},removeEventListener:function(e,t,n){var i,r,a,o=e.canvas;if("resize"!==t){var s=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];s&&ft(o,t,s)}else a=(r=(i=o).$chartjs||{}).resizer,delete r.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(V.each(dt,(function(t){ft(e,t,n)})),delete t.renderProxy),e.classList.remove("chartjs-render-monitor")}(i),a&&a.parentNode&&a.parentNode.removeChild(a)}};V.addEvent=gt,V.removeEvent=ft;var xt=V.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},bt._enabled?bt:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}});z._set("global",{plugins:{}});var yt={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,a,o,s,l=this.descriptors(e),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[t])&&((o=[e].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],r=e&&e.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,r=a[t];!1!==r&&(!0===r&&(r=V.clone(z.global.plugins[t])),n.push(e),i.push({plugin:e,options:r||{}}))}})),t.descriptors=i,t.id=this._cacheId,i},_invalidate:function(e){delete e.$plugins}},Ct={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=V.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?V.merge(Object.create(null),[z.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=V.extend(this.defaults[e],t))},addScalesToLayout:function(e){V.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,lt.addBox(e,t)}))}},_t=V.valueOrDefault,Mt=V.rtl.getRtlAdapter;z._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:V.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var a=e[0];a.label?n=a.label:a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:V.noop,beforeBody:V.noop,beforeLabel:V.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),V.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:V.noop,afterBody:V.noop,beforeFooter:V.noop,footer:V.noop,afterFooter:V.noop}}});var Pt={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(e,t){var n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=V.distanceBetweenPoints(t,c);d<s&&(s=d,r=l)}}if(r){var p=r.tooltipPosition();a=p.x,o=p.y}return{x:a,y:o}}};function wt(e,t){return t&&(V.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ot(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function kt(e){var t=z.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:_t(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:_t(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:_t(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:_t(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:_t(e.titleFontStyle,t.defaultFontStyle),titleFontSize:_t(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:_t(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:_t(e.footerFontStyle,t.defaultFontStyle),footerFontSize:_t(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function St(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function It(e){return wt([],Ot(e))}var Et=$.extend({initialize:function(){this._model=kt(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,i=n.beforeTitle.apply(e,arguments),r=n.title.apply(e,arguments),a=n.afterTitle.apply(e,arguments),o=[];return o=wt(o,Ot(i)),o=wt(o,Ot(r)),wt(o,Ot(a))},getBeforeBody:function(){return It(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,i=n._options.callbacks,r=[];return V.each(e,(function(e){var a={before:[],lines:[],after:[]};wt(a.before,Ot(i.beforeLabel.call(n,e,t))),wt(a.lines,i.label.call(n,e,t)),wt(a.after,Ot(i.afterLabel.call(n,e,t))),r.push(a)})),r},getAfterBody:function(){return It(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),a=[];return a=wt(a,Ot(n)),a=wt(a,Ot(i)),wt(a,Ot(r))},update:function(e){var t,n,i,r,a,o,s,l,c,d,p=this,u=p._options,h=p._model,g=p._model=kt(u),f=p._active,m=p._data,v={xAlign:h.xAlign,yAlign:h.yAlign},b={x:h.x,y:h.y},x={width:h.width,height:h.height},y={x:h.caretX,y:h.caretY};if(f.length){g.opacity=1;var C=[],_=[];y=Pt[u.position].call(p,f,p._eventPosition);var M=[];for(t=0,n=f.length;t<n;++t)M.push((r=void 0,a=void 0,l=void 0,c=void 0,d=void 0,r=(i=f[t])._xScale,a=i._yScale||i._scale,o=i._index,c=(l=i._chart.getDatasetMeta(s=i._datasetIndex).controller)._getIndexScale(),d=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:d?""+d.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));u.filter&&(M=M.filter((function(e){return u.filter(e,m)}))),u.itemSort&&(M=M.sort((function(e,t){return u.itemSort(e,t,m)}))),V.each(M,(function(e){C.push(u.callbacks.labelColor.call(p,e,p._chart)),_.push(u.callbacks.labelTextColor.call(p,e,p._chart))})),g.title=p.getTitle(M,m),g.beforeBody=p.getBeforeBody(M,m),g.body=p.getBody(M,m),g.afterBody=p.getAfterBody(M,m),g.footer=p.getFooter(M,m),g.x=y.x,g.y=y.y,g.caretPadding=u.caretPadding,g.labelColors=C,g.labelTextColors=_,g.dataPoints=M,x=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,a=t.body,o=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0),s=t.title.length,l=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,p=t.footerFontSize;i+=s*c,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=(o+=t.beforeBody.length+t.afterBody.length)*d,i+=o?(o-1)*t.bodySpacing:0,i+=l?t.footerMarginTop:0,i+=l*p,i+=l?(l-1)*t.footerSpacing:0;var u=0,h=function(e){r=Math.max(r,n.measureText(e).width+u)};return n.font=V.fontString(c,t._titleFontStyle,t._titleFontFamily),V.each(t.title,h),n.font=V.fontString(d,t._bodyFontStyle,t._bodyFontFamily),V.each(t.beforeBody.concat(t.afterBody),h),u=t.displayColors?d+2:0,V.each(a,(function(e){V.each(e.before,h),V.each(e.lines,h),V.each(e.after,h)})),u=0,n.font=V.fontString(p,t._footerFontStyle,t._footerFontFamily),V.each(t.footer,h),{width:r+=2*t.xPadding,height:i}}(this,g),b=function(e,t,n,i){var r=e.x,a=e.y,o=e.caretPadding,s=n.xAlign,l=n.yAlign,c=e.caretSize+o,d=e.cornerRadius+o;return"right"===s?r-=t.width:"center"===s&&((r-=t.width/2)+t.width>i.width&&(r=i.width-t.width),r<0&&(r=0)),"top"===l?a+=c:a-="bottom"===l?t.height+c:t.height/2,"center"===l?"left"===s?r+=c:"right"===s&&(r-=c):"left"===s?r-=d:"right"===s&&(r+=d),{x:r,y:a}}(g,x,v=function(e,t){var n,i,r,a,o,s=e._model,l=e._chart,c=e._chart.chartArea,d="center",p="center";s.y<t.height?p="top":s.y>l.height-t.height&&(p="bottom");var u=(c.left+c.right)/2,h=(c.top+c.bottom)/2;"center"===p?(n=function(e){return e<=u},i=function(e){return e>u}):(n=function(e){return e<=t.width/2},i=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},a=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=h?"top":"bottom"},n(s.x)?(d="left",r(s.x)&&(d="center",p=o(s.y))):i(s.x)&&(d="right",a(s.x)&&(d="center",p=o(s.y)));var g=e._options;return{xAlign:g.xAlign?g.xAlign:d,yAlign:g.yAlign?g.yAlign:p}}(this,x),p._chart)}else g.opacity=0;return g.xAlign=v.xAlign,g.yAlign=v.yAlign,g.x=b.x,g.y=b.y,g.width=x.width,g.height=x.height,g.caretX=y.x,g.caretY=y.y,p._model=g,e&&u.custom&&u.custom.call(p,g),p},drawCaret:function(e,t){var n=this._chart.ctx,i=this.getCaretPosition(e,t,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var i,r,a,o,s,l,c=n.caretSize,d=n.cornerRadius,p=n.xAlign,u=n.yAlign,h=e.x,g=e.y,f=t.width,m=t.height;if("center"===u)s=g+m/2,"left"===p?(r=(i=h)-c,a=i,o=s+c,l=s-c):(r=(i=h+f)+c,a=i,o=s-c,l=s+c);else if("left"===p?(i=(r=h+d+c)-c,a=r+c):"right"===p?(i=(r=h+f-d-c)-c,a=r+c):(i=(r=n.caretX)-c,a=r+c),"top"===u)s=(o=g)-c,l=o;else{s=(o=g+m)+c,l=o;var v=a;a=i,i=v}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(e,t,n){var i,r,a,o=t.title,s=o.length;if(s){var l=Mt(t.rtl,t.x,t.width);for(e.x=St(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=V.fontString(i,t._titleFontStyle,t._titleFontFamily),a=0;a<s;++a)n.fillText(o[a],l.x(e.x),e.y+i/2),e.y+=i+r,a+1===s&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var i,r,a,o,s,l,c,d,p=t.bodyFontSize,u=t.bodySpacing,h=t._bodyAlign,g=t.body,f=t.displayColors,m=0,v=f?St(t,"left"):0,b=Mt(t.rtl,t.x,t.width),x=function(t){n.fillText(t,b.x(e.x+m),e.y+p/2),e.y+=p+u},y=b.textAlign(h);for(n.textAlign=h,n.textBaseline="middle",n.font=V.fontString(p,t._bodyFontStyle,t._bodyFontFamily),e.x=St(t,y),n.fillStyle=t.bodyFontColor,V.each(t.beforeBody,x),m=f&&"right"!==y?"center"===h?p/2+1:p+2:0,s=0,c=g.length;s<c;++s){for(i=g[s],a=t.labelColors[s],n.fillStyle=r=t.labelTextColors[s],V.each(i.before,x),l=0,d=(o=i.lines).length;l<d;++l){if(f){var C=b.x(v);n.fillStyle=t.legendColorBackground,n.fillRect(b.leftForLtr(C,p),e.y,p,p),n.lineWidth=1,n.strokeStyle=a.borderColor,n.strokeRect(b.leftForLtr(C,p),e.y,p,p),n.fillStyle=a.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(C,1),p-2),e.y+1,p-2,p-2),n.fillStyle=r}x(o[l])}V.each(i.after,x)}m=0,V.each(t.afterBody,x),e.y-=u},drawFooter:function(e,t,n){var i,r,a=t.footer,o=a.length;if(o){var s=Mt(t.rtl,t.x,t.width);for(e.x=St(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=V.fontString(i,t._footerFontStyle,t._footerFontFamily),r=0;r<o;++r)n.fillText(a[r],s.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,a=t.yAlign,o=e.x,s=e.y,l=i.width,c=i.height,d=t.cornerRadius;n.beginPath(),n.moveTo(o+d,s),"top"===a&&this.drawCaret(e,i),n.lineTo(o+l-d,s),n.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===r&&this.drawCaret(e,i),n.lineTo(o+l,s+c-d),n.quadraticCurveTo(o+l,s+c,o+l-d,s+c),"bottom"===a&&this.drawCaret(e,i),n.lineTo(o+d,s+c),n.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===r&&this.drawCaret(e,i),n.lineTo(o,s+d),n.quadraticCurveTo(o,s,o+d,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,V.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),V.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&n._active.reverse()),(t=!V.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}});Et.positioners=Pt;var Ft=V.valueOrDefault;function Dt(){return V.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,a,o,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)a=Ft((o=n[e][r]).type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),V.merge(t[e][r],!t[e][r].type||o.type&&o.type!==t[e][r].type?[Ct.getScaleDefaults(a),o]:o)}else V._merger(e,t,n,i)}})}function At(){return V.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||Object.create(null),a=n[e];"scales"===e?t[e]=Dt(r,a):"scale"===e?t[e]=V.merge(r,[Ct.getScaleDefaults(a.type),a]):V._merger(e,t,n,i)}})}function Lt(e){var t=e.options;V.each(e.scales,(function(t){lt.removeBox(e,t)})),t=At(z.global,z[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Tt(e,t,n){var i,r=function(e){return e.id===i};do{i=t+n++}while(V.findIndex(e,r)>=0);return i}function zt(e){return"top"===e||"bottom"===e}function jt(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}z._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Nt=function(e,t){return this.construct(e,t),this};V.extend(Nt.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||Object.create(null)).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=At(z.global,z[e.type],e.options||{}),e}(t);var i=xt.acquireContext(e,t),r=i&&i.canvas,a=r&&r.height,o=r&&r.width;n.id=V.uid(),n.ctx=i,n.canvas=r,n.config=t,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Nt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return yt.notify(e,"beforeInit"),V.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),yt.notify(e,"afterInit"),e},clear:function(){return V.canvas.clear(this),this},stop:function(){return Q.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(V.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:V.getMaximumHeight(i)));if((t.width!==a||t.height!==o)&&(i.width=t.width=a,i.height=t.height=o,i.style.width=a+"px",i.style.height=o+"px",V.retinaScale(t,n.devicePixelRatio),!e)){var s={width:a,height:o};yt.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;V.each(t.xAxes,(function(e,n){e.id||(e.id=Tt(t.xAxes,"x-axis-",n))})),V.each(t.yAxes,(function(e,n){e.id||(e.id=Tt(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},i=[],r=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(i=i.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&i.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),V.each(i,(function(t){var i=t.options,a=i.id,o=Ft(i.type,t.dtype);zt(i.position)!==zt(t.dposition)&&(i.position=t.dposition),r[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=i,s.ctx=e.ctx,s.chart=e;else{var l=Ct.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:i,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),V.each(r,(function(e,t){e||delete n[t]})),e.scales=n,Ct.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,i=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var a=r[e],o=n.getDatasetMeta(e),s=a.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(e),o=n.getDatasetMeta(e)),o.type=s,o.order=a.order||0,o.index=e,o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var l=Ue[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(n,e),i.push(o.controller)}}return i},resetElements:function(){var e=this;V.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,i=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Lt(i),yt._invalidate(i),!1!==yt.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(t=0,n=i.data.datasets.length;t<n;t++)i.getDatasetMeta(t).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&V.each(r,(function(e){e.reset()})),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],yt.notify(i,"afterUpdate"),i._layers.sort(jt("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:i.render(e)}},updateLayout:function(){var e=this;!1!==yt.notify(e,"beforeLayout")&&(lt.update(this,this.width,this.height),e._layers=[],V.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),yt.notify(e,"afterScaleUpdate"),yt.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==yt.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);yt.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==yt.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),yt.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,i=Ft(e.duration,n&&n.duration),r=e.lazy;if(!1!==yt.notify(t,"beforeRender")){var a=function(e){yt.notify(t,"afterRender"),V.callback(n&&n.onComplete,[e],t)};if(n&&i){var o=new G({numSteps:i/16.66,easing:e.easing||n.easing,render:function(e,t){var n=t.currentStep,i=n/t.numSteps;e.draw((0,V.easing.effects[t.easing])(i),i,n)},onAnimationProgress:n.onProgress,onAnimationComplete:a});Q.addAnimation(t,o,i,r)}else t.draw(),a(new G({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,i=this;if(i.clear(),V.isNullOrUndef(e)&&(e=1),i.transition(e),!(i.width<=0||i.height<=0)&&!1!==yt.notify(i,"beforeDraw",[e])){for(n=i._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(i.chartArea);for(i.drawDatasets(e);t<n.length;++t)n[t].draw(i.chartArea);i._drawTooltip(e),yt.notify(i,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,i=[];for(t=0,n=(this.data.datasets||[]).length;t<n;++t)e&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(jt("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==yt.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(t[n],e);yt.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==yt.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),yt.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==yt.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),yt.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return Ze.modes.single(this,e)},getElementsAtEvent:function(e){return Ze.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Ze.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=Ze.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return Ze.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),V.canvas.clear(n),xt.releaseContext(n.ctx),n.canvas=null,n.ctx=null),yt.notify(n,"destroy"),delete Nt.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Et({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};V.each(e.options.events,(function(i){xt.addEventListener(e,i,n),t[i]=n})),e.options.responsive&&(n=function(){e.resize()},xt.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,V.each(t,(function(t,n){xt.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var i,r,a,o=n?"set":"remove";for(r=0,a=e.length;r<a;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[o+"HoverStyle"](i);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==yt.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),yt.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===e.type?[]:n.getElementsAtEventForMode(e,r.mode,r),V.callback(i.onHover||i.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!V.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Nt.instances={};var Bt=Nt;function Rt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Vt(e){this.options=e||{}}Nt.Controller=Nt,Nt.types={},V.configMerge=At,V.scaleMerge=Dt,V.extend(Vt.prototype,{formats:Rt,parse:Rt,format:Rt,add:Rt,diff:Rt,startOf:Rt,endOf:Rt,_create:function(e){return e}}),Vt.override=function(e){V.extend(Vt.prototype,e)};var Ht={_date:Vt},qt={formatters:{values:function(e){return V.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=V.log10(Math.abs(i)),a="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=V.log10(Math.abs(e)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),a=e.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=e.toFixed(l)}else a="0";return a},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(V.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},Wt=V.isArray,Ut=V.isNullOrUndef,$t=V.valueOrDefault,Yt=V.valueAtIndexOrDefault;function Gt(e,t,n){var i,r=e.getTicks().length,a=Math.min(t,r-1),o=e.getPixelForTick(a),s=e._startPixel,l=e._endPixel;if(!(n&&(i=1===r?Math.max(o-s,l-o):0===t?(e.getPixelForTick(1)-o)/2:(o-e.getPixelForTick(a-1))/2,(o+=a<t?i:-i)<s-1e-6||o>l+1e-6)))return o}function Qt(e){return e.drawTicks?e.tickMarkLength:0}function Xt(e){var t,n;return e.display?(t=V.options._parseFont(e),n=V.options.toPadding(e.padding),t.lineHeight+n.height):0}function Kt(e,t){return V.extend(V.options._parseFont({fontFamily:$t(t.fontFamily,e.fontFamily),fontSize:$t(t.fontSize,e.fontSize),fontStyle:$t(t.fontStyle,e.fontStyle),lineHeight:$t(t.lineHeight,e.lineHeight)}),{color:V.options.resolve([t.fontColor,e.fontColor,z.global.defaultFontColor])})}function Zt(e){var t=Kt(e,e.minor);return{minor:t,major:e.major.enabled?Kt(e,e.major):t}}function Jt(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function en(e,t,n,i){var r,a,o,s,l=$t(n,0),c=Math.min($t(i,e.length),e.length),d=0;for(t=Math.ceil(t),i&&(t=(r=i-n)/Math.floor(r/t)),s=l;s<0;)d++,s=Math.round(l+d*t);for(a=Math.max(l,0);a<c;a++)o=e[a],a===s?(o._index=a,d++,s=Math.round(l+d*t)):delete o.label}z._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:qt.formatters.values,minor:{},major:{}}});var tn=$.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,a,o,s,l=this,c=l.options.ticks,d=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=V.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],i=0,r=l.ticks.length;i<r;++i)o.push({value:l.ticks[i],major:!1});return l._ticks=o,a=l._convertTicksToLabels((s=d<o.length)?function(e,t){for(var n=[],i=e.length/t,r=0,a=e.length;r<a;r+=i)n.push(e[Math.floor(r)]);return n}(o,d):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(o):o,s&&(a=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=a,l.afterUpdate(),l.minSize},_configure:function(){var e,t,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,i=!i),n._startPixel=e,n._endPixel=t,n._reversePixels=i,n._length=t-e},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(e){var t=this;return Wt(e)&&e.length?V.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=V.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,i,r,a,o,s=this,l=s.options,c=l.ticks,d=s.getTicks().length,p=c.minRotation||0,u=c.maxRotation,h=p;!s._isVisible()||!c.display||p>=u||d<=1||!s.isHorizontal()?s.labelRotation=p:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,i=Math.min(s.maxWidth,s.chart.width-t),t+6>(r=l.offset?s.maxWidth/d:i/(d-1))&&(r=i/(d-(l.offset?.5:1)),a=s.maxHeight-Qt(l.gridLines)-c.padding-Xt(l.scaleLabel),o=Math.sqrt(t*t+n*n),h=V.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(a/o,1))-Math.asin(n/o))),h=Math.max(p,Math.min(u,h))),s.labelRotation=h)},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,i=e.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=e._isVisible(),l="bottom"===i.position,c=e.isHorizontal();if(c?t.width=e.maxWidth:s&&(t.width=Qt(o)+Xt(a)),c?s&&(t.height=Qt(o)+Xt(a)):t.height=e.maxHeight,r.display&&s){var d=Zt(r),p=e._getLabelSizes(),u=p.first,h=p.last,g=p.widest,f=p.highest,m=.4*d.minor.lineHeight,v=r.padding;if(c){var b=0!==e.labelRotation,x=V.toRadians(e.labelRotation),y=Math.cos(x),C=Math.sin(x);t.height=Math.min(e.maxHeight,t.height+(C*g.width+y*(f.height-(b?f.offset:0))+(b?0:m))+v);var _,M,P=e.getPixelForTick(0)-e.left,w=e.right-e.getPixelForTick(e.getTicks().length-1);b?(_=l?y*u.width+C*u.offset:C*(u.height-u.offset),M=l?C*(h.height-h.offset):y*h.width+C*h.offset):(_=u.width/2,M=h.width/2),e.paddingLeft=Math.max((_-P)*e.width/(e.width-P),0)+3,e.paddingRight=Math.max((M-w)*e.width/(e.width-w),0)+3}else t.width=Math.min(e.maxWidth,t.width+(r.mirror?0:g.width+v+m)),e.paddingTop=u.height/2,e.paddingBottom=h.height/2}e.handleMargins(),c?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(Ut(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,i,r=this;for(r.ticks=e.map((function(e){return e.value})),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,i=e.length;n<i;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=function(e,t,n,i){var r,a,o,s,l,c,d,p,u,h,g,f,m,v=n.length,b=[],x=[],y=[],C=0,_=0;for(r=0;r<v;++r){if(s=n[r].label,e.font=c=(l=n[r].major?t.major:t.minor).string,d=i[c]=i[c]||{data:{},gc:[]},p=l.lineHeight,u=h=0,Ut(s)||Wt(s)){if(Wt(s))for(a=0,o=s.length;a<o;++a)Ut(g=s[a])||Wt(g)||(u=V.measureText(e,d.data,d.gc,u,g),h+=p)}else u=V.measureText(e,d.data,d.gc,u,s),h=p;b.push(u),x.push(h),y.push(p/2),C=Math.max(u,C),_=Math.max(h,_)}function M(e){return{width:b[e]||0,height:x[e]||0,offset:y[e]||0}}return function(e,t){V.each(e,(function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}}))}(i,v),f=b.indexOf(C),m=x.indexOf(_),{first:M(0),last:M(v-1),widest:M(f),highest:M(m)}}(e.ctx,Zt(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,i,r;return Wt(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),i=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),i=e,r=e),{min:i,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*i+(t?i/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,i,r,a=this.options.ticks,o=a.maxTicksLimit||this._length/this._tickSize()+1,s=a.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(e):[],l=s.length,c=s[0],d=s[l-1];if(l>o)return function(e,t,n){var i,r,a=0,o=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)r=e[i],i===o?(r._index=i,o=t[++a*n]):delete r.label}(e,s,l/o),Jt(e);if(i=function(e,t,n,i){var r,a,o,s,l=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),c=(t.length-1)/i;if(!l)return Math.max(c,1);for(o=0,s=(r=V.math._factorize(l)).length-1;o<s;o++)if((a=r[o])>c)return a;return Math.max(c,1)}(s,e,0,o),l>0){for(t=0,n=l-1;t<n;t++)en(e,i,s[t],s[t+1]);return en(e,i,V.isNullOrUndef(r=l>1?(d-c)/(l-1):null)?0:c-r,c),en(e,i,d,V.isNullOrUndef(r)?e.length:d+r),Jt(e)}return en(e,i),Jt(e)},_tickSize:function(){var e=this.options.ticks,t=V.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i},_isVisible:function(){var e,t,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,i,r,a,o,s,l,c,d,p,u,h,g,f,m,v,b=this,x=b.chart,y=b.options,C=y.gridLines,_=y.position,M=C.offsetGridLines,P=b.isHorizontal(),w=b._ticksToDraw,O=w.length+(M?1:0),k=Qt(C),S=[],I=C.drawBorder?Yt(C.lineWidth,0,0):0,E=I/2,F=V._alignPixel,D=function(e){return F(x,e,I)};for("top"===_?(t=D(b.bottom),s=b.bottom-k,c=t-E,p=D(e.top)+E,h=e.bottom):"bottom"===_?(t=D(b.top),p=e.top,h=D(e.bottom)-E,s=t+E,c=b.top+k):"left"===_?(t=D(b.right),o=b.right-k,l=t-E,d=D(e.left)+E,u=e.right):(t=D(b.left),d=e.left,u=D(e.right)-E,o=t+E,l=b.left+k),n=0;n<O;++n)Ut((i=w[n]||{}).label)&&n<w.length||(n===b.zeroLineIndex&&y.offset===M?(g=C.zeroLineWidth,f=C.zeroLineColor,m=C.zeroLineBorderDash||[],v=C.zeroLineBorderDashOffset||0):(g=Yt(C.lineWidth,n,1),f=Yt(C.color,n,"rgba(0,0,0,0.1)"),m=C.borderDash||[],v=C.borderDashOffset||0),void 0!==(r=Gt(b,i._index||n,M))&&(a=F(x,r,g),P?o=l=d=u=a:s=c=p=h=a,S.push({tx1:o,ty1:s,tx2:l,ty2:c,x1:d,y1:p,x2:u,y2:h,width:g,color:f,borderDash:m,borderDashOffset:v})));return S.ticksLength=O,S.borderValue=t,S},_computeLabelItems:function(){var e,t,n,i,r,a,o,s,l,c,d,p,u=this,h=u.options,g=h.ticks,f=h.position,m=g.mirror,v=u.isHorizontal(),b=u._ticksToDraw,x=Zt(g),y=g.padding,C=Qt(h.gridLines),_=-V.toRadians(u.labelRotation),M=[];for("top"===f?(a=u.bottom-C-y,o=_?"left":"center"):"bottom"===f?(a=u.top+C+y,o=_?"right":"center"):"left"===f?(r=u.right-(m?0:C)-y,o=m?"left":"right"):(r=u.left+(m?0:C)+y,o=m?"right":"left"),e=0,t=b.length;e<t;++e)Ut(i=(n=b[e]).label)||(s=u.getPixelForTick(n._index||e)+g.labelOffset,c=(l=n.major?x.major:x.minor).lineHeight,d=Wt(i)?i.length:1,v?(r=s,p="top"===f?((_?1:.5)-d)*c:(_?0:.5)*c):(a=s,p=(1-d)*c/2),M.push({x:r,y:a,rotation:_,label:i,font:l,textOffset:p,textAlign:o}));return M},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var i,r,a,o,s,l=t.ctx,c=t.chart,d=V._alignPixel,p=n.drawBorder?Yt(n.lineWidth,0,0):0,u=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(a=0,o=u.length;a<o;++a)r=(s=u[a]).color,(i=s.width)&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(p){var h,g,f,m,v=p,b=Yt(n.lineWidth,u.ticksLength-1,1),x=u.borderValue;t.isHorizontal()?(h=d(c,t.left,v)-v/2,g=d(c,t.right,b)+b/2,f=m=x):(f=d(c,t.top,v)-v/2,m=d(c,t.bottom,b)+b/2,h=g=x),l.lineWidth=p,l.strokeStyle=Yt(n.color,0),l.beginPath(),l.moveTo(h,f),l.lineTo(g,m),l.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,i,r,a,o,s,l,c=e.ctx,d=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,i=d.length;t<i;++t){if(o=(a=d[t]).font,c.save(),c.translate(a.x,a.y),c.rotate(a.rotation),c.font=o.string,c.fillStyle=o.color,c.textBaseline="middle",c.textAlign=a.textAlign,l=a.textOffset,Wt(s=a.label))for(n=0,r=s.length;n<r;++n)c.fillText(""+s[n],0,l),l+=o.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,i=n.scaleLabel;if(i.display){var r,a,o=$t(i.fontColor,z.global.defaultFontColor),s=V.options._parseFont(i),l=V.options.toPadding(i.padding),c=s.lineHeight/2,d=n.position,p=0;if(e.isHorizontal())r=e.left+e.width/2,a="bottom"===d?e.bottom-c-l.bottom:e.top+c+l.top;else{var u="left"===d;r=u?e.left+c+l.top:e.right-c-l.top,a=e.top+e.height/2,p=u?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,a),t.rotate(p),t.textAlign="center",t.textBaseline="middle",t.fillStyle=o,t.font=s.string,t.fillText(i.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,i=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==i&&e.draw===e._draw?[{z:i,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(i){return(!e||i.type===e)&&(n?i.xAxisID===t.id:i.yAxisID===t.id)}))}});tn.prototype._draw=tn.prototype.draw;var nn=tn,rn=V.isNullOrUndef,an=nn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),i=t.options.ticks,r=i.min,a=i.max,o=0,s=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(o=e),void 0!==a&&(e=n.indexOf(a))>=0&&(s=e),t.minIndex=o,t.maxIndex=s,t.min=n[o],t.max=n[s]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;nn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var i,r,a,o=this;return rn(t)||rn(n)||(e=o.chart.data.datasets[n].data[t]),rn(e)||(i=o.isHorizontal()?e.x:e.y),(void 0!==i||void 0!==e&&isNaN(t))&&(r=o._getLabels(),e=V.valueOrDefault(i,e),t=-1!==(a=r.indexOf(e))?a:t,isNaN(t)&&(t=e)),o.getPixelForDecimal((t-o._startValue)/o._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});an._defaults={position:"bottom"};var on=V.isNullOrUndef,sn=nn.extend({getRightValue:function(e){return"string"==typeof e?+e:nn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=V.sign(e.min),i=V.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(e.min=null===e.min?t.suggestedMin:Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(e.max=null===e.max?t.suggestedMax:Math.max(e.max,t.suggestedMax)),r!==a&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,i=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:V.noop,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:V.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,i,r,a,o=[],s=e.stepSize,l=s||1,c=e.maxTicks-1,d=e.min,p=e.max,u=e.precision,h=t.min,g=t.max,f=V.niceNum((g-h)/c/l)*l;if(f<1e-14&&on(d)&&on(p))return[h,g];(a=Math.ceil(g/f)-Math.floor(h/f))>c&&(f=V.niceNum(a*f/c/l)*l),s||on(u)?n=Math.pow(10,V._decimalPlaces(f)):(n=Math.pow(10,u),f=Math.ceil(f*n)/n),i=Math.floor(h/f)*f,r=Math.ceil(g/f)*f,s&&(!on(d)&&V.almostWhole(d/f,f/1e3)&&(i=d),!on(p)&&V.almostWhole(p/f,f/1e3)&&(r=p)),a=V.almostEquals(a=(r-i)/f,Math.round(a),f/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(on(d)?i:d);for(var m=1;m<a;++m)o.push(Math.round((i+m*f)*n)/n);return o.push(on(p)?r:p),o}(i,e);e.handleDirectionalChanges(),e.max=V.max(r),e.min=V.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),nn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),i=t.min,r=t.max;nn.prototype._configure.call(t),t.options.offset&&n.length&&(i-=e=(r-i)/Math.max(n.length-1,1)/2,r+=e),t._startValue=i,t._endValue=r,t._valueRange=r-i}}),ln={position:"left",ticks:{callback:qt.formatters.linear}};function cn(e,t,n,i){var r,a,o=e.options,s=function(e,t,n){var i=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[i]&&(e[i]={pos:[],neg:[]}),e[i]}(t,o.stacked,n),l=s.pos,c=s.neg,d=i.length;for(r=0;r<d;++r)a=e._parseValue(i[r]),isNaN(a.min)||isNaN(a.max)||n.data[r].hidden||(l[r]=l[r]||0,c[r]=c[r]||0,o.relativePoints?l[r]=100:a.min<0||a.max<0?c[r]+=a.min:l[r]+=a.max)}function dn(e,t,n){var i,r,a=n.length;for(i=0;i<a;++i)r=e._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||t.data[i].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}var pn=sn.extend({determineDataLimits:function(){var e,t,n,i,r=this,a=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=a.stacked,c={},d=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(e=0;!l&&e<d;++e)l=void 0!==(t=s[e]).stack;for(e=0;e<d;++e)n=o[(t=s[e]).index].data,l?cn(r,c,t,n):dn(r,t,n);V.each(c,(function(e){i=e.pos.concat(e.neg),r.min=Math.min(r.min,V.min(i)),r.max=Math.max(r.max,V.max(i))})),r.min=V.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=V.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=V.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}});pn._defaults=ln;var un=V.valueOrDefault,hn=V.math.log10,gn={position:"left",ticks:{callback:qt.formatters.logarithmic}};function fn(e,t){return V.isFinite(e)&&e>=0?e:t}var mn=nn.extend({determineDataLimits:function(){var e,t,n,i,r,a,o=this,s=o.options,l=o.chart,c=l.data.datasets,d=o.isHorizontal();function p(e){return d?e.xAxisID===o.id:e.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var u=s.stacked;if(void 0===u)for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&p(t)&&void 0!==t.stack){u=!0;break}if(s.stacked||u){var h={};for(e=0;e<c.length;e++){var g=[(t=l.getDatasetMeta(e)).type,void 0===s.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(l.isDatasetVisible(e)&&p(t))for(void 0===h[g]&&(h[g]=[]),r=0,a=(i=c[e].data).length;r<a;r++){var f=h[g];n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(f[r]=f[r]||0,f[r]+=n.max)}}V.each(h,(function(e){if(e.length>0){var t=V.min(e),n=V.max(e);o.min=Math.min(o.min,t),o.max=Math.max(o.max,n)}}))}else for(e=0;e<c.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&p(t))for(r=0,a=(i=c[e].data).length;r<a;r++)n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=V.isFinite(o.min)?o.min:null,o.max=V.isFinite(o.max)?o.max:null,o.minNotZero=V.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=fn(t.min,e.min),e.max=fn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(hn(e.min))-1),e.max=Math.pow(10,Math.floor(hn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(hn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(hn(e.min))+1):10),null===e.minNotZero&&(e.minNotZero=e.min>0?e.min:e.max<1?Math.pow(10,Math.floor(hn(e.max))):1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:fn(t.min),max:fn(t.max)},r=e.ticks=function(e,t){var n,i,r=[],a=un(e.min,Math.pow(10,Math.floor(hn(t.min)))),o=Math.floor(hn(t.max)),s=Math.ceil(t.max/Math.pow(10,o));0===a?(n=Math.floor(hn(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(hn(a)),i=Math.floor(a/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(a),10==++i&&(i=1,l=++n>=0?1:l),a=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var c=un(e.max,a);return r.push(c),r}(i,e);e.max=V.max(r),e.min=V.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),nn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(hn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;nn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=un(e.options.ticks.fontSize,z.global.defaultFontSize)/e._length),e._startValue=hn(t),e._valueOffset=n,e._valueRange=(hn(e.max)-hn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(hn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}});mn._defaults=gn;var vn=V.valueOrDefault,bn=V.valueAtIndexOrDefault,xn=V.options.resolve,yn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:qt.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Cn(e){var t=e.ticks;return t.display&&e.display?vn(t.fontSize,z.global.defaultFontSize)+2*t.backdropPaddingY:0}function _n(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Mn(e){return 0===e||180===e?"center":e<180?"left":"right"}function Pn(e,t,n,i){var r,a,o=n.y+i/2;if(V.isArray(t))for(r=0,a=t.length;r<a;++r)e.fillText(t[r],n.x,o),o+=i;else e.fillText(t,n.x,o)}function wn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function On(e){return V.isNumber(e)?e:0}var kn=sn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Cn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;V.each(t.data.datasets,(function(r,a){if(t.isDatasetVisible(a)){var o=t.getDatasetMeta(a);V.each(r.data,(function(t,r){var a=+e.getRightValue(t);isNaN(a)||o.data[r].hidden||(n=Math.min(a,n),i=Math.max(a,i))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Cn(this.options))},convertTicksToLabels:function(){var e=this;sn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=V.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,i,r=V.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=r.string,e._pointLabelSizes=[];var s,l,c,d=e.chart.data.labels.length;for(t=0;t<d;t++){i=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=r.lineHeight,n=V.isArray(c=e.pointLabels[t])?{w:V.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},e._pointLabelSizes[t]=n;var p=e.getIndexAngle(t),u=V.toDegrees(p)%360,h=_n(u,i.x,n.w,0,180),g=_n(u,i.y,n.h,90,270);h.start<a.l&&(a.l=h.start,o.l=p),h.end>a.r&&(a.r=h.end,o.r=p),g.start<a.t&&(a.t=g.start,o.t=p),g.end>a.b&&(a.b=g.end,o.b=p)}e.setReductions(e.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),a=Math.max(t.r-i.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),s=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=On(r),a=On(a),o=On(o),s=On(s),i.drawingArea=Math.min(Math.floor(e-(r+a)/2),Math.floor(e-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(e,t,n,i){var r=this,a=n+r.drawingArea,o=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((e+r.drawingArea+(r.width-t-r.drawingArea))/2+r.left),r.yCenter=Math.floor((a+o)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(V.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var e,t,n,i=this,r=i.ctx,a=i.options,o=a.gridLines,s=a.angleLines,l=vn(s.lineWidth,o.lineWidth),c=vn(s.color,o.color);if(a.pointLabels.display&&function(e){var t=e.ctx,n=e.options,i=n.pointLabels,r=Cn(n),a=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),o=V.options._parseFont(i);t.save(),t.font=o.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var l=e.getPointPosition(s,a+(0===s?r/2:0)+5),c=bn(i.fontColor,s,z.global.defaultFontColor);t.fillStyle=c;var d=e.getIndexAngle(s),p=V.toDegrees(d);t.textAlign=Mn(p),wn(p,e._pointLabelSizes[s],l),Pn(t,e.pointLabels[s],l,o.lineHeight)}t.restore()}(i),o.display&&V.each(i.ticks,(function(e,n){0!==n&&(t=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(e,t,n,i){var r,a=e.ctx,o=t.circular,s=e.chart.data.labels.length,l=bn(t.color,i-1),c=bn(t.lineWidth,i-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(t.borderDash||[]),a.lineDashOffset=t.borderDashOffset||0),a.beginPath(),o)a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var d=1;d<s;d++)r=e.getPointPosition(d,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(i,o,t,n))})),s.display&&l&&c){for(r.save(),r.lineWidth=l,r.strokeStyle=c,r.setLineDash&&(r.setLineDash(xn([s.borderDash,o.borderDash,[]])),r.lineDashOffset=xn([s.borderDashOffset,o.borderDashOffset,0])),e=i.chart.data.labels.length-1;e>=0;e--)t=i.getDistanceFromCenterForValue(a.ticks.reverse?i.min:i.max),n=i.getPointPosition(e,t),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var i,r,a=e.getIndexAngle(0),o=V.options._parseFont(n),s=vn(n.fontColor,z.global.defaultFontColor);t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",V.each(e.ticks,(function(a,l){(0!==l||n.reverse)&&(i=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=t.measureText(a).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-i-o.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(a,0,-i))})),t.restore()}},_drawTitle:V.noop});kn._defaults=yn;var Sn=V._deprecated,In=V.options.resolve,En=V.valueOrDefault,Fn=Number.MIN_SAFE_INTEGER||-9007199254740991,Dn=Number.MAX_SAFE_INTEGER||9007199254740991,An={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ln=Object.keys(An);function Tn(e,t){return e-t}function zn(e){return V.valueOrDefault(e.time.min,e.ticks.min)}function jn(e){return V.valueOrDefault(e.time.max,e.ticks.max)}function Nn(e,t,n,i){var r=function(e,t,n){for(var i,r,a,o=0,s=e.length-1;o>=0&&o<=s;){if(a=e[i=o+s>>1],!(r=e[i-1]||null))return{lo:null,hi:a};if(a[t]<n)o=i+1;else{if(!(r[t]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(e,t,n),a=r.lo?r.hi?r.lo:e[e.length-2]:e[0],o=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=o[t]-a[t];return a[i]+(o[i]-a[i])*(s?(n-a[t])/s:0)}function Bn(e,t){var n=e._adapter,i=e.options.time,r=i.parser,a=r||i.format,o=t;return"function"==typeof r&&(o=r(o)),V.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(t),V.isFinite(o)||(o=n.parse(o))),o)}function Rn(e,t){if(V.isNullOrUndef(t))return null;var n=e.options.time,i=Bn(e,e.getRightValue(t));return null===i||n.round&&(i=+e._adapter.startOf(i,n.round)),i}function Vn(e,t,n,i){var r,a,o=Ln.length;for(r=Ln.indexOf(e);r<o-1;++r)if((a=An[Ln[r]]).common&&Math.ceil((n-t)/((a.steps?a.steps:Dn)*a.size))<=i)return Ln[r];return Ln[o-1]}function Hn(e,t,n){var i,r,a=[],o={},s=t.length;for(i=0;i<s;++i)o[r=t[i]]=i,a.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,i){var r,a,o=e._adapter,s=+o.startOf(t[0].value,i),l=t[t.length-1].value;for(r=s;r<=l;r=+o.add(r,1,i))(a=n[r])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var qn=nn.extend({initialize:function(){this.mergeTicksOptions(),nn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),i=e._adapter=new Ht._date(t.adapters.date);return Sn("time scale",n.format,"time.format","time.parser"),Sn("time scale",n.min,"time.min","ticks.min"),Sn("time scale",n.max,"time.max","ticks.max"),V.mergeIf(n.displayFormats,i.formats()),nn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),nn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,a,o,s=this,l=s.chart,c=s._adapter,d=s.options,p=d.time.unit||"day",u=Dn,h=Fn,g=[],f=[],m=[],v=s._getLabels();for(e=0,n=v.length;e<n;++e)m.push(Rn(s,v[e]));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(V.isObject((r=l.data.datasets[e].data)[0]))for(f[e]=[],t=0,i=r.length;t<i;++t)a=Rn(s,r[t]),g.push(a),f[e][t]=a;else f[e]=m.slice(0),o||(g=g.concat(m),o=!0);else f[e]=[];m.length&&(u=Math.min(u,m[0]),h=Math.max(h,m[m.length-1])),g.length&&(g=n>1?function(e){var t,n,i,r={},a=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,a.push(i));return a}(g).sort(Tn):g.sort(Tn),u=Math.min(u,g[0]),h=Math.max(h,g[g.length-1])),u=Rn(s,zn(d))||u,h=Rn(s,jn(d))||h,u=u===Dn?+c.startOf(Date.now(),p):u,h=h===Fn?+c.endOf(Date.now(),p)+1:h,s.min=Math.min(u,h),s.max=Math.max(u+1,h),s._table=[],s._timestamps={data:g,datasets:f,labels:m}},buildTicks:function(){var e,t,n,i=this,r=i.min,a=i.max,o=i.options,s=o.ticks,l=o.time,c=i._timestamps,d=[],p=i.getLabelCapacity(r),u=s.source,h=o.distribution;for(c="data"===u||"auto"===u&&"series"===h?c.data:"labels"===u?c.labels:function(e,t,n,i){var r,a=e._adapter,o=e.options,s=o.time,l=s.unit||Vn(s.minUnit,t,n,i),c=In([s.stepSize,s.unitStepSize,1]),d="week"===l&&s.isoWeekday,p=t,u=[];if(d&&(p=+a.startOf(p,"isoWeek",d)),p=+a.startOf(p,d?"day":l),a.diff(n,t,l)>1e5*c)throw t+" and "+n+" are too far apart with stepSize of "+c+" "+l;for(r=p;r<n;r=+a.add(r,c,l))u.push(r);return r!==n&&"ticks"!==o.bounds||u.push(r),u}(i,r,a,p),"ticks"===o.bounds&&c.length&&(r=c[0],a=c[c.length-1]),r=Rn(i,zn(o))||r,a=Rn(i,jn(o))||a,e=0,t=c.length;e<t;++e)(n=c[e])>=r&&n<=a&&d.push(n);return i.min=r,i.max=a,i._unit=l.unit||(s.autoSkip?Vn(l.minUnit,i.min,i.max,p):function(e,t,n,i,r){var a,o;for(a=Ln.length-1;a>=Ln.indexOf(n);a--)if(An[o=Ln[a]].common&&e._adapter.diff(r,i,o)>=t-1)return o;return Ln[n?Ln.indexOf(n):0]}(i,d.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&"year"!==i._unit?function(e){for(var t=Ln.indexOf(e)+1,n=Ln.length;t<n;++t)if(An[Ln[t]].common)return Ln[t]}(i._unit):void 0,i._table=function(e,t,n,i){if("linear"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,a,o,s,l,c=[],d=[t];for(r=0,a=e.length;r<a;++r)(s=e[r])>t&&s<n&&d.push(s);for(d.push(n),r=0,a=d.length;r<a;++r)l=d[r+1],s=d[r],void 0!==(o=d[r-1])&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(a-1)});return c}(i._timestamps.data,r,a,h),i._offsets=function(e,t,n,i,r){var a,o,s=0,l=0;return r.offset&&t.length&&(a=Nn(e,"time",t[0],"pos"),s=1===t.length?1-a:(Nn(e,"time",t[1],"pos")-a)/2,o=Nn(e,"time",t[t.length-1],"pos"),l=1===t.length?o:(o-Nn(e,"time",t[t.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,d,0,0,o),s.reverse&&d.reverse(),Hn(i,d,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return V.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(Bn(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(Bn(n,o),a.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this.options,a=r.time.displayFormats,o=this._majorUnit,s=a[o],l=n[t],c=r.ticks,d=o&&s&&l&&l.major,p=this._adapter.format(e,i||(d?s:a[this._unit])),u=d?c.major:c.minor,h=In([u.callback,u.userCallback,c.callback,c.userCallback]);return h?h(p,t,n):p},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this._offsets,n=Nn(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var i=null;if(void 0!==t&&void 0!==n&&(i=this._timestamps.datasets[n][t]),null===i&&(i=Rn(this,e)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,i=Nn(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=V.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=En(t.fontSize,z.global.defaultFontSize);return{w:n*r+o*a,h:n*a+o*r}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=t.tickFormatFunction(e,0,Hn(t,[e],t._majorUnit),r),o=t._getLabelSize(a),s=Math.floor(t.isHorizontal()?t.width/o.w:t.height/o.h);return t.options.offset&&s--,s>0?s:1}});qn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Wn={category:an,linear:pn,logarithmic:mn,radialLinear:kn,time:qn},Un={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Ht._date.override("function"==typeof e?{_id:"moment",formats:function(){return Un},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,i){return e(t).add(n,i).valueOf()},diff:function(t,n,i){return e(t).diff(e(n),i)},startOf:function(t,n,i){return t=e(t),"isoWeek"===n?t.isoWeekday(i).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),z._set("global",{plugins:{filler:{propagate:!0}}});var $n={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],a=r.length||0;return a?function(e,t){return t<a&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return V.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};function Yn(e,t,n){var i,r=e._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Gn(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,i,r,a,o=e.el._scale,s=o.options,l=o.chart.data.labels.length,c=e.fill,d=[];if(!l)return null;for(n=s.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,t=s.ticks.reverse?o.max:o.min),r=0;r<l;++r)a="start"===c||"end"===c?o.getPointPositionForValue(r,"start"===c?t:n):o.getBasePosition(r),s.gridLines.circular&&(a.cx=i.x,a.cy=i.y,a.angle=o.getIndexAngle(r)-Math.PI/2),d.push(a);return d}(e):function(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(V.isFinite(a))return{x:(t=i.isHorizontal())?a:null,y:t?null:a}}return null}(e)}function Qn(e,t,n){var i,r=e[t].fill,a=[t];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function Xn(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),$n[n](e))}function Kn(e){return e&&!e.skip}function Zn(e,t,n,i,r){var a,o,s,l;if(i&&r){for(e.moveTo(t[0].x,t[0].y),a=1;a<i;++a)V.canvas.lineTo(e,t[a-1],t[a]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)V.canvas.lineTo(e,n[a],n[a-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),a=r-1;a>0;--a)e.arc(o,s,l,n[a].angle,n[a-1].angle,!0)}}function Jn(e,t,n,i,r,a){var o,s,l,c,d,p,u,h,g=t.length,f=i.spanGaps,m=[],v=[],b=0,x=0;for(e.beginPath(),o=0,s=g;o<s;++o)d=n(c=t[l=o%g]._view,l,i),p=Kn(c),u=Kn(d),a&&void 0===h&&p&&(s=g+(h=o+1)),p&&u?(b=m.push(c),x=v.push(d)):b&&x&&(f?(p&&m.push(c),u&&v.push(d)):(Zn(e,m,v,b,x),b=x=0,m=[],v=[]));Zn(e,m,v,b,x),e.closePath(),e.fillStyle=r,e.fill()}var ei={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,a,o=(e.data.datasets||[]).length,s=t.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof ve.Line&&(a={visible:e.isDatasetVisible(i),fill:Yn(r,i,o),chart:e,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=Qn(l,i,s),a.boundary=Gn(a),a.mapper=Xn(a))},beforeDatasetsDraw:function(e){var t,n,i,r,a,o,s,l=e._getSortedVisibleDatasetMetas(),c=e.ctx;for(n=l.length-1;n>=0;--n)(t=l[n].$filler)&&t.visible&&(a=(i=t.el)._children||[],s=(r=i._view).backgroundColor||z.global.defaultColor,(o=t.mapper)&&s&&a.length&&(V.canvas.clipArea(c,e.chartArea),Jn(c,a,o,r,s,i._loop),V.canvas.unclipArea(c)))}},ti=V.rtl.getRtlAdapter,ni=V.noop,ii=V.valueOrDefault;function ri(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}z._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},i=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var r=n.controller.getStyle(i?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=a.length;t<n;t++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[t].backgroundColor,a[t].label&&i.appendChild(document.createTextNode(a[t].label));return r.outerHTML}});var ai=$.extend({initialize:function(e){V.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:ni,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ni,beforeSetDimensions:ni,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:ni,beforeBuildLabels:ni,buildLabels:function(){var e=this,t=e.options.labels||{},n=V.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:ni,beforeFit:ni,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,r=e.ctx,a=V.options._parseFont(n),o=a.size,s=e.legendHitBoxes=[],l=e.minSize,c=e.isHorizontal();if(c?(l.width=e.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=e.maxHeight),i){if(r.font=a.string,c){var d=e.lineWidths=[0],p=0;r.textAlign="left",r.textBaseline="middle",V.each(e.legendItems,(function(e,t){var i=ri(n,o)+o/2+r.measureText(e.text).width;(0===t||d[d.length-1]+i+2*n.padding>l.width)&&(p+=o+n.padding,d[d.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:i,height:o},d[d.length-1]+=i+n.padding})),l.height+=p}else{var u=n.padding,h=e.columnWidths=[],g=e.columnHeights=[],f=n.padding,m=0,v=0;V.each(e.legendItems,(function(e,t){var i=ri(n,o)+o/2+r.measureText(e.text).width;t>0&&v+o+2*u>l.height&&(f+=m+n.padding,h.push(m),g.push(v),m=0,v=0),m=Math.max(m,i),v+=o+u,s[t]={left:0,top:0,width:i,height:o}})),f+=m,h.push(m),g.push(v),l.width+=f}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:ni,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=z.global,r=i.defaultColor,a=i.elements.line,o=e.height,s=e.columnHeights,l=e.width,c=e.lineWidths;if(t.display){var d,p=ti(t.rtl,e.left,e.minSize.width),u=e.ctx,h=ii(n.fontColor,i.defaultFontColor),g=V.options._parseFont(n),f=g.size;u.textAlign=p.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.strokeStyle=h,u.fillStyle=h,u.font=g.string;var m=ri(n,f),v=e.legendHitBoxes,b=function(e,i){switch(t.align){case"start":return n.padding;case"end":return e-i;default:return(e-i+n.padding)/2}},x=e.isHorizontal();d=x?{x:e.left+b(l,c[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+b(o,s[0]),line:0},V.rtl.overrideTextDirection(e.ctx,t.textDirection);var y=f+n.padding;V.each(e.legendItems,(function(t,i){var h=u.measureText(t.text).width,g=m+f/2+h,C=d.x,_=d.y;p.setWidth(e.minSize.width),x?i>0&&C+g+n.padding>e.left+e.minSize.width&&(_=d.y+=y,d.line++,C=d.x=e.left+b(l,c[d.line])):i>0&&_+y>e.top+e.minSize.height&&(C=d.x=C+e.columnWidths[d.line]+n.padding,d.line++,_=d.y=e.top+b(o,s[d.line]));var M=p.x(C);!function(e,t,i){if(!(isNaN(m)||m<=0)){u.save();var o=ii(i.lineWidth,a.borderWidth);if(u.fillStyle=ii(i.fillStyle,r),u.lineCap=ii(i.lineCap,a.borderCapStyle),u.lineDashOffset=ii(i.lineDashOffset,a.borderDashOffset),u.lineJoin=ii(i.lineJoin,a.borderJoinStyle),u.lineWidth=o,u.strokeStyle=ii(i.strokeStyle,r),u.setLineDash&&u.setLineDash(ii(i.lineDash,a.borderDash)),n&&n.usePointStyle){var s=m*Math.SQRT2/2,l=p.xPlus(e,m/2);V.canvas.drawPoint(u,i.pointStyle,s,l,t+f/2,i.rotation)}else u.fillRect(p.leftForLtr(e,m),t,m,f),0!==o&&u.strokeRect(p.leftForLtr(e,m),t,m,f);u.restore()}}(M,_,t),v[i].left=p.leftForLtr(M,v[i].width),v[i].top=_,function(e,t,n,i){var r=f/2,a=p.xPlus(e,m+r),o=t+r;u.fillText(n.text,a,o),n.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(a,o),u.lineTo(p.xPlus(a,i),o),u.stroke())}(M,_,t,h),x?d.x+=g+n.padding:d.y+=y})),V.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,i,r,a=this;if(e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e.native,t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e.native,t))}});function oi(e,t){var n=new ai({ctx:e.ctx,options:t,chart:e});lt.configure(e,n,t),lt.addBox(e,n),e.legend=n}var si={id:"legend",_element:ai,beforeInit:function(e){var t=e.options.legend;t&&oi(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(V.mergeIf(t,z.global.legend),n?(lt.configure(e,n,t),n.options=t):oi(e,t)):n&&(lt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},li=V.noop;z._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var ci=$.extend({initialize:function(e){V.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:li,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:li,beforeSetDimensions:li,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:li,beforeBuildLabels:li,buildLabels:li,afterBuildLabels:li,beforeFit:li,fit:function(){var e,t=this,n=t.options,i=t.minSize={},r=t.isHorizontal();n.display?(e=(V.isArray(n.text)?n.text.length:1)*V.options._parseFont(n).lineHeight+2*n.padding,t.width=i.width=r?t.maxWidth:e,t.height=i.height=r?e:t.maxHeight):t.width=i.width=t.height=i.height=0},afterFit:li,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,a,o=V.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,d=e.top,p=e.left,u=e.bottom,h=e.right;t.fillStyle=V.valueOrDefault(n.fontColor,z.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(r=p+(h-p)/2,a=d+l,i=h-p):(r="left"===n.position?p+l:h-l,a=d+(u-d)/2,i=u-d,c=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,a),t.rotate(c),t.textAlign="center",t.textBaseline="middle";var g=n.text;if(V.isArray(g))for(var f=0,m=0;m<g.length;++m)t.fillText(g[m],0,f,i),f+=s;else t.fillText(g,0,0,i);t.restore()}}});function di(e,t){var n=new ci({ctx:e.ctx,options:t,chart:e});lt.configure(e,n,t),lt.addBox(e,n),e.titleBlock=n}var pi={},ui=ei,hi=si,gi={id:"title",_element:ci,beforeInit:function(e){var t=e.options.title;t&&di(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(V.mergeIf(t,z.global.title),n?(lt.configure(e,n,t),n.options=t):di(e,t)):n&&(lt.removeBox(e,n),delete e.titleBlock)}};for(var fi in pi.filler=ui,pi.legend=hi,pi.title=gi,Bt.helpers=V,function(){function e(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function t(e){return null!=e&&"none"!==e}function n(n,i,r){var a=document.defaultView,o=V._getParentNode(n),s=a.getComputedStyle(n)[i],l=a.getComputedStyle(o)[i],c=t(s),d=t(l),p=Number.POSITIVE_INFINITY;return c||d?Math.min(c?e(s,n,r):p,d?e(l,o,r):p):"none"}V.where=function(e,t){if(V.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return V.each(e,(function(e){t(e)&&n.push(e)})),n},V.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},V.findNextWhere=function(e,t,n){V.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},V.findPreviousWhere=function(e,t,n){V.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},V.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},V.almostEquals=function(e,t,n){return Math.abs(e-t)<n},V.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},V.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},V.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},V.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},V.toRadians=function(e){return e*(Math.PI/180)},V.toDegrees=function(e){return e*(180/Math.PI)},V._decimalPlaces=function(e){if(V.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},V.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},V.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},V.aliasPixel=function(e){return e%2==0?0:.5},V._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},V.splineCurve=function(e,t,n,i){var r=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),d=l/(s+l),p=i*(c=isNaN(c)?0:c),u=i*(d=isNaN(d)?0:d);return{previous:{x:a.x-p*(o.x-r.x),y:a.y-p*(o.y-r.y)},next:{x:a.x+u*(o.x-r.x),y:a.y+u*(o.y-r.y)}}},V.EPSILON=Number.EPSILON||1e-14,V.splineCurveMonotone=function(e){var t,n,i,r,a,o,s,l,c,d=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),p=d.length;for(t=0;t<p;++t)if(!(i=d[t]).model.skip){if(n=t>0?d[t-1]:null,(r=t<p-1?d[t+1]:null)&&!r.model.skip){var u=r.model.x-i.model.x;i.deltaK=0!==u?(r.model.y-i.model.y)/u:0}i.mK=!n||n.model.skip?i.deltaK:!r||r.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(t=0;t<p-1;++t)r=d[t+1],(i=d[t]).model.skip||r.model.skip||(V.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(t=0;t<p;++t)(i=d[t]).model.skip||(r=t<p-1?d[t+1]:null,(n=t>0?d[t-1]:null)&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(c=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(i.model.controlPointNextX=i.model.x+(c=(r.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+c*i.mK))},V.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},V.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},V.niceNum=function(e,t){var n=Math.floor(V.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},V.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},V.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.target||e.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(V.getStyle(a,"padding-left")),c=parseFloat(V.getStyle(a,"padding-top")),d=parseFloat(V.getStyle(a,"padding-right")),p=parseFloat(V.getStyle(a,"padding-bottom")),u=o.bottom-o.top-c-p;return{x:n=Math.round((n-o.left-l)/(o.right-o.left-l-d)*a.width/t.currentDevicePixelRatio),y:i=Math.round((i-o.top-c)/u*a.height/t.currentDevicePixelRatio)}},V.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},V.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},V._calculatePadding=function(e,t,n){return(t=V.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},V._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},V.getMaximumWidth=function(e){var t=V._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-V._calculatePadding(t,"padding-left",n)-V._calculatePadding(t,"padding-right",n),r=V.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},V.getMaximumHeight=function(e){var t=V._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-V._calculatePadding(t,"padding-top",n)-V._calculatePadding(t,"padding-bottom",n),r=V.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},V.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},V.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,a=e.width;i.height=r*n,i.width=a*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},V.fontString=function(e,t,n){return t+" "+e+"px "+n},V.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var o,s,l,c,d,p=0,u=n.length;for(o=0;o<u;o++)if(null!=(c=n[o])&&!0!==V.isArray(c))p=V.measureText(e,r,a,p,c);else if(V.isArray(c))for(s=0,l=c.length;s<l;s++)null==(d=c[s])||V.isArray(d)||(p=V.measureText(e,r,a,p,d));var h=a.length/2;if(h>n.length){for(o=0;o<h;o++)delete r[a[o]];a.splice(0,h)}return p},V.measureText=function(e,t,n,i,r){var a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i},V.numberOfLabelLines=function(e){var t=1;return V.each(e,(function(e){V.isArray(e)&&e.length>t&&(t=e.length)})),t},V.color=y?function(e){return e instanceof CanvasGradient&&(e=z.global.defaultColor),y(e)}:function(e){return console.error("Color.js not found!"),e},V.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:V.color(e).saturate(.5).darken(.1).rgbString()}}(),Bt._adapters=Ht,Bt.Animation=G,Bt.animationService=Q,Bt.controllers=Ue,Bt.DatasetController=ee,Bt.defaults=z,Bt.Element=$,Bt.elements=ve,Bt.Interaction=Ze,Bt.layouts=lt,Bt.platform=xt,Bt.plugins=yt,Bt.Scale=nn,Bt.scaleService=Ct,Bt.Ticks=qt,Bt.Tooltip=Et,Bt.helpers.each(Wn,(function(e,t){Bt.scaleService.registerScaleType(t,e,e._defaults)})),pi)pi.hasOwnProperty(fi)&&Bt.plugins.register(pi[fi]);Bt.platform.initialize();var mi=Bt;return"undefined"!=typeof window&&(window.Chart=Bt),Bt.Chart=Bt,Bt.Legend=pi.legend._element,Bt.Title=pi.title._element,Bt.pluginService=Bt.plugins,Bt.PluginBase=Bt.Element.extend({}),Bt.canvasHelpers=Bt.helpers.canvas,Bt.layoutService=Bt.layouts,Bt.LinearScaleBase=sn,Bt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){Bt[e]=function(t,n){return new Bt(t,Bt.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),mi}(function(){try{return n("wd/R")}catch(e){}}())},bV4p:function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",(function(){return _r})),n.d(t,"createTranslateLoader",(function(){return Mr}));var i,r=n("AytR"),a=n("1dWG"),o=n("1kSV"),s=n("ofXK"),l=n("5+WD"),c=n("tk/3"),d=n("sYmb"),p=n("mqiu"),u=n("pxUr"),h=n("5RNC"),g=n("Qu3c"),f=n("5tIC"),m=n("2Vo4"),v=n("quSY"),b=n("lJxs"),x=n("IzEk"),y=n("7Gk6"),C=n("fXoL"),_=n("jtHE"),M=n("1G5W"),P=n("x3gD"),w=n("82Ky"),O=((i=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.http=t,this.localStorageService=n,this.destroy$=new _.a(1),n.languageBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(e){return i.language=e}))}return _createClass(e,[{key:"getAllHabits",value:function(e,t){return this.http.get("".concat(P.f,"?lang=").concat(this.language,"&page=").concat(e,"&size=").concat(t))}},{key:"getHabitById",value:function(e){return this.http.get("".concat(P.f,"/").concat(e,"?lang=").concat(this.language))}},{key:"getHabitShoppingList",value:function(e){return this.http.get("".concat(P.f,"/").concat(e,"/shopping-list?lang=").concat(this.language))}},{key:"getHabitsTags",value:function(){return this.http.get("".concat(P.f,"/tags?lang=").concat(this.language))}},{key:"getHabitsByTagAndLang",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc";return this.http.get("".concat(P.f,"/tags/search?lang=").concat(this.language,"\n                                              &page=").concat(e,"&size=").concat(t,"&sort=").concat(i,"&tags=").concat(n))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||i)(C["\u0275\u0275inject"](c.b),C["\u0275\u0275inject"](w.a))},i.\u0275prov=C["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i),k=n("dPY1"),S=n("iCRQ"),I=n("tyNb"),E=n("xEgn"),F=n("dlKe"),D=n("OX3A"),A=n("BhRD");function L(e,t){1&e&&C["\u0275\u0275element"](0,"img",21),2&e&&C["\u0275\u0275property"]("src",t.$implicit,C["\u0275\u0275sanitizeUrl"])}var T,z=((T=function(){function e(t,n,i,r,a){_classCallCheck(this,e),this.router=t,this.route=n,this.snackBar=i,this.habitAssignService=r,this.profileService=a,this.requesting=!1,this.whiteStar="assets/img/icon/star-2.png",this.greenStar="assets/img/icon/star-1.png",this.stars=[this.whiteStar,this.whiteStar,this.whiteStar]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getStars(this.habit.complexity)}},{key:"getStars",value:function(e){for(this.star=0;this.star<e;this.star++)this.stars[this.star]=this.greenStar}},{key:"goHabitMore",value:function(){this.router.navigate(["addhabit",this.habit.id],{relativeTo:this.route})}},{key:"addHabit",value:function(){var e=this;this.requesting=!0,this.habitAssignService.assignHabit(this.habit.id).pipe(Object(x.a)(1)).subscribe((function(){e.router.navigate(["profile",e.profileService.userId]),e.snackBar.openSnackBar("habitAdded")}))}}]),e}()).\u0275fac=function(e){return new(e||T)(C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](A.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](k.a))},T.\u0275cmp=C["\u0275\u0275defineComponent"]({type:T,selectors:[["app-habits-list-view"]],inputs:{habit:"habit"},decls:36,vars:13,consts:[["role","main","id","main-content"],[1,"habit-wrp"],[1,"habit__container"],[1,"habit__header-wrp"],[1,"habit__header"],[1,"calendar"],["src","assets/img/icon/Calendar_icon.png","alt","calendar",1,"calendar__icon"],[1,"days"],[1,"tags"],[1,"aquired"],[1,"stars"],["alt","star",3,"src",4,"ngFor","ngForOf"],[1,"habit__info"],[1,"title"],[1,"description"],[1,"habit__action-wrp"],[1,"primary-global-button",3,"disabled","click"],[1,"secondary-global-button",3,"click"],[1,"habit__picture-wrp"],[1,"habit__picture"],["alt","habit picture",3,"src"],["alt","star",3,"src"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"main",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275elementStart"](4,"div",4),C["\u0275\u0275elementStart"](5,"div",5),C["\u0275\u0275element"](6,"img",6),C["\u0275\u0275elementStart"](7,"span",7),C["\u0275\u0275text"](8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](9,"div",8),C["\u0275\u0275elementStart"](10,"span"),C["\u0275\u0275text"](11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",9),C["\u0275\u0275elementStart"](13,"span"),C["\u0275\u0275text"](14,"Aquired by 134 users"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](15,"div",10),C["\u0275\u0275template"](16,L,1,1,"img",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",12),C["\u0275\u0275elementStart"](18,"div",13),C["\u0275\u0275elementStart"](19,"h2"),C["\u0275\u0275text"](20),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",14),C["\u0275\u0275elementStart"](22,"p"),C["\u0275\u0275text"](23),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"div",15),C["\u0275\u0275elementStart"](25,"div"),C["\u0275\u0275elementStart"](26,"button",16),C["\u0275\u0275listener"]("click",(function(){return t.addHabit()})),C["\u0275\u0275text"](27),C["\u0275\u0275pipe"](28,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](29,"div"),C["\u0275\u0275elementStart"](30,"button",17),C["\u0275\u0275listener"]("click",(function(){return t.goHabitMore()})),C["\u0275\u0275text"](31),C["\u0275\u0275pipe"](32,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](33,"div",18),C["\u0275\u0275elementStart"](34,"div",19),C["\u0275\u0275element"](35,"img",20),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](8),C["\u0275\u0275textInterpolate1"]("",t.habit.defaultDuration," days"),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](t.habit.habitTranslation.habitItem),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("ngForOf",t.stars),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](t.habit.habitTranslation.name),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](t.habit.habitTranslation.description),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",t.habit.isAssigned),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](28,9,"user.habit.all-habits.btn-add")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](32,11,"user.habit.all-habits.btn-more")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("src",t.habit.image,C["\u0275\u0275sanitizeUrl"]))},directives:[s.t],pipes:[d.d],styles:["[_nghost-%COMP%]{width:100%;max-width:945px}.habit-wrp[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;height:295px;margin-bottom:30px;padding:3.4% 3.2%}.habit__container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:auto}.habit__header-wrp[_ngcontent-%COMP%]{display:grid;grid-template-rows:20px auto 48px;row-gap:30px}.habit__picture-wrp[_ngcontent-%COMP%]{display:none}.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;width:100%;display:block}.habit__header[_ngcontent-%COMP%]{color:var(--primary-green);display:flex;align-items:center;letter-spacing:1px;text-transform:uppercase;font-family:var(--primary-font);font-size:14px;line-height:16px;word-wrap:normal;white-space:normal;text-align:center}.habit__header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:auto}.habit__header[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid var(--tertiary-light-grey);white-space:nowrap}.habit__header[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:12px}.habit__header[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%], .habit__header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{padding:0 12px;border-right:1px solid var(--tertiary-light-grey)}.habit__header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;padding:0 12px}.habit__info[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;color:var(--primary-dark-grey)}.habit__info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .habit__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-dark-grey);margin:0;font-family:var(--secondary-font)}.habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:5px}.habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:30px;-webkit-line-clamp:1}.habit__info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .habit__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.habit__info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:18px;line-height:28px;-webkit-line-clamp:2}.habit__action-wrp[_ngcontent-%COMP%]{display:flex}.habit__action-wrp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;height:100%;padding:0 40px}.habit__action-wrp[_ngcontent-%COMP%]   .primary-global-button[_ngcontent-%COMP%]{margin-right:25px}.habit__action-wrp[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{background:transparent}@media (min-width:768px){.habit__picture-wrp[_ngcontent-%COMP%]{display:flex}.habit__picture-wrp[_ngcontent-%COMP%]   .habit__picture[_ngcontent-%COMP%]{width:130%;height:120%;position:relative;overflow:hidden;direction:ltr;top:-10%}.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80%;top:10%;width:120%;position:absolute}.habit__container[_ngcontent-%COMP%]{display:grid;grid-template-columns:69% 28%;-moz-column-gap:20px;column-gap:20px}.habit-wrp[_ngcontent-%COMP%]{padding:3.4% 0 3.4% 3.2%}}@media (min-width:992px){.habit__picture-wrp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:0;height:100%}.habit__container[_ngcontent-%COMP%]{grid-template-columns:69% 29%}}"]}),T),j=n("f3yp"),N=n("iatx");function B(e,t){1&e&&C["\u0275\u0275element"](0,"app-habits-gallery-view",21),2&e&&C["\u0275\u0275property"]("habit",t.$implicit)}var R=function(e){return{galleryContainer:e}};function V(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",19),C["\u0275\u0275template"](1,B,1,1,"app-habits-gallery-view",20),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,R,n.galleryView)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.filteredHabitsList)}}function H(e,t){1&e&&C["\u0275\u0275element"](0,"app-habits-list-view",21),2&e&&C["\u0275\u0275property"]("habit",t.$implicit)}var q=function(e){return{listView:e}};function W(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",19),C["\u0275\u0275template"](1,H,1,1,"app-habits-list-view",20),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,q,!n.galleryView)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.filteredHabitsList)}}function U(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}function $(e,t){1&e&&C["\u0275\u0275element"](0,"app-no-data",22),2&e&&C["\u0275\u0275property"]("title","user.habit.all-habits.no-habits")("text","user.habit.all-habits.no-habits-advice")}var Y,G=function(e){return["/profile",e]},Q=function(e){return{"btn-tiles-active":e}},X=function(e){return{"btn-bars-active":e}},K=((Y=function(){function e(t,n,i,r,a){_classCallCheck(this,e),this.habitService=t,this.localStorageService=n,this.translate=i,this.profileService=r,this.habitAssignService=a,this.allHabits=new m.a([]),this.filteredHabitsList=[],this.totalHabitsCopy=0,this.galleryView=!0,this.isFetching=!0,this.elementsLeft=!0,this.tagList=[],this.currentPage=0,this.masterSubscription=new v.a,this.habitsList=[],this.batchSize=6,this.images=y.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.onResize();var t=this.localStorageService.languageBehaviourSubject.subscribe((function(t){e.translate.setDefaultLang(t),e.lang=t,e.resetState(),e.resetSubject(),e.fetchAllHabits(0,e.batchSize)})),n=this.allHabits.subscribe((function(t){e.isFetching=!1,e.totalHabits=t.totalElements,e.totalHabitsCopy=t.totalElements,e.totalPages=t.totalPages,e.currentPage=t.currentPage,e.habitsList=t.page,e.filteredHabitsList=t.page;var n=[];t.page&&(e.elementsLeft=t.totalElements!==e.habitsList.length,e.checkIfAssigned(),t.page.forEach((function(e){return n=[].concat(_toConsumableArray(n),_toConsumableArray(e.habitTranslation.habitItem))})),e.tagList=_toConsumableArray(new Set(n)))}));this.masterSubscription.add(t),this.masterSubscription.add(n)}},{key:"fetchAllHabits",value:function(e,t){var n=this;this.habitService.getAllHabits(e,t).pipe(Object(b.a)((function(e){return n.splitHabitItems(e)}))).subscribe((function(e){var t=n.allHabits.getValue();e.page=[].concat(_toConsumableArray(t.page?t.page:[]),_toConsumableArray(e.page)),n.allHabits.next(e)}))}},{key:"resetSubject",value:function(){this.allHabits.next([])}},{key:"splitHabitItems",value:function(e){return e.page.forEach((function(e){var t=e.habitTranslation.habitItem.split(",").map((function(e){return e.trim().toLowerCase()}));return e.habitTranslation.habitItem=t,e.habitTranslation.habitItem})),e}},{key:"ngOnDestroy",value:function(){this.masterSubscription.unsubscribe()}},{key:"onDisplayModeChange",value:function(e){this.galleryView=e}},{key:"getFilterData",value:function(e){if(0===e.length)return this.totalHabitsCopy=this.totalHabits,this.filteredHabitsList=this.habitsList,this.filteredHabitsList;this.filteredHabitsList.length>0&&(this.filteredHabitsList=this.habitsList.filter((function(t){return t.habitTranslation.habitItem.find((function(t){return e.includes(t)}))})),this.onScroll(),this.totalHabitsCopy=this.filteredHabitsList.length)}},{key:"onResize",value:function(){this.windowSize=window.innerWidth,this.galleryView=!(this.windowSize>=576)||this.galleryView}},{key:"onScroll",value:function(){this.totalPages!==this.currentPage?(this.isFetching=!0,this.currentPage+=1,this.fetchAllHabits(this.currentPage,this.batchSize)):this.isFetching=!1}},{key:"resetState",value:function(){this.isFetching=!0,this.currentPage=0,this.elementsLeft=!0}},{key:"checkIfAssigned",value:function(){var e=this;this.habitAssignService.getAssignedHabits().pipe(Object(x.a)(1)).subscribe((function(t){t.forEach((function(t){e.filteredHabitsList.forEach((function(e){t.habit.id===e.id&&(e.isAssigned=!0)}))}))}))}}]),e}()).\u0275fac=function(e){return new(e||Y)(C["\u0275\u0275directiveInject"](O),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](k.a),C["\u0275\u0275directiveInject"](S.a))},Y.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Y,selectors:[["app-all-habits"]],decls:27,vars:26,consts:[[1,"habits-wrapper","container",3,"resize"],[1,"habits_header-wrapper"],[3,"routerLink"],[1,"back-button"],["alt","arrow",3,"src"],[1,"main-header"],[1,"border_bottom",3,"storageKey","header","tagsListData","tagsList"],[1,"habits_header-actions"],[1,"habits_header-items-found"],[1,"habits_header-buttons"],[1,"btn-tiles",3,"ngClass","click"],[1,"fa","fa-th-large"],[1,"btn-bars",3,"ngClass","click"],[1,"fa","fa-bars"],[1,"body-wrapper"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"title","text",4,"ngIf"],[3,"ngClass"],[3,"habit",4,"ngFor","ngForOf"],[3,"habit"],[3,"title","text"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,C["\u0275\u0275resolveWindow"]),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"a",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275element"](4,"img",4),C["\u0275\u0275elementStart"](5,"div"),C["\u0275\u0275text"](6),C["\u0275\u0275pipe"](7,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div"),C["\u0275\u0275elementStart"](9,"h1",5),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"app-tag-filter",6),C["\u0275\u0275listener"]("tagsList",(function(e){return t.getFilterData(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",7),C["\u0275\u0275elementStart"](14,"div",8),C["\u0275\u0275text"](15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](16,"div",9),C["\u0275\u0275elementStart"](17,"span",10),C["\u0275\u0275listener"]("click",(function(){return t.onDisplayModeChange(!0)})),C["\u0275\u0275element"](18,"em",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"span",12),C["\u0275\u0275listener"]("click",(function(){return t.onDisplayModeChange(!1)})),C["\u0275\u0275element"](20,"em",13),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",14),C["\u0275\u0275template"](22,V,2,4,"div",15),C["\u0275\u0275template"](23,W,2,4,"div",15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](24,U,1,0,"app-spinner",16),C["\u0275\u0275elementStart"](25,"div",17),C["\u0275\u0275listener"]("scrolled",(function(){return t.onScroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](26,$,1,2,"app-no-data",18),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](20,G,t.profileService.userId)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.images.arrowLeft,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](7,16,"user.habit.all-habits.back-button")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](11,18,"user.habit.all-habits.title")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("storageKey","Habits-filter")("header","homepage.eco-news.filter")("tagsListData",t.tagList),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"]("",t.totalHabitsCopy," items found"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](22,Q,t.galleryView)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](24,X,!t.galleryView)),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",t.galleryView),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.galleryView),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.elementsLeft&&0===t.totalHabitsCopy))},directives:[I.j,E.a,s.r,s.u,F.a,s.t,D.a,z,j.a,N.a],pipes:[d.d],styles:["h1[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font)}.habits_header-buttons[_ngcontent-%COMP%]{display:none}.border_bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}.habits_header-items-found[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:24px}.habits_header-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto auto;row-gap:20px;margin-bottom:3.125rem}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-self:center}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{height:30px;font-family:Open Sans,sans-serif;font-size:16px;line-height:19px;color:#494a49;-webkit-text-decoration-line:underline;text-decoration-line:underline;display:flex;align-items:center}.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:6px}.habits_header-wrapper[_ngcontent-%COMP%]   .habits_header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.habits_header-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.galleryContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:290px;grid-gap:30px;justify-content:center}.listView[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (min-width:576px){.habits_header-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-self:start}.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,50%)}.container[_ngcontent-%COMP%]{padding:0}.habits_header-buttons[_ngcontent-%COMP%]{display:block}.habits_header-buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-right:8px}}@media (min-width:992px){.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,299px)}}@media (min-width:1200px){.galleryContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,359px)}}"]}),Y);n("Jj9T");var Z=n("c3cg");n("LRne"),n("pLZG"),n("MO+k"),n("hSFZ"),n("kpBl"),n("vkgz");var J,ee=n("u47x"),te=((J=function(){function e(t){_classCallCheck(this,e),this.http=t,this.addedFriends=[],this.size=10,this.url=r.a.backendUserLink,this.httpOptions={headers:new c.d({"Content-Type":"application/json"})}}return _createClass(e,[{key:"getUserInfo",value:function(e){return this.http.get("".concat(this.url,"user/").concat(e,"/profile/"))}},{key:"getUserProfileStatistics",value:function(e){return this.http.get("".concat(this.url,"user/").concat(e,"/profileStatistics/"))}},{key:"isOnline",value:function(e){return this.http.get("".concat(this.url,"user/isOnline/").concat(e,"/"))}},{key:"getRecommendedFriends",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/").concat(e,"/recommendedFriends/?page=").concat(t,"&size=").concat(n))}},{key:"getRequests",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/").concat(e,"/friendRequests/?page=").concat(t,"&size=").concat(n))}},{key:"getSixFriends",value:function(e){return this.http.get("".concat(this.url,"user/").concat(e,"/sixUserFriends/"))}},{key:"getAllFriends",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/").concat(e,"/findAll/friends/?page=").concat(t,"&size=").concat(n))}},{key:"getPossibleFriends",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/").concat(e,"/findAll/friendsWithoutExist/?page=").concat(t,"&size=").concat(n))}},{key:"findNewFriendsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/findNewFriendsByName/?name=").concat(e,"&page=").concat(t,"&size=").concat(n))}},{key:"findFriendByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return this.http.get("".concat(this.url,"user/findFriendByName/?name=").concat(e,"&page=").concat(t,"&size=").concat(n))}},{key:"addFriend",value:function(e,t){return this.http.post("".concat(this.url,"/user/").concat(e,"/userFriend/").concat(t),{friendId:t,userId:e})}},{key:"acceptRequest",value:function(e,t){return this.http.post("".concat(this.url,"/user/").concat(e,"/acceptFriend/").concat(t),{friendId:t,userId:e})}},{key:"declineRequest",value:function(e,t){return this.http.post("".concat(this.url,"/user/").concat(e,"/declineFriend/").concat(t),{friendId:t,userId:e})}},{key:"deleteFriend",value:function(e,t){return this.http.delete("".concat(this.url,"user/").concat(e,"/userFriend/").concat(t),this.httpOptions)}},{key:"addedFriendsToHabit",value:function(e){this.addedFriends.push(e)}}]),e}()).\u0275fac=function(e){return new(e||J)(C["\u0275\u0275inject"](c.b))},J.\u0275prov=C["\u0275\u0275defineInjectable"]({token:J,factory:J.\u0275fac,providedIn:"root"}),J),ne=n("Gikj");function ie(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275elementStart"](2,"p"),C["\u0275\u0275text"](3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"p"),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",2),C["\u0275\u0275elementStart"](8,"p"),C["\u0275\u0275text"](9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"p"),C["\u0275\u0275text"](11),C["\u0275\u0275pipe"](12,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",2),C["\u0275\u0275elementStart"](14,"p"),C["\u0275\u0275text"](15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](16,"p"),C["\u0275\u0275text"](17),C["\u0275\u0275pipe"](18,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"div",2),C["\u0275\u0275elementStart"](20,"p"),C["\u0275\u0275text"](21),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](22,"p"),C["\u0275\u0275text"](23),C["\u0275\u0275pipe"](24,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](n.progress.amountHabitsAcquired),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](6,8,"profile.acquired-habits")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](n.progress.amountHabitsInProgress),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](12,10,"profile.habits-in-progress")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](n.progress.amountWrittenTipsAndTrick),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](18,12,"profile.written-articles")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](n.progress.amountPublishedNews),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](24,14,"profile.published-news"))}}var re,ae=((re=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||re)},re.\u0275cmp=C["\u0275\u0275defineComponent"]({type:re,selectors:[["app-profile-progress"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","stat",4,"ngIf"],[1,"stat"],[1,"chain"]],template:function(e,t){1&e&&C["\u0275\u0275template"](0,ie,25,16,"div",0),2&e&&C["\u0275\u0275property"]("ngIf",t.progress)},directives:[s.u],pipes:[d.d],styles:["p[_ngcontent-%COMP%]{margin:0}.stat[_ngcontent-%COMP%]{display:grid;grid-template-rows:58px;grid-template-columns:repeat(4,auto);-moz-column-gap:16px;column-gap:16px}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:last-child{border-right:none}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:32px;line-height:40px;margin-bottom:8px;letter-spacing:.002em;color:var(--quaternary-dark-grey)}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:400;font-size:12px;line-height:16px}@media (min-width:576px){.stat[_ngcontent-%COMP%]{margin-left:0}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:32px;line-height:40px;margin-bottom:4px}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-size:12px;line-height:16px}}@media (min-width:768px){.stat[_ngcontent-%COMP%]{width:185px;height:189px;grid-template-rows:repeat(2,1fr);grid-template-columns:repeat(2,1fr);-moz-column-gap:16px;column-gap:16px;row-gap:16px;border-top:1px solid #e1e5e3}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]{border-right:none}.stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:first-child, .stat[_ngcontent-%COMP%]   .chain[_ngcontent-%COMP%]:nth-child(2){margin-top:24px}}@media (min-width:1024px){.stat[_ngcontent-%COMP%]{width:184px;height:160px}}@media (min-width:1440px){.stat[_ngcontent-%COMP%]{width:213px;-moz-column-gap:16px;column-gap:16px;row-gap:16px}}"]}),re),oe=function(e){return["/profile",e,"edit"]};function se(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"a",13),C["\u0275\u0275element"](1,"div",14),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](1,oe,n.userId))}}function le(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p",15),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",n.userInfo.city||n.mockedUserInfo.city," ")}}function ce(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",16),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](n.userInfo.userCredo||n.mockedUserInfo.userCredo)}}function de(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"a",19),C["\u0275\u0275element"](1,"div"),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275property"]("href",n.link,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275classMap"](n.name)}}function pe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275template"](1,de,2,3,"a",18),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.userSocialNetworks)}}function ue(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275template"](1,se,2,3,"a",2),C["\u0275\u0275elementStart"](2,"div",3),C["\u0275\u0275element"](3,"app-user-profile-image",4),C["\u0275\u0275elementStart"](4,"p",5),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](6,le,2,1,"p",6),C["\u0275\u0275elementStart"](7,"div",7),C["\u0275\u0275text"](8),C["\u0275\u0275pipe"](9,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",8),C["\u0275\u0275elementStart"](11,"p"),C["\u0275\u0275text"](12),C["\u0275\u0275pipe"](13,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](14,ce,2,1,"div",9),C["\u0275\u0275template"](15,pe,2,1,"div",10),C["\u0275\u0275elementStart"](16,"div",11),C["\u0275\u0275element"](17,"app-profile-progress",12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!n.showEditButton),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("imgPath",n.userInfo.profilePicturePath)("firstName",n.userInfo.name)("additionalImgClass","center"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",n.userInfo.name," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.userInfo.showLocation),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](9,12,"profile.online")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate2"]("",C["\u0275\u0275pipeBind1"](13,14,"profile.rate"),": ",n.userInfo.rating||n.mockedUserInfo.rating,""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",n.checkUserCredo),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.userSocialNetworks),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("progress",n.progress)}}var he,ge=((he=function(){function e(t,n,i){_classCallCheck(this,e),this.localStorageService=t,this.route=n,this.userFriendsService=i,this.mockedUserInfo={city:"",status:"online",rating:0,userCredo:"User credo"},this.socialNetworksList=["facebook","instagram","linked","twitter","green-city"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userId$=this.localStorageService.userIdBehaviourSubject.subscribe((function(t){return e.userId=t})),this.buildSocialNetworksChart(),this.showEditButton=this.route.snapshot.params.userName===this.userInfo.name}},{key:"checkUserCredo",get:function(){return this.userInfo&&this.userInfo.userCredo?this.userInfo.userCredo.length:0}},{key:"findNetwork",value:function(e){return this.socialNetworksList.reduce((function(t,n){return e.includes(n)&&(t=n),t}),"green-city")}},{key:"isOnline",value:function(e){var t=this;this.userFriendsService.isOnline(e).pipe(Object(x.a)(1)).subscribe((function(e){return t.isUserOnline=e}))}},{key:"buildSocialNetworksChart",value:function(){var e=this;this.userSocialNetworks=this.userInfo.socialNetworks.map((function(t){return{link:t.url,name:e.findNetwork(t.url)}}))}},{key:"ngOnDestroy",value:function(){this.userId$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||he)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](te))},he.\u0275cmp=C["\u0275\u0275defineComponent"]({type:he,selectors:[["app-profile-header"]],inputs:{progress:"progress",userInfo:"userInfo"},decls:1,vars:1,consts:[["class","profile",4,"ngIf"],[1,"profile"],[3,"routerLink",4,"ngIf"],[1,"column"],[1,"user-image",3,"imgPath","firstName","additionalImgClass"],[1,"name"],["class","location",4,"ngIf"],[1,"online"],[1,"rate"],["class","credo",4,"ngIf"],["class","social",4,"ngIf"],[1,"profile-progress"],[3,"progress"],[3,"routerLink"],[1,"edit-icon"],[1,"location"],[1,"credo"],[1,"social"],[3,"href",4,"ngFor","ngForOf"],[3,"href"]],template:function(e,t){1&e&&C["\u0275\u0275template"](0,ue,18,16,"div",0),2&e&&C["\u0275\u0275property"]("ngIf",t.userInfo)},directives:[s.u,ne.a,ae,I.j,s.t],pipes:[d.d],styles:["p[_ngcontent-%COMP%]{margin:0}.profile[_ngcontent-%COMP%]{height:366px;background-color:var(--secondary-light-grey);position:relative}.profile[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(/assets/img/profile/icons/edit.svg);position:absolute;top:20px;right:16px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:104px 24px 24px 36px 32px 50px 90px;background:var(--primary-white)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:76px;height:76px;margin-top:20px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;color:var(--primary-dark-grey)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:16px;color:#6a8079}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{display:none}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{height:20px;padding:0 10px;border-radius:4px;background-color:rgba(19,170,87,.12);font-style:normal;font-weight:600;line-height:15px;color:var(--primary-green);display:flex;justify-content:center;align-items:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:11px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{line-height:16px;color:var(--primary-dark-grey);width:288px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:flex;width:288px;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:24px;height:24px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/facebook-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/instagram-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .linked[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/linked-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .twitter[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/twitter-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .green-city[_ngcontent-%COMP%]{background-image:url(/assets/img/icon/green-city-icon.svg)}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{justify-self:center}@media (min-width:576px){.profile[_ngcontent-%COMP%]{height:276px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{grid-template-columns:111px 1fr;grid-template-rows:44px 24px 28px 48px 42px 90px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{grid-area:1/1/2/2}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:1/2/2/3;justify-self:start;margin-top:20px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{grid-area:2/2/3/3;justify-self:start}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{grid-area:3/2/4/3;justify-self:start;padding:0 20px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{grid-area:4/2/5/3;justify-self:start;width:auto;margin:0}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{grid-area:5/2/6/3;justify-self:start;width:auto;margin:0}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{grid-area:6/2/7/3;justify-self:start}}@media (min-width:768px){.profile[_ngcontent-%COMP%]{width:100%;height:auto}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:122px 28px 20px 24px 40px 70px 40px 188px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{grid-area:1/1/2/2;justify-self:center;width:88px;height:88px;margin-top:26px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:2/1/3/2;justify-self:center;margin-top:0;font-size:16px;line-height:24px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{grid-area:3/1/4/2;justify-self:center;font-size:12px;line-height:15px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{display:block;grid-area:4/1/5/2;justify-self:center;font-family:var(--secondary-font);font-size:12px;font-style:normal;font-weight:400;line-height:15px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{grid-area:5/1/6/2;justify-self:center;height:24px;font-size:12px;line-height:16px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .credo[_ngcontent-%COMP%]{grid-area:6/1/7/2;width:auto;margin:0 20px;font-size:12px;line-height:18px}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{grid-area:7/1/8/2;justify-self:center}.profile[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{grid-area:8/1/9/2;justify-self:center}}"]}),he),fe=["assets/img/profile/achievements/achievement-1.png","assets/img/profile/achievements/achievement-2.png","assets/img/profile/achievements/achievement-3.png"];function me(e,t){1&e&&C["\u0275\u0275element"](0,"img",6),2&e&&C["\u0275\u0275property"]("src",t.$implicit,C["\u0275\u0275sanitizeUrl"])}var ve,be=((ve=function e(){_classCallCheck(this,e),this.achievementsImages=fe}).\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=C["\u0275\u0275defineComponent"]({type:ve,selectors:[["app-users-achievements"]],decls:13,vars:7,consts:[[1,"outer"],[1,"achievements"],[1,"header"],["href",""],[1,"body"],["alt","achievement",3,"src",4,"ngFor","ngForOf"],["alt","achievement",3,"src"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"p"),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementStart"](6,"span"),C["\u0275\u0275text"](7,"15"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"a",3),C["\u0275\u0275text"](9),C["\u0275\u0275pipe"](10,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",4),C["\u0275\u0275template"](12,me,1,1,"img",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,3,"profile.my-Achievements")," "),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](10,5,"profile.see-all")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.achievementsImages))},directives:[s.t],pipes:[d.d],styles:["p[_ngcontent-%COMP%]{margin:0}.outer[_ngcontent-%COMP%]{background:var(--primary-white);display:flex;justify-content:center}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:185px;height:129px;border-top:1px solid #e1e5e3}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:55px;display:flex;justify-content:space-between;padding:25px 0}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){width:30%;font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:end;text-decoration:none}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:74px;display:flex;justify-content:space-between}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:52px;height:52px}@media (min-width:1024px){.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:176px;height:125px}}@media (min-width:1440px){.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]{width:213px;height:149px}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:65px}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){width:auto}.outer[_ngcontent-%COMP%]   .achievements[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),ve),xe=n("XNiG");function ye(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-user-profile-image",12),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).showFriendsInfo(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](2,"p",13),C["\u0275\u0275text"](3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("imgPath",i.profilePicturePath)("firstName",i.name)("additionalImgClass","friend-user-profile"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](i.name)}}var Ce=function(e){return["/profile",e,"friends"]};function _e(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",3),C["\u0275\u0275elementStart"](1,"div",4),C["\u0275\u0275elementStart"](2,"div",5),C["\u0275\u0275elementStart"](3,"div",6),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementStart"](6,"span",7),C["\u0275\u0275text"](7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",8),C["\u0275\u0275elementStart"](9,"a",9),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",10),C["\u0275\u0275template"](13,ye,4,4,"div",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,5,"profile.my-eco-friends")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",n.amountOfFriends,""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](9,Ce,n.userId)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](11,7,"profile.see-all")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",n.usersFriends)}}var Me=function(e){return["/profile",e,"friends","recommended"]};function Pe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",14),C["\u0275\u0275elementStart"](1,"div",6),C["\u0275\u0275elementStart"](2,"p"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementStart"](5,"span",7),C["\u0275\u0275text"](6," 0 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",15),C["\u0275\u0275elementStart"](8,"div",16),C["\u0275\u0275elementStart"](9,"a",17),C["\u0275\u0275text"](10,"+"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"]("",C["\u0275\u0275pipeBind1"](4,2,"profile.my-eco-friends")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](4,Me,n.userId))}}var we,Oe=((we=function(){function e(t,n,i,r){_classCallCheck(this,e),this.profileService=t,this.localStorageService=n,this.router=i,this.route=r,this.noFriends=null,this.destroy$=new xe.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.showUsersFriends(),this.initUser()}},{key:"showUsersFriends",value:function(){var e=this;this.profileService.getUserFriends().pipe(Object(M.a)(this.destroy$)).subscribe((function(t){e.usersFriends=t.pagedFriends.page,e.amountOfFriends=t.amountOfFriends}),(function(t){e.noFriends=t}))}},{key:"initUser",value:function(){var e=this;this.localStorageService.userIdBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.userId=t}))}},{key:"showFriendsInfo",value:function(e){this.router.navigate(["friends",e.name,e.id],{relativeTo:this.route})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||we)(C["\u0275\u0275directiveInject"](k.a),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](I.a))},we.\u0275cmp=C["\u0275\u0275defineComponent"]({type:we,selectors:[["app-users-friends"]],decls:3,vars:2,consts:[[1,"main-container","outer"],["class","friends",4,"ngIf"],["class","friends-error",4,"ngIf"],[1,"friends"],[1,"friends-text"],[1,"text-main-content"],[1,"text-title"],[1,"text-number"],[1,"text-more"],[1,"text-more",3,"routerLink"],[1,"friends-images"],[4,"ngFor","ngForOf"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass","click"],[1,"friend-name"],[1,"friends-error"],[1,"error-message"],[1,"add-friends"],[3,"routerLink"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275template"](1,_e,14,11,"div",1),C["\u0275\u0275template"](2,Pe,11,6,"div",2),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0!=t.amountOfFriends),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0===t.amountOfFriends))},directives:[s.u,I.j,s.t,ne.a],pipes:[d.d],styles:["p[_ngcontent-%COMP%]{margin:0}.outer[_ngcontent-%COMP%]{background-color:var(--primary-white);display:flex;justify-content:center}.outer[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]{padding-bottom:24px;width:100%;border-top:1px solid var(--light-grey-blue-color);margin:0}.outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{padding:20px}.outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.outer[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom;color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:17px}.outer[_ngcontent-%COMP%]   .friends-text[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]   .text-number[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .text-main-content[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:12px;line-height:15px;display:flex;justify-content:space-around;align-items:center;text-align:center;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .friends-images[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-around;flex-wrap:wrap;width:85%;box-sizing:border-box;padding:0}.outer[_ngcontent-%COMP%]   .friends-images[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{width:60px}.outer[_ngcontent-%COMP%]   .friend-name[_ngcontent-%COMP%]{font-size:10px;font-family:var(--secondary-font);color:var(--primary-dark-grey);max-width:65px;text-align:center;overflow:hidden;word-wrap:break-word}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:var(--primary-dark-grey);width:213px;border-top:1px solid var(--light-green-grey-color)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--primary-dark-grey)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:142px;display:flex;flex-wrap:wrap;justify-content:space-between}.outer[_ngcontent-%COMP%]   .friends-error[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.outer[_ngcontent-%COMP%]   .add-friends[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;width:55.86px;height:55.86px;background:none;text-decoration:none;border:2px dashed var(--primary-green);border-radius:50px;text-align:center;vertical-align:middle;font-size:50px}.outer[_ngcontent-%COMP%]   .add-friends[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-green)}"]}),we),ke=function(e){return e.ACQUIRED="ACQUIRED",e.INPROGRESS="INPROGRESS",e.SUSPENDED="SUSPENDED",e}({}),Se=n("cP9i"),Ie=n("wZkO"),Ee=n("aW+4");function Fe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"](" ",n.remainingCount," ",C["\u0275\u0275pipeBind1"](2,2,1===n.remainingCount?n.localizationSet[n.tabName][0]:n.localizationSet[n.tabName][2]),"\n")}}function De(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"](" ",n.remainingCount," ",C["\u0275\u0275pipeBind1"](2,2,n.localizationSet[n.tabName][0])," ")}}function Ae(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"](" ",n.remainingCount," ",C["\u0275\u0275pipeBind1"](2,2,n.localizationSet[n.tabName][1])," ")}}function Le(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"]("",n.remainingCount," ",C["\u0275\u0275pipeBind1"](2,2,n.localizationSet[n.tabName][2]),"")}}function Te(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"container-element",2),C["\u0275\u0275template"](1,De,3,4,"span",3),C["\u0275\u0275template"](2,Ae,3,4,"span",3),C["\u0275\u0275template"](3,Le,3,4,"span",4),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngSwitch",n.setWordDeclension(n.remainingCount+"")),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngSwitchCase","a"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngSwitchCase","b")}}var ze,je=["*"],Ne=((ze=function(){function e(t,n){_classCallCheck(this,e),this.translate=t,this.wordDeclensionService=n,this.remainingCount=0,this.localizationSet={habits:["profile.dashboard.habits.habit-at-1","profile.dashboard.habits.habit-at-2-3-4","profile.dashboard.habits.habit-at-all"],news:["profile.dashboard.news.news-at-1","profile.dashboard.news.news-at-2-3-4","profile.dashboard.news.news-at-all"]}}return _createClass(e,[{key:"setWordDeclension",value:function(e){return this.wordDeclensionService.setWordDeclension(e)}}]),e}()).\u0275fac=function(e){return new(e||ze)(C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](Ee.a))},ze.\u0275cmp=C["\u0275\u0275defineComponent"]({type:ze,selectors:[["app-set-count"]],inputs:{remainingCount:"remainingCount",tabName:"tabName"},ngContentSelectors:je,decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["otherLanguages",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(C["\u0275\u0275projectionDef"](),C["\u0275\u0275projection"](0),C["\u0275\u0275template"](1,Fe,3,4,"span",0),C["\u0275\u0275template"](2,Te,4,3,"ng-template",null,1,C["\u0275\u0275templateRefExtractor"])),2&e){var n=C["\u0275\u0275reference"](3);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf","en"===t.translate.defaultLang)("ngIfElse",n)}},directives:[s.u,s.y,s.z,s.A],pipes:[d.d],styles:["span[_ngcontent-%COMP%]{height:12px;font-family:var(--primary-font);color:var(--quintynary-light-grey);font-weight:400;font-size:10px;line-height:12px;position:relative;top:-5px}"]}),ze),Be=function(e){return e.UNDONE="undone",e.DONE="done",e.AQUIRED="aquired",e}({});function Re(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",12),C["\u0275\u0275element"](1,"img",13),C["\u0275\u0275element"](2,"img",14),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",n.firstFriend,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",n.secondFriend,C["\u0275\u0275sanitizeUrl"])}}function Ve(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",15),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().enroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](1,"div",16),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](i.habitMark),C["\u0275\u0275property"]("disabled",i.isRequest),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,5,"user.habit.one-habit.done"))}}function He(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",15),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().unenroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](1,"div",17),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](i.habitMark),C["\u0275\u0275property"]("disabled",i.isRequest),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate2"]("",i.habit.habitStreak," ",C["\u0275\u0275pipeBind1"](3,6,"user.habit.one-habit.good"),"")}}function qe(e,t){if(1&e&&(C["\u0275\u0275element"](0,"div"),C["\u0275\u0275elementStart"](1,"div",17),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](n.habitMark),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,4,"user.habit.one-habit.great"))}}var We,Ue=((We=function(){function e(t,n,i,r,a){var o=this;_classCallCheck(this,e),this.localStorageService=t,this.habitAssignService=n,this.router=i,this.route=r,this.habitService=a,this.isRequest=!1,this.firstFriend="assets/img/kimi.png",this.secondFriend="assets/img/lewis.png",this.destroy$=new xe.a,this.descriptionType={acquired:function(){o.daysCounter=o.habit.duration,o.showPhoto=!1,o.habitMark=Be.AQUIRED},done:function(){o.daysCounter=o.habit.workingDays,o.showPhoto=!1,o.habitMark=Be.DONE},undone:function(){o.daysCounter=o.habit.workingDays,o.showPhoto=!0,o.habitMark=Be.UNDONE}},this.nowAcquiredHabit=new C.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentDate=this.formatDate(new Date),this.buildHabitDescription()}},{key:"goToHabitProfile",value:function(){var e=localStorage.getItem("userId");this.router.navigate(["profile/".concat(e,"/allhabits/addhabit/").concat(this.habit.habit.id)])}},{key:"buildHabitDescription",value:function(){var e=this,t=this.habit.habitStatusCalendarDtoList.some((function(t){return t.enrollDate===e.currentDate}));this.habit.status===ke.ACQUIRED?this.descriptionType.acquired():this.habit.status===ke.INPROGRESS&&(t?this.descriptionType.done():this.descriptionType.undone())}},{key:"formatDate",value:function(e){return e.toLocaleDateString().split(".").reverse().join("-")}},{key:"setGreenCircleInCalendar",value:function(e){var t=this,n=this.formatDate(new Date),i=this.formatDate(new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)),r=this.habitAssignService.habitsFromDashBoard.find((function(e){return e.enrollDate===t.formatDate(new Date)}));r?r.habitAssigns.find((function(e){return e.habitId===t.habit.habit.id})).enrolled=e:this.habitAssignService.getAssignHabitsByPeriod(n,i).pipe(Object(M.a)(this.destroy$)).subscribe((function(n){t.habitAssignService.habitsFromDashBoard=n,t.habitAssignService.habitsFromDashBoard.find((function(e){return e.enrollDate===t.formatDate(new Date)})).habitAssigns.find((function(e){return e.habitId===t.habit.habit.id})).enrolled=e}))}},{key:"enroll",value:function(){var e=this;this.isRequest=!0,this.habitAssignService.enrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(x.a)(1)).subscribe((function(t){e.setGreenCircleInCalendar(!0),t.status===ke.ACQUIRED?(e.descriptionType.acquired(),e.nowAcquiredHabit.emit(t)):(e.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,e.habit.workingDays=t.workingDays,e.habit.habitStreak=t.habitStreak,e.buildHabitDescription(),e.isRequest=!1)}))}},{key:"unenroll",value:function(){var e=this;this.isRequest=!0,this.habitAssignService.unenrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(x.a)(1)).subscribe((function(t){e.setGreenCircleInCalendar(!1),e.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,e.habit.workingDays=t.workingDays,e.habit.habitStreak=t.habitStreak,e.buildHabitDescription(),e.isRequest=!1}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||We)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](O))},We.\u0275cmp=C["\u0275\u0275defineComponent"]({type:We,selectors:[["app-one-habit"]],inputs:{habit:"habit"},outputs:{nowAcquiredHabit:"nowAcquiredHabit"},decls:17,vars:5,consts:[[1,"main"],[1,"image"],[1,"description"],[1,"first-row"],[1,"calendar"],["class","friends-photo",4,"ngIf"],[1,"edit",3,"click"],[1,"second-row"],[1,"third-row",3,"ngSwitch"],["ngSwitchCase","undone"],["ngSwitchCase","done"],["ngSwitchDefault","aquired"],[1,"friends-photo"],["alt","First friend photo",1,"first-photo",3,"src"],["alt","Second friend photo",1,"second-photo",3,"src"],[3,"disabled","click"],[1,"grey"],[1,"green"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275element"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275element"](4,"div",4),C["\u0275\u0275elementStart"](5,"p"),C["\u0275\u0275text"](6),C["\u0275\u0275elementStart"](7,"span"),C["\u0275\u0275text"](8,"I"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](9,Re,3,2,"div",5),C["\u0275\u0275elementStart"](10,"div",6),C["\u0275\u0275listener"]("click",(function(){return t.goToHabitProfile()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",7),C["\u0275\u0275text"](12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",8),C["\u0275\u0275template"](14,Ve,4,7,"ng-template",9),C["\u0275\u0275template"](15,He,4,8,"ng-template",10),C["\u0275\u0275template"](16,qe,4,6,"ng-template",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate2"]("",t.daysCounter," / ",t.habit.duration,""),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",t.showPhoto),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",t.habit.habit.habitTranslation.name," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngSwitch",t.habitMark))},directives:[s.u,s.y,s.z,s.A],pipes:[d.d],styles:["button[_ngcontent-%COMP%]{border:none;padding:0}.main[_ngcontent-%COMP%]{height:192px;background-color:var(--primary-white);display:grid;grid-template-columns:192px 1fr;grid-template-rows:1fr 60px;box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.description[_ngcontent-%COMP%]{margin:12px 0 0 16px;grid-area:1/2/2/2;display:flex;flex-direction:column;padding:0 12px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:4px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{width:12.5px;height:13.75px;margin-right:7px;background-image:url(/assets/img/icon/calendar.svg) no-repeat}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:var(--primary-green);margin:0 16px 0 0}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:12px;margin-left:12px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]{display:flex}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .first-photo[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .second-photo[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:1px solid var(--secondary-light-grey)}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .first-photo[_ngcontent-%COMP%]{z-index:1}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .friends-photo[_ngcontent-%COMP%]   .second-photo[_ngcontent-%COMP%]{position:relative;left:-5px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:20px;height:20px;background-image:url(/assets/img/profile/icons/edit-line.svg);margin-left:auto}.description[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:700;font-size:20px;line-height:28px;padding-right:12px 24px;color:var(--quaternary-dark-grey);letter-spacing:.002em}.image[_ngcontent-%COMP%]{grid-area:1/1/3/2;background-image:url(/assets/img/man.svg);background-position:0;width:100%;height:100%;float:left}.third-row[_ngcontent-%COMP%]{margin:0 0 16px 16px;grid-area:2/2/3/3;display:flex;align-items:center;padding:0 12px}.third-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child, .third-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:28px;height:28px;margin-right:8px;border-radius:50%}.third-row[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%], .third-row[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:400;font-size:14px;line-height:20px}.third-row[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{color:var(--quintynary-light-grey)}.third-row[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:var(--primary-green)}.third-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{background:url(/assets/img/icon/chek-circle.png) no-repeat 50%}.third-row[_ngcontent-%COMP%]   .undone[_ngcontent-%COMP%]{background:url(/assets/img/icon/plus-circle.png) no-repeat 50%}.third-row[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%]{background:url(/assets/img/icon/star-circle.png) no-repeat 50%}@media (min-width:280px){.main[_ngcontent-%COMP%]{height:192px;grid-template-columns:0 auto}.description[_ngcontent-%COMP%]{grid-area:1/1/2/3}.image[_ngcontent-%COMP%]{display:none}.third-row[_ngcontent-%COMP%]{grid-area:2/1/3/3}}@media (min-width:480px){.main[_ngcontent-%COMP%]{grid-template-columns:192px 1fr;grid-template-rows:1fr 60px}.image[_ngcontent-%COMP%]{display:block}.description[_ngcontent-%COMP%]{grid-area:1/2/2/2}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{width:14px;height:15px}.description[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.description[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.third-row[_ngcontent-%COMP%]{grid-area:2/2/3/3}}"]}),We),$e=n("sTBm");function Ye(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",11),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",n," ")}}var Ge,Qe=((Ge=function(){function e(){_classCallCheck(this,e),this.profileIcons=$e.a}return _createClass(e,[{key:"checkNewsImage",value:function(){return this.ecoNewsModel.imagePath&&" "!==this.ecoNewsModel.imagePath?this.ecoNewsModel.imagePath:this.profileIcons.newsDefaultPictureProfile}}]),e}()).\u0275fac=function(e){return new(e||Ge)},Ge.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Ge,selectors:[["app-one-news"]],inputs:{ecoNewsModel:"ecoNewsModel"},decls:16,vars:9,consts:[[1,"news"],["alt","news image",1,"news-image",3,"src"],[1,"news-content"],[1,"tags"],["class","tag-btn",4,"ngFor","ngForOf"],[1,"title"],[1,"user-info"],[1,"user-info-date"],["alt","calendar icon",1,"icon",3,"src"],[1,"user-info-icon"],["alt","user icon",1,"icon",3,"src"],[1,"tag-btn"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275element"](1,"img",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275template"](4,Ye,2,1,"div",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",5),C["\u0275\u0275elementStart"](6,"h3"),C["\u0275\u0275text"](7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275elementStart"](9,"p",7),C["\u0275\u0275element"](10,"img",8),C["\u0275\u0275text"](11),C["\u0275\u0275pipe"](12,"date"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"p",9),C["\u0275\u0275element"](14,"img",10),C["\u0275\u0275text"](15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",t.checkNewsImage(),C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.ecoNewsModel.tags),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.title," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("src",t.profileIcons.calendarIcon,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](12,7,t.ecoNewsModel.creationDate)," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("src",t.profileIcons.userIcon,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",t.ecoNewsModel.author.name," "))},directives:[s.t],pipes:[s.f],styles:[".news[_ngcontent-%COMP%]{width:554px;height:206px;box-shadow:1px 1px 12px rgba(27,51,38,.15);background:var(--primary-white);border-radius:4px;display:flex;margin-bottom:24px;cursor:pointer}.news-content[_ngcontent-%COMP%]{width:300px;padding:0 10px;display:flex;flex-direction:column;justify-content:space-between}.tags[_ngcontent-%COMP%]{display:flex;padding:10px 0;flex-wrap:wrap}.tag-btn[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:14px;line-height:16px;color:var(--primary-green);margin-right:16px;letter-spacing:1px;text-transform:uppercase}.title[_ngcontent-%COMP%]{overflow:hidden}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:21px;line-height:26px;color:var(--secondary-dark-grey)}.user-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),Ge);function Xe(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"app-one-habit",17),C["\u0275\u0275listener"]("nowAcquiredHabit",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](4).changeStatus(e)})),C["\u0275\u0275elementEnd"]()}2&e&&C["\u0275\u0275property"]("habit",t.$implicit)}function Ke(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",15),C["\u0275\u0275template"](1,Xe,1,1,"app-one-habit",16),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](3);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.habitAssignService.habitsInProgressToView)}}function Ze(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",18),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](3).getMoreHabitsInProgressForView()})),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](2,1,"profile.dashboard.habits-view-more")," "))}function Je(e,t){1&e&&C["\u0275\u0275element"](0,"app-one-habit",20),2&e&&C["\u0275\u0275property"]("habit",t.$implicit)}function et(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",15),C["\u0275\u0275template"](1,Je,1,1,"app-one-habit",19),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](3);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.habitsAcquiredToView)}}var tt=function(e){return["/profile",e,"allhabits"]};function nt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",9),C["\u0275\u0275elementStart"](2,"p"),C["\u0275\u0275elementStart"](3,"app-set-count",10),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275element"](6,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"a",11),C["\u0275\u0275elementStart"](8,"div",12),C["\u0275\u0275elementStart"](9,"span"),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](12,Ke,2,1,"div",13),C["\u0275\u0275template"](13,Ze,3,3,"button",7),C["\u0275\u0275elementStart"](14,"div",14),C["\u0275\u0275elementStart"](15,"p"),C["\u0275\u0275elementStart"](16,"app-set-count",10),C["\u0275\u0275text"](17),C["\u0275\u0275pipe"](18,"translate"),C["\u0275\u0275element"](19,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](20,et,2,1,"div",13),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("remainingCount",n.habitAssignService.habitsInProgress.length)("tabName","habits"),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,11,"profile.dashboard.habits-inprogress")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](17,tt,n.userId)),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](11,13,"profile.dashboard.add-new-habit")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",n.habitAssignService.habitsInProgress),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.habitAssignService.habitsInProgress.length>n.habitAssignService.habitsInProgressToView.length),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("remainingCount",n.habitsAcquired.length)("tabName","habits"),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](18,15,"profile.dashboard.habits-acquired")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",n.habitsAcquired)}}function it(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",18),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).getMoreHabitsAcquiredForView()})),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](2,1,"profile.dashboard.habits-view-more")," "))}function rt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",21),C["\u0275\u0275element"](1,"app-no-data",22),C["\u0275\u0275elementStart"](2,"a",11),C["\u0275\u0275elementStart"](3,"div",12),C["\u0275\u0275elementStart"](4,"span"),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("title","profile.dashboard.no-habits-in-progress")("text","profile.dashboard.no-habits-in-progress-advice"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](6,tt,n.userId)),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](6,4,"profile.dashboard.add-new-habit"))}}function at(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275template"](1,nt,21,19,"div",6),C["\u0275\u0275template"](2,it,3,3,"button",7),C["\u0275\u0275template"](3,rt,7,8,"div",8),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0!==n.habitAssignService.habitsInProgress.length),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.habitsAcquired.length>n.habitsAcquiredToView.length),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0===n.habitAssignService.habitsInProgress.length)}}var ot=function(e){return["/news",e]};function st(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"li",11),C["\u0275\u0275element"](1,"app-one-news",27),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](2,ot,n.id)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ecoNewsModel",n)}}var lt=function(){return["/news/create-news"]};function ct(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",9),C["\u0275\u0275elementStart"](2,"p"),C["\u0275\u0275elementStart"](3,"app-set-count",10),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275element"](6,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"a",11),C["\u0275\u0275elementStart"](8,"div",12),C["\u0275\u0275elementStart"](9,"span"),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",23),C["\u0275\u0275elementStart"](13,"div",24),C["\u0275\u0275listener"]("scrolled",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onScroll()})),C["\u0275\u0275elementStart"](14,"ul",25),C["\u0275\u0275template"](15,st,2,4,"li",26),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("remainingCount",null==i.news?null:i.news.length)("tabName","news"),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,9,"profile.dashboard.news-list")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction0"](13,lt)),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](11,11,"profile.dashboard.add-news")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",100)("infiniteScrollDisabled",!i.isActiveInfinityScroll),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngForOf",i.news)}}function dt(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}var pt,ut=((pt=function(){function e(t,n,i){_classCallCheck(this,e),this.localStorageService=t,this.habitAssignService=n,this.ecoNewsService=i,this.destroyed$=new _.a(1),this.loading=!1,this.numberOfHabitsOnView=3,this.habitsAcquired=[],this.habitsAcquiredToView=[],this.tabs={habits:!0,news:!1,articles:!1},this.isActiveInfinityScroll=!1,this.currentPage=0,this.newsCount=5}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscribeToLangChange(),this.getUserId(),this.getNews(this.currentPage,this.newsCount)}},{key:"changeStatus",value:function(e){this.habitAssignService.habitsInProgress=this.habitAssignService.habitsInProgress.filter((function(t){return t.id!==e.id})),this.habitsAcquired=[].concat(_toConsumableArray(this.habitsAcquired),[e])}},{key:"getUserId",value:function(){this.userId=this.localStorageService.getUserId()}},{key:"subscribeToLangChange",value:function(){var e=this;this.localStorageService.languageBehaviourSubject.pipe(Object(M.a)(this.destroyed$)).subscribe((function(){return e.executeRequests()}))}},{key:"executeRequests",value:function(){var e=this;this.loading=!0,this.habitAssignService.getAssignedHabits().pipe(Object(x.a)(1)).subscribe((function(t){var n=e.sortHabitsAsc(t);e.habitAssignService.habitsInProgress=n.filter((function(e){return e.status===ke.INPROGRESS})),e.habitsAcquired=n.filter((function(e){return e.status===ke.ACQUIRED})),e.setHabitsForView(),e.loading=!1}))}},{key:"setHabitsForView",value:function(){this.habitAssignService.habitsInProgressToView=_toConsumableArray(this.habitAssignService.habitsInProgress.slice(0,this.numberOfHabitsOnView)),this.habitsAcquiredToView=_toConsumableArray(this.habitsAcquired.slice(0,this.numberOfHabitsOnView))}},{key:"getMoreHabitsInProgressForView",value:function(){this.habitAssignService.habitsInProgressToView=this.getMoreHabits(this.habitAssignService.habitsInProgressToView,this.habitAssignService.habitsInProgress)}},{key:"getMoreHabitsAcquiredForView",value:function(){this.habitsAcquiredToView=this.getMoreHabits(this.habitsAcquiredToView,this.habitsAcquired)}},{key:"getMoreHabits",value:function(e,t){var n=e.length;return[].concat(_toConsumableArray(e),_toConsumableArray(t.slice(n,n+this.numberOfHabitsOnView)))}},{key:"sortHabitsAsc",value:function(e){return e.sort((function(e,t){return e.habit.id>t.habit.id?1:t.habit.id>e.habit.id?-1:0}))}},{key:"getNews",value:function(e,t){var n=this;this.ecoNewsService.getEcoNewsListByPage(e,t).pipe(Object(M.a)(this.destroyed$)).subscribe((function(e){n.totalPages=e.totalPages,n.news=n.news?[].concat(_toConsumableArray(n.news),_toConsumableArray(e.page)):e.page}))}},{key:"tabChanged",value:function(e){this.isActiveInfinityScroll=1===e.index,console.log(this.isActiveInfinityScroll)}},{key:"onScroll",value:function(){!this.loading&&this.currentPage<this.totalPages&&(this.currentPage++,this.getNews(this.currentPage,this.newsCount))}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||pt)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](Se.a))},pt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:pt,selectors:[["app-profile-dashboard"]],decls:14,vars:13,consts:[[1,"main"],[1,"menu"],["animationDuration","0ms",3,"selectedTabChange"],[3,"label"],[4,"ngIf","ngIfElse"],["spinner",""],[4,"ngIf"],["class","btn-view-more",3,"click",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"in-progress","header"],[3,"remainingCount","tabName"],[3,"routerLink"],["id","create-button",1,"secondary-global-button"],["class","body",4,"ngIf"],[1,"acquired","header"],[1,"body"],[3,"habit","nowAcquiredHabit",4,"ngFor","ngForOf"],[3,"habit","nowAcquiredHabit"],[1,"btn-view-more",3,"click"],[3,"habit",4,"ngFor","ngForOf"],[3,"habit"],[1,"no-data"],[3,"title","text"],[1,"news-body"],["infinite-scroll","",1,"scrolling",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[1,"news-list"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ecoNewsModel"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"mat-tab-group",2),C["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabChanged(e)})),C["\u0275\u0275elementStart"](3,"mat-tab",3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275template"](5,at,4,3,"div",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"mat-tab",3),C["\u0275\u0275pipe"](7,"translate"),C["\u0275\u0275template"](8,ct,16,14,"div",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](9,"mat-tab",3),C["\u0275\u0275pipe"](10,"translate"),C["\u0275\u0275text"](11,"Content 3"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](12,dt,1,0,"ng-template",null,5,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](13);C["\u0275\u0275advance"](3),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](4,7,"profile.dashboard.my-habits")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",n),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](7,9,"profile.dashboard.my-news")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",n),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](10,11,"profile.dashboard.my-tips-and-tricks"))}},directives:[Ie.b,Ie.a,s.u,Ne,I.j,s.t,Ue,N.a,F.a,I.h,Qe,j.a],pipes:[d.d],styles:["p[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{text-decoration:none}.main[_ngcontent-%COMP%]{margin-bottom:3rem}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-family:var(--primary-font);font-style:normal;font-weight:700;font-size:16px;line-height:24px}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-dark-grey)}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.main[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{padding:0 15px;height:36px;min-width:145px;display:flex;justify-content:center;align-items:center;font-style:normal;font-weight:700;font-size:14px;line-height:20px;letter-spacing:.1px}.main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-row-gap:24px}.main[_ngcontent-%COMP%]   .acquired[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:32px}.main[_ngcontent-%COMP%]   .btn-view-more[_ngcontent-%COMP%]{margin-top:10px;background:none;border:none;color:var(--primary-green)}.main[_ngcontent-%COMP%]   .btn-view-more[_ngcontent-%COMP%]:hover{color:var(--secondary-dark-green)}.main[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .secondary-global-button[_ngcontent-%COMP%]{display:inline-flex}.news-list[_ngcontent-%COMP%]{list-style:none;padding-left:0;overflow:hidden}  .mat-tab-header{margin-bottom:24px}  .mat-tab-header,   .mat-tab-nav-bar{border-bottom:none}  .mat-ink-bar,   .mat-tab-header-pagination{display:none}  .mat-tab-labels .mat-tab-label{height:40px;min-width:auto;border-bottom:1px solid var(--quintynary-light-grey);opacity:1}  .mat-tab-label-content{font-family:var(--primary-font);font-size:16px;line-height:24px;font-weight:400;color:var(--primary-dark-grey)}  .mat-tab-labels .mat-tab-label-active{border-bottom:1px solid var(--primary-green)}  .mat-tab-labels .mat-tab-label-active .mat-tab-label-content{color:var(--primary-green)}  .mat-tab-labels{flex-wrap:wrap}.scrolling[_ngcontent-%COMP%]{height:100%}@media (max-width:480px){.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:0 12px}.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{margin-top:132px;flex-wrap:wrap-reverse}.main[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;margin-bottom:32px}}@media (min-width:576px){.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:0 24px}.main[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.main[_ngcontent-%COMP%]   .acquired[_ngcontent-%COMP%]{margin-top:32px}}"]}),pt),ht=n("JIr8");function gt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",3),C["\u0275\u0275elementStart"](1,"p",4),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"p",5),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",6),C["\u0275\u0275element"](7,"img",7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,2,"profile.fact-of-the-day")),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](n.factOfTheDay.content)}}function ft(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275template"](1,gt,8,4,"div",2),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.factOfTheDay)}}var mt,vt=((mt=function(){function e(t,n){_classCallCheck(this,e),this.profileService=t,this.localStorageService=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.languageSunscription=this.localStorageService.languageBehaviourSubject.subscribe((function(){e.getFactOfTheDay()}))}},{key:"getFactOfTheDay",value:function(){var e=this;this.profileSubscription=this.profileService.getFactsOfTheDay().pipe(Object(ht.a)((function(t){return e.error=t,t}))).subscribe((function(t){e.factOfTheDay=Object.assign({},t)}))}},{key:"ngOnDestroy",value:function(){this.profileSubscription.unsubscribe(),this.languageSunscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mt)(C["\u0275\u0275directiveInject"](k.a),C["\u0275\u0275directiveInject"](w.a))},mt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:mt,selectors:[["app-profile-cards"]],decls:1,vars:1,consts:[["class","right-cards",4,"ngIf"],[1,"right-cards"],["class","card",4,"ngIf"],[1,"card"],[1,"cart-title"],[1,"card-description"],[1,"shape-img"],["src","assets/img/wave_shape.png","alt","wave-background"]],template:function(e,t){1&e&&C["\u0275\u0275template"](0,ft,2,1,"div",0),2&e&&C["\u0275\u0275property"]("ngIf",!t.error)},directives:[s.u],pipes:[d.d],styles:[".right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;color:var(--primary-white);text-align:left;padding:16px 16px 0;margin-top:24px;border-radius:4px;background:var(--primary-green);box-shadow:1px 4px 8px var(--quintynary-dark-grey)}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cart-title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:600;font-size:13px;line-height:16px;margin-bottom:8px}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:11px;line-height:16px;font-family:var(--quaternary-font);align-items:center}.right-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .shape-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;bottom:-1px;left:0;right:0;width:100%;height:55px;-webkit-user-select:none;-moz-user-select:none;user-select:none}"]}),mt),bt=n("Xa2L");function xt(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"a",7),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](2,1,"profile.see-all")))}function yt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"li",8),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](n.name)}}function Ct(e,t){1&e&&C["\u0275\u0275element"](0,"mat-spinner",9)}var _t,Mt=((_t=function(){function e(t){_classCallCheck(this,e),this.profileService=t,this.ecoPlaces=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getEcoPlaces()}},{key:"getEcoPlaces",value:function(){var e=this;this.subscription=this.profileService.getEcoPlaces().subscribe((function(t){return e.ecoPlaces=t}))}}]),e}()).\u0275fac=function(e){return new(e||_t)(C["\u0275\u0275directiveInject"](k.a))},_t.\u0275cmp=C["\u0275\u0275defineComponent"]({type:_t,selectors:[["app-eco-places"]],decls:13,vars:6,consts:[[1,"eco-places-content"],[1,"header-position"],[1,"header"],["class","btn-see-all",4,"ngIf"],[1,"eco-place-list"],["class","item",4,"ngFor","ngForOf"],["loading",""],[1,"btn-see-all"],[1,"item"],["color","grey","diameter","70",1,"loading"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementStart"](5,"span"),C["\u0275\u0275text"](6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](7,xt,3,3,"a",3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div"),C["\u0275\u0275elementStart"](9,"ul",4),C["\u0275\u0275template"](10,yt,2,1,"li",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](11,Ct,1,0,"ng-template",null,6,C["\u0275\u0275templateRefExtractor"])),2&e&&(C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](4,4,"profile.my-eco-places"),""),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](null==t.ecoPlaces?null:t.ecoPlaces.length),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",(null==t.ecoPlaces?null:t.ecoPlaces.length)>3),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.ecoPlaces))},directives:[s.u,s.t,bt.c],pipes:[d.d],styles:[".eco-places-content[_ngcontent-%COMP%]{width:100%;padding:20px;margin:0 auto;font-family:var(--secondary-font);font-style:normal;border-top:1px solid var(--quaternary-light-grey);background-color:var(--primary-white)}.header-position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.header[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-size:12px;padding-bottom:8px}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey);margin-left:10px}.item[_ngcontent-%COMP%]{list-style:none;text-align:left;width:100%;font-weight:400;font-size:12px;line-height:15px;padding:6px 0}.eco-place-list[_ngcontent-%COMP%]{width:100%;padding:0}.eco-place-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-decoration:underline}.btn-see-all[_ngcontent-%COMP%]{text-decoration:none;font-weight:400;font-size:11px}.loading[_ngcontent-%COMP%]{margin:0 auto}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%],  .mat-progress-spinner circle{stroke:#e2e2e2!important}@media only screen and (max-width:1024px){.header[_ngcontent-%COMP%], .text-number[_ngcontent-%COMP%]{font-size:12px;line-height:15px}.text-more[_ngcontent-%COMP%]{font-size:11px;line-height:13px}.item[_ngcontent-%COMP%]{font-size:11px;line-height:16px}}"]}),_t),Pt=n("nYR2"),wt=n("bSwM");function Ot(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"a",7),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().openCloseList()})),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](2,1,"profile.see-all")))}function kt(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275element"](1,"mat-spinner",8),C["\u0275\u0275elementEnd"]())}function St(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"li",12),C["\u0275\u0275elementStart"](1,"span",13),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"mat-checkbox",14,15),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).toggleDone(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275reference"](4);C["\u0275\u0275property"]("ngClass","DONE"===i.status||r.checked?"item-striked":"item"),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("ngbPopover",i.text),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](i.text),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("checked","DONE"===i.status)}}var It=function(e,t){return{"shopping-list-max":e,"shopping-list-min":t}};function Et(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",9),C["\u0275\u0275elementStart"](2,"ul",10),C["\u0275\u0275template"](3,St,5,4,"li",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction2"](2,It,n.toggle,!n.toggle)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.shoppingList)}}function Ft(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"p",16),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,1,"profile.empty-list")))}var Dt,At=((Dt=function(){function e(t){_classCallCheck(this,e),this.profileService=t,this.shoppingList=[],this.destroy$=new xe.a}return _createClass(e,[{key:"shoppingListLength",get:function(){return this.shoppingList?this.shoppingList.length:0}},{key:"ngOnInit",value:function(){this.getShoppingList()}},{key:"getShoppingList",value:function(){var e=this;this.profileSubscription=this.profileService.getShoppingList().pipe(Object(M.a)(this.destroy$),Object(Pt.a)((function(){e.shoppingList||(e.shoppingList=[])}))).subscribe((function(t){return e.shoppingList=t}),(function(t){return e.shoppingList=[]}))}},{key:"openCloseList",value:function(){this.toggle=!this.toggle}},{key:"toggleDone",value:function(e){var t=this;this.profileService.toggleStatusOfShoppingItem(e).pipe(Object(M.a)(this.destroy$)).subscribe((function(n){return t.updateDataOnUi(e)}))}},{key:"updateDataOnUi",value:function(e){var t=e.status;return e.status="ACTIVE"===t?"DONE":"ACTIVE",e.status}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Dt)(C["\u0275\u0275directiveInject"](k.a))},Dt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Dt,selectors:[["app-shopping-list"]],decls:14,vars:11,consts:[[1,"outer"],[1,"shoppingList-block"],[1,"header-position","shopping-list-content"],[1,"header"],[1,"items-count"],["class","btn-see-all",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn-see-all",3,"click"],["color","grey","diameter","70",1,"loading"],[1,"shopping-list-content"],[1,"shopping-list",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["triggers","mouseenter:mouseleave","placement","right",3,"ngbPopover"],["color","primary",1,"checkbox",3,"checked","click"],["checkbox",""],[1,"empty-list"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"h2",3),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementStart"](6,"span",4),C["\u0275\u0275element"](7,"br"),C["\u0275\u0275text"](8),C["\u0275\u0275pipe"](9,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](10,Ot,3,3,"a",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](11,kt,2,0,"div",6),C["\u0275\u0275template"](12,Et,4,5,"div",6),C["\u0275\u0275template"](13,Ft,4,3,"div",6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,7,"profile.shoppingList")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate2"]("",null==t.shoppingList?null:t.shoppingList.length," ",C["\u0275\u0275pipeBind1"](9,9,"profile.elements"),""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.shoppingList.length>3),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.profileSubscription&&!t.shoppingList),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.profileSubscription&&t.shoppingList&&t.shoppingListLength>0),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.profileSubscription&&0===t.shoppingListLength))},directives:[s.u,bt.c,s.r,s.t,o.e,wt.a],pipes:[d.d],styles:[".outer[_ngcontent-%COMP%]{background-color:var(--primary-white);display:flex}.shoppingList-block[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--quaternary-light-grey);width:100%}.shopping-list-content[_ngcontent-%COMP%]{margin:0 auto;font-family:var(--secondary-font);font-style:normal}.header-position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.header[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-size:12px;padding-bottom:8px}h2[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--tertiary-light-grey)}.empty-list[_ngcontent-%COMP%]{text-align:left;font-size:12px;font-family:var(--secondary-font);font-weight:400;font-style:normal;line-height:15px;white-space:pre-wrap}.items-count[_ngcontent-%COMP%]{font-size:.8em}.item[_ngcontent-%COMP%]{text-decoration:none}.item[_ngcontent-%COMP%], .item-striked[_ngcontent-%COMP%]{list-style:none;text-align:left;width:100%;font-weight:400;font-size:12px;padding:6px 0}.item-striked[_ngcontent-%COMP%]{text-decoration:line-through}.shopping-list-min[_ngcontent-%COMP%]{height:100px}.shopping-list-max[_ngcontent-%COMP%]{height:-webkit-max-content;height:-moz-max-content;height:max-content}.shopping-list[_ngcontent-%COMP%]{width:100%;padding:5px 0 0;overflow-y:hidden}.shopping-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.shopping-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px;display:block;overflow:hidden;white-space:nowrap;overflow-wrap:break-word;text-overflow:ellipsis;width:80%}.btn-see-all[_ngcontent-%COMP%]{text-decoration:none;font-weight:400;font-size:12px}.checkbox[_ngcontent-%COMP%]{float:right}  .mat-checkbox .mat-checkbox-frame{border:1px solid #e1e1e1}  .mat-checkbox-checked .mat-checkbox-background{background-color:green!important}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%],  .mat-progress-spinner circle{stroke:#e2e2e2!important}.loading[_ngcontent-%COMP%]{margin:0 auto}@media only screen and (max-width:1080px){.header[_ngcontent-%COMP%], .text-number[_ngcontent-%COMP%]{font-size:12px;line-height:15px}.text-more[_ngcontent-%COMP%]{font-size:11px;line-height:13px}.item[_ngcontent-%COMP%]{font-size:11px;line-height:16px}}"]}),Dt),Lt=n("uIZH"),Tt=n("0IaG"),zt=function(e){return{"current-day-name":e}};function jt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",13),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=C["\u0275\u0275nextContext"](2);C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,zt,n===i.currentDayName)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",n," ")}}function Nt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",11),C["\u0275\u0275template"](1,jt,2,4,"div",12),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.daysName)}}function Bt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",16),C["\u0275\u0275listener"]("click",(function(e){C["\u0275\u0275restoreView"](n);var i=t.$implicit;return C["\u0275\u0275nextContext"](2).showHabits(e,i)})),C["\u0275\u0275elementStart"](1,"span"),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275property"]("ngClass",r.chooseDisplayClass(i)),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",i.numberOfDate," ")}}var Rt=function(e){return{disabled:e}};function Vt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",14),C["\u0275\u0275template"](1,Bt,3,2,"div",15),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,Rt,n.checkAnswer)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.calendarDay)}}var Ht=function(e){return{"current-month":e}};function qt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",19),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).buildSelectedMonthCalendar(e)})),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,Ht,i===r.activeMonth&&r.currentYear)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",i," ")}}function Wt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275template"](1,qt,3,4,"div",18),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.monthsCalendar)}}var Ut,$t=((Ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,i,r,a)).translate=e,o.languageService=i,o.habitAssignService=r,o.dialog=a,o}return _createClass(n,[{key:"ngOnInit",value:function(){this.bindDefaultTranslate(),this.subscribeToLangChange(),this.buildCalendar(),this.getUserHabits(!0,this.calendarDay)}},{key:"showHabits",value:function(e,t){this.checkCanOpenPopup(t)&&this.openDialogDayHabits(e,!0,t)}}]),n}(Lt.a)).\u0275fac=function(e){return new(e||Ut)(C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](Z.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](Tt.c))},Ut.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Ut,selectors:[["app-calendar"]],features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:6,consts:[[1,"calendar"],[1,"top"],[1,"month-year"],[3,"click"],["alt","arrow previous",1,"arrow-previous",3,"src"],[1,"monthAndYear",3,"click"],["alt","arrow next",1,"arrow-next",3,"src"],["class","days",4,"ngIf"],[1,"middle"],["class","calendar-grid",3,"ngClass",4,"ngIf"],["class","calendar-grid-month",4,"ngIf"],[1,"days"],["class","days-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"days-name",3,"ngClass"],[1,"calendar-grid",3,"ngClass"],["class","calendar-grid-day",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"calendar-grid-day",3,"ngClass","click"],[1,"calendar-grid-month"],[4,"ngFor","ngForOf"],[1,"calendar-grid-month-view",3,"ngClass","click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275listener"]("click",(function(){return t.monthView?t.previousMonth():t.previousYear()})),C["\u0275\u0275element"](4,"img",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"span",5),C["\u0275\u0275listener"]("click",(function(){return t.toggleCalendarView()})),C["\u0275\u0275text"](6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",3),C["\u0275\u0275listener"]("click",(function(){return t.monthView?t.nextMonth():t.nextYear()})),C["\u0275\u0275element"](8,"img",6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](9,Nt,2,1,"div",7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",8),C["\u0275\u0275template"](11,Vt,2,4,"div",9),C["\u0275\u0275template"](12,Wt,2,1,"div",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("src",t.calendarImages.arrowPrevious,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",t.monthView?t.monthAndYearName:t.yearData," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.calendarImages.arrowNext,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.monthView),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.monthView),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.monthView))},directives:[s.u,s.t,s.r],styles:[".calendar[_ngcontent-%COMP%]{display:block;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-previous[_ngcontent-%COMP%]{margin-top:22px;margin-left:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:13px;line-height:13px;color:var(--primary-dark-grey);margin-top:15px;margin-bottom:12px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]{margin-top:22px;margin-right:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);justify-content:center;text-align:center;font-size:11px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .days-name[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:12px;color:var(--tertiary-light-grey)}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .current-day-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding-bottom:5px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,24px);grid-auto-rows:24px;grid-row-gap:5px;justify-content:space-around;margin:8px 0 0;padding:0 3px;font-family:var(--secondary-font);font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:center}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:hover{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]{background-color:var(--primary-green);border-radius:50%;background-repeat:no-repeat;background-position:50%;color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:hover{color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,23px);grid-template-rows:repeat(4,13px);grid-row-gap:32px;grid-column-gap:47px;justify-content:center;margin:32px 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .calendar-grid-month-view[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:13px;color:var(--secondary-grey);text-align:center;text-transform:uppercase;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{color:var(--primary-green)}.enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green);color:var(--primary-dark-grey)}.enrolled-day[_ngcontent-%COMP%], .unenrolled-day[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;border-radius:50%}.unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.enrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--primary-light-green);border-radius:50%}.enrolled-past-day[_ngcontent-%COMP%], .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%}.unenrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--quaternary-light-grey);border-radius:50%}@media only screen and (min-width:1200px){.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,35px)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{padding:0 8px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;font-size:13px}}.backdropBackground[_ngcontent-%COMP%]{background:none}"]}),Ut),Yt=function(e){return{"current-name":e}};function Gt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",11),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"uppercase"),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](4,Yt,n.isCurrent)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](2,2,n.dayName)," ")}}var Qt=function(e,t,n,i,r){return{"enrolled-day":e,"unenrolled-day":t,"enrolled-past-day":n,"unenrolled-past-day":i,"current-number":r}};function Xt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",12),C["\u0275\u0275listener"]("click",(function(e){C["\u0275\u0275restoreView"](n);var i=t.$implicit;return C["\u0275\u0275nextContext"]().showHabits(e,i)})),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction5"](2,Qt,i.hasHabitsInProgress&&i.areHabitsDone,i.hasHabitsInProgress&&!i.areHabitsDone,i.hasHabitsInProgress&&i.date.getDate()<r.currentDate.getDate()-7&&i.areHabitsDone,i.hasHabitsInProgress&&i.date.getDate()<r.currentDate.getDate()-7&&!i.areHabitsDone,i.isCurrent)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",i.date.getDate()," ")}}var Kt,Zt=function(e){return{disabled:e}},Jt=((Kt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,r,a,i,o)).localStorageService=e,s.habitAssignService=i,s.translate=r,s.languageService=a,s.dialog=o,s.destroyed$=new _.a(1),s.currentDate=new Date,s}return _createClass(n,[{key:"ngOnInit",value:function(){this.buildWeekCalendar(this.getFirstWeekDate()),this.getLanguage(),this.getUserHabits(!1,this.weekDates)}},{key:"buildWeekCalendar",value:function(e){var t=e.getFullYear(),n=e.getMonth(),i=e.getDate();this.weekDates=[];for(var r=0;r<7;r++){var a=new Date(t,n,i+r),o=a.getFullYear()===this.currentDate.getFullYear()&&a.getMonth()===this.currentDate.getMonth()&&a.getDate()===this.currentDate.getDate();this.weekDates.push({date:a,dayName:this.language?this.setDayName(a):"",isCurrent:o,hasHabitsInProgress:!1,areHabitsDone:!1})}}},{key:"getFirstWeekDate",value:function(){var e=0===this.currentDate.getDay()?this.currentDate.getDate()-6:this.currentDate.getDate()-this.currentDate.getDay()+1,t=(new Date).getMonth(),n=this.currentDate.getFullYear();return new Date(n,t,e)}},{key:"setDayName",value:function(e){return e.toLocaleDateString(this.language,{weekday:"short"})}},{key:"getLanguage",value:function(){var e=this;this.localStorageService.languageBehaviourSubject.pipe(Object(M.a)(this.destroyed$)).subscribe((function(t){e.language=t,e.weekDates.forEach((function(t){return t.dayName=e.setDayName(t.date)})),e.buildWeekCalendarTitle()}))}},{key:"buildWeekCalendarTitle",value:function(){var e=this.weekDates[0].date.getDate(),t=this.weekDates[6].date.getDate(),n=this.weekDates[0].date.toLocaleDateString(this.language,{month:"long"}),i=this.weekDates[6].date.toLocaleDateString(this.language,{month:"long"}),r=this.weekDates[0].date.getFullYear(),a=this.weekDates[6].date.getFullYear();this.weekTitle=n===i?"".concat(e," - ").concat(t," ").concat(n," ").concat(r):r===a?"".concat(e," ").concat(n," - ").concat(t," ").concat(i," ").concat(r):"".concat(e," ").concat(n," ").concat(r," - ").concat(t," ").concat(i," ").concat(a)}},{key:"changeWeek",value:function(e){var t=this.weekDates[0].date.getFullYear(),n=this.weekDates[0].date.getMonth(),i=this.weekDates[0].date.getDate()+(e?7:-7),r=new Date(t,n,i);this.buildWeekCalendar(r),this.buildWeekCalendarTitle(),this.getUserHabits(!1,this.weekDates)}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}},{key:"showHabits",value:function(e,t){this.checkCanOpenPopup(t)&&this.openDialogDayHabits(e,!1,t)}}]),n}(Lt.a)).\u0275fac=function(e){return new(e||Kt)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](Z.a),C["\u0275\u0275directiveInject"](Tt.c))},Kt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Kt,selectors:[["app-calendar-week"]],features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:8,consts:[[1,"calendar-week"],[1,"title"],[3,"click"],["alt","arrow previous",3,"src"],[1,"week"],["alt","arrow next",3,"src"],[1,"body"],[1,"day-name-row"],["class","day-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"day-number-row",3,"ngClass"],["class","day-number",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"day-name",3,"ngClass"],[1,"day-number",3,"ngClass","click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"button",2),C["\u0275\u0275listener"]("click",(function(){return t.changeWeek(!1)})),C["\u0275\u0275element"](3,"img",3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",4),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"button",2),C["\u0275\u0275listener"]("click",(function(){return t.changeWeek(!0)})),C["\u0275\u0275element"](7,"img",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275elementStart"](9,"div",7),C["\u0275\u0275template"](10,Gt,3,6,"div",8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",9),C["\u0275\u0275template"](12,Xt,2,8,"div",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("src",t.calendarImages.arrowPrevious,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](t.weekTitle),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.calendarImages.arrowNext,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.weekDates),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](6,Zt,t.checkAnswer)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",t.weekDates))},directives:[s.t,s.r],pipes:[s.I],styles:[".calendar-week[_ngcontent-%COMP%]{width:100%;height:130px;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px;margin-top:26px;padding:16px 12px 12px;font-family:var(--secondary-font)}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:17px;color:var(--primary-dark-grey);margin-bottom:15px;display:flex;justify-content:space-between;align-items:center}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 8px;border:none;background:none}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:10px}.calendar-week[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:10px}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:14px;color:var(--tertiary-light-grey);display:flex;justify-content:space-between;margin-bottom:14px}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{width:52px;text-align:center}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-name-row[_ngcontent-%COMP%]   .current-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:17px;color:var(--primary-dark-grey);display:flex;justify-content:space-between}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{width:52px;height:40px;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .enrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--primary-light-green)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--quaternary-light-grey)}.calendar-week[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .day-number-row[_ngcontent-%COMP%]   .current-number[_ngcontent-%COMP%]{color:var(--primary-white);background-color:var(--primary-green)}.disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}"]}),Kt);function en(e,t){1&e&&C["\u0275\u0275element"](0,"app-eco-places",13)}function tn(e,t){1&e&&C["\u0275\u0275element"](0,"app-shopping-list",14)}function nn(e,t){1&e&&C["\u0275\u0275element"](0,"app-calendar",15)}function rn(e,t){1&e&&C["\u0275\u0275element"](0,"app-calendar-week",16)}function an(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275element"](2,"app-profile-header",3),C["\u0275\u0275element"](3,"app-users-achievements",4),C["\u0275\u0275element"](4,"app-users-friends",5),C["\u0275\u0275template"](5,en,1,0,"app-eco-places",6),C["\u0275\u0275template"](6,tn,1,0,"app-shopping-list",7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](7,"app-profile-dashboard",8),C["\u0275\u0275elementStart"](8,"div",9),C["\u0275\u0275template"](9,nn,1,0,"app-calendar",10),C["\u0275\u0275template"](10,rn,1,0,"ng-template",null,11,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275element"](12,"app-profile-cards",12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](11),i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("userInfo",i.userInfo)("progress",i.progress),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",i.userInfo.showEcoPlace),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",i.userInfo.showShoppingList),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",i.isDesktopWidth)("ngIfElse",n)}}var on,sn,ln,cn=((on=function(){function e(t,n,i,r){_classCallCheck(this,e),this.announcer=t,this.localStorageService=n,this.translate=i,this.profileService=r,this.screenBreakpoint=1024}return _createClass(e,[{key:"ngOnInit",value:function(){this.isDesktopWidth=this.isDeskWidth(),this.announce(),this.showUserInfo(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.checkUserActivities()}},{key:"checkDisplayWidth",value:function(){this.isDesktopWidth=this.isDeskWidth()}},{key:"isDeskWidth",value:function(){return window.innerWidth>this.screenBreakpoint}},{key:"announce",value:function(){this.announcer.announce("Success, logging you in","assertive")}},{key:"showUserInfo",value:function(){var e=this;this.profileService.getUserInfo().subscribe((function(t){e.userInfo=t,e.userInfo.showShoppingList=!0}))}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}},{key:"subscribeToLangChange",value:function(){var e=this;this.langChangeSub=this.localStorageService.languageSubject.subscribe((function(t){return e.bindLang(t)}))}},{key:"checkUserActivities",value:function(){var e=this;this.profileService.getUserProfileStatistics().pipe(Object(x.a)(1)).subscribe((function(t){e.progress=t}))}},{key:"ngOnDestroy",value:function(){this.langChangeSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||on)(C["\u0275\u0275directiveInject"](ee.k),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](k.a))},on.\u0275cmp=C["\u0275\u0275defineComponent"]({type:on,selectors:[["app-profile"]],hostBindings:function(e,t){1&e&&C["\u0275\u0275listener"]("resize",(function(){return t.checkDisplayWidth()}),!1,C["\u0275\u0275resolveWindow"])},decls:1,vars:1,consts:[["class","profile-wrapper",4,"ngIf"],[1,"profile-wrapper"],[1,"left-column"],[1,"app-profile-header",3,"userInfo","progress"],[1,"app-users-achievements"],[1,"app-users-friends"],["class","app-eco-places",4,"ngIf"],["class","app-shopping-list",4,"ngIf"],[1,"habits-dashboard"],[1,"right-column"],["class","app-calendar",4,"ngIf","ngIfElse"],["mobileView",""],[1,"app-profile-cards"],[1,"app-eco-places"],[1,"app-shopping-list"],[1,"app-calendar"],[1,"app-calendar-week"]],template:function(e,t){1&e&&C["\u0275\u0275template"](0,an,13,6,"div",0),2&e&&C["\u0275\u0275property"]("ngIf",t.userInfo)},directives:[s.u,ge,be,Oe,ut,vt,Mt,At,$t,Jt],styles:[".profile-wrapper[_ngcontent-%COMP%]{margin-top:-95px;display:grid;grid-template-columns:1fr;grid-row-gap:32px;background-color:var(--after-primary-light-grey)}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{width:100%;box-shadow:4px 0 8px -4px var(--quintynary-dark-grey)}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-eco-places[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-shopping-list[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-achievements[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-friends[_ngcontent-%COMP%]{display:none}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0 16px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:none}@media (min-width:576px){.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0 14px}}@media (min-width:768px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:225px 483px;grid-template-rows:156px 1fr;grid-gap:32px;justify-content:center}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{width:100%;grid-area:1/1/3/2}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-eco-places[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-shopping-list[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-achievements[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .app-users-friends[_ngcontent-%COMP%]{display:block}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{margin:0;grid-area:2/2/3/3}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:block;grid-area:1/2/2/3}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .app-profile-cards[_ngcontent-%COMP%]{display:none}}@media (min-width:1024px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:216px 464px 216px;grid-template-rows:1fr}.profile-wrapper[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{grid-area:1/1/2/2;margin-bottom:5px}.profile-wrapper[_ngcontent-%COMP%]   .habits-dashboard[_ngcontent-%COMP%]{grid-area:1/2/2/3;margin-top:26px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{grid-area:1/3/2/4;margin-top:54px}.profile-wrapper[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .app-profile-cards[_ngcontent-%COMP%]{display:block;box-shadow:1px 4px 8px var(--quintynary-dark-grey)}}@media (min-width:1200px){.profile-wrapper[_ngcontent-%COMP%]{grid-template-columns:261px 554px 261px}}"]}),on),dn=n("3Pt+"),pn=((sn=function(){function e(t){_classCallCheck(this,e),this.builder=t}return _createClass(e,[{key:"getProfileForm",value:function(){return this.builder.group({name:["",dn.H.maxLength(30)],city:["",dn.H.maxLength(85)],credo:["",dn.H.maxLength(170)],showLocation:[""],showEcoPlace:[""],showShoppingList:[""],socialNetworks:[""]})}},{key:"getEditProfileForm",value:function(e){return this.builder.group({name:[e.name,[dn.H.maxLength(30),dn.H.required]],city:[e.city,dn.H.maxLength(85)],credo:[e.userCredo,dn.H.maxLength(170)],showLocation:[e.showLocation],showEcoPlace:[e.showEcoPlace],showShoppingList:[e.showShoppingList],socialNetworks:[e.socialNetworks]})}}]),e}()).\u0275fac=function(e){return new(e||sn)(C["\u0275\u0275inject"](dn.g))},sn.\u0275prov=C["\u0275\u0275defineInjectable"]({token:sn,factory:sn.\u0275fac}),sn),un=n("fygO"),hn=n("VKqL"),gn=n("Csug"),fn=["editImage"],mn=((ln=function(){function e(t,n){_classCallCheck(this,e),this.profileService=t,this.dialog=n,this.currentPage="edit photo",this.editIcon="./assets/img/profile/icons/edit-photo.svg"}return _createClass(e,[{key:"ngOnInit",value:function(){this.setUserAvatar()}},{key:"setUserAvatar",value:function(){var e=this;this.avatarSubscription=this.profileService.getUserInfo().subscribe((function(t){e.avatarImg=t.profilePicturePath,e.userName=t.name}))}},{key:"openEditPhoto",value:function(){var e=this;this.dialog.open(gn.a,{hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"custom-dialog-container",data:{firstName:this.userName,img:this.avatarImg}}).afterClosed().subscribe((function(){e.setUserAvatar(),e.previousActiveElement.nativeElement.focus()}))}},{key:"ngOnDestroy",value:function(){this.avatarSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ln)(C["\u0275\u0275directiveInject"](k.a),C["\u0275\u0275directiveInject"](Tt.c))},ln.\u0275cmp=C["\u0275\u0275defineComponent"]({type:ln,selectors:[["app-personal-photo"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](fn,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.previousActiveElement=n.first)},decls:6,vars:6,consts:[[1,"details-img"],[3,"additionalImgClass","imgPath","firstName"],[1,"edit-image-button",3,"click"],["editImage",""]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275element"](1,"app-user-profile-image",1),C["\u0275\u0275elementStart"](2,"button",2,3),C["\u0275\u0275listener"]("click",(function(){return t.openEditPhoto()})),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("additionalImgClass","big")("imgPath",t.avatarImg)("firstName",t.userName),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](5,4,"user.edit-profile.edit-button")," "))},directives:[ne.a],pipes:[d.d],styles:[".details-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.details-img[_ngcontent-%COMP%]   .edit-image-button[_ngcontent-%COMP%]{margin-top:8px;color:var(--primary-green);background-color:var(--primary-white);border:1px solid var(--primary-white);padding:8px 24px;box-sizing:border-box;border-radius:4px;font-style:normal;font-weight:400;font-size:16px;line-height:20px;width:148px}.details-img[_ngcontent-%COMP%]   .edit-image-button[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-green)}@media screen and (max-width:320px){.details-img[_ngcontent-%COMP%]{margin-top:24px;align-items:center}}"]}),ln),vn=n("jOOL"),bn=["socialLink"];function xn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",4),C["\u0275\u0275elementStart"](1,"a",5),C["\u0275\u0275element"](2,"img",6),C["\u0275\u0275elementStart"](3,"p"),C["\u0275\u0275text"](4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",7),C["\u0275\u0275elementStart"](6,"button",8),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).onEditLink(e)})),C["\u0275\u0275element"](7,"img",9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"button",10),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).onDeleteLink(e)})),C["\u0275\u0275element"](9,"img",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("href",i.url,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",r.getSocialImage(i),C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](r.replaceHttp(i.url)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",r.editedSocialLink),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",r.icons.edit,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",r.icons.delete,C["\u0275\u0275sanitizeUrl"])}}function yn(e,t){if(1&e&&(C["\u0275\u0275elementContainerStart"](0),C["\u0275\u0275template"](1,xn,10,6,"div",3),C["\u0275\u0275elementContainerEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.socialNetworks)}}function Cn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span",21),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){C["\u0275\u0275nextContext"]();var n=C["\u0275\u0275reference"](6),i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](2,1,i.getErrorMessage(n.errors))," ")}}function _n(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",12),C["\u0275\u0275elementStart"](1,"div",13),C["\u0275\u0275elementStart"](2,"label",14),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"input",15,16),C["\u0275\u0275listener"]("ngModelChange",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().inputTextValue=e})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](7,Cn,3,3,"span",17),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",18),C["\u0275\u0275elementStart"](9,"button",19),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onCloseForm()})),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"button",20),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onAddLink()})),C["\u0275\u0275text"](13),C["\u0275\u0275pipe"](14,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275reference"](6),r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](4,7,"user.edit-profile.label-tip")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngModel",r.inputTextValue)("pattern",r.urlValidationRegex),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",null!==i.errors&&i.touched),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](11,9,"user.edit-profile.btn.cancel")," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",r.socialNetworks&&r.socialNetworks.length>=5||i.errors),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](14,11,"user.edit-profile.btn.add")," ")}}function Mn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",22),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onToggleInput()})),C["\u0275\u0275element"](1,"img",23),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("disabled",i.socialNetworks&&i.socialNetworks.length>=5),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",i.icons.add,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](3,3,"user.edit-profile.add-link")," ")}}var Pn,wn,On=((Pn=function(){function e(t){_classCallCheck(this,e),this.dialog=t,this.icons={edit:"./assets/img/profile/icons/edit.svg",add:"./assets/img/profile/icons/add.svg",delete:"./assets/img/profile/icons/delete.svg",defaultIcon:"./assets/img/profile/icons/default_social.svg"},this.urlValidationRegex=/^(https?):\/\/(-\.)?([^\s\/?\.#]+\.?)+(\/[^\s]*)?$/i,this.showInput=!1,this.editedSocialLink=!1,this.socialNetworks=[],this.socialNetworksChange=new C.EventEmitter}return _createClass(e,[{key:"onChange",value:function(e){}},{key:"writeValue",value:function(e){}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"onEditLink",value:function(e){this.onChange(e),this.onToggleInput(!0),this.inputTextValue=e.url,this.editedSocialLink=e.url,this.onFilterSocialLink(e)}},{key:"onDeleteLink",value:function(e){var t=this;this.onChange(e),this.dialog.open(vn.a,{hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:"user.edit-profile.delete-popup.title",popupConfirm:"user.edit-profile.btn.yes",popupCancel:"user.edit-profile.btn.cancel"}}).afterClosed().pipe(Object(x.a)(1)).subscribe((function(n){n&&t.onFilterSocialLink(e)}))}},{key:"onFilterSocialLink",value:function(e){this.socialNetworks=this.socialNetworks.filter((function(t){return e.url!==t.url})),this.onEmitSocialNetworksChange()}},{key:"onToggleInput",value:function(e){this.showInput=arguments.length>0?e:!this.showInput}},{key:"getSocialImage",value:function(e){return e&&e.socialNetworkImage&&""===e.socialNetworkImage.imagePath?this.icons.defaultIcon:e.socialNetworkImage.imagePath}},{key:"onCloseForm",value:function(){this.editedSocialLink&&(this.onAddLink(this.editedSocialLink),this.editedSocialLink=!1),this.onToggleInput(!1),this.inputTextValue=""}},{key:"getErrorMessage",value:function(e){var t="user.edit-profile.input-validation-";return Object.keys(e).forEach((function(e){t+=e})),t}},{key:"onAddLink",value:function(e){this.onChange(e);var t=e||this.inputTextValue;if(!this.checkIsUrl(t)||this.onCheckForExisting(t))return this.socialLink.control.setErrors({"non-unique":!0});this.socialNetworks.push({url:t,socialNetworkImage:{imagePath:this.icons.defaultIcon}}),this.onEmitSocialNetworksChange(),this.editedSocialLink=!1,this.onCloseForm()}},{key:"replaceHttp",value:function(e){return e.replace(/(https|http):\/\//i,"")}},{key:"onEmitSocialNetworksChange",value:function(){this.socialNetworksChange.emit(this.createArrayWithUrl())}},{key:"checkIsUrl",value:function(e){return this.urlValidationRegex.test(e)}},{key:"onCheckForExisting",value:function(e){return this.socialNetworks.some((function(t){return e===t.url}))}},{key:"createArrayWithUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.socialNetworks,t=[];return Object.values(e).forEach((function(e){return t.push(e.url)})),t}}]),e}()).\u0275fac=function(e){return new(e||Pn)(C["\u0275\u0275directiveInject"](Tt.c))},Pn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Pn,selectors:[["app-social-networks"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](bn,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.socialLink=n.first)},inputs:{socialNetworks:"socialNetworks"},outputs:{socialNetworksChange:"socialNetworksChange"},features:[C["\u0275\u0275ProvidersFeature"]([{provide:dn.r,multi:!0,useExisting:Object(C.forwardRef)((function(){return Pn}))}])],decls:4,vars:3,consts:[[4,"ngIf"],["class","social_network-add-wrp",4,"ngIf"],["class","add-button social-btn","type","button",3,"disabled","click",4,"ngIf"],["class","social_network-wrp",4,"ngFor","ngForOf"],[1,"social_network-wrp"],["target","_blank","rel","noopener",1,"social_network-link-text",3,"href"],["alt","Social image",1,"social-img",3,"src"],[1,"social_network-edit-wrp"],["type","button",1,"edit-button","social-btn",3,"disabled","click"],["alt","edit-icon",1,"edit-button-img",3,"src"],["type","button",1,"delete-button",3,"click"],["alt","delete-icon",1,"delete-button-img",3,"src"],[1,"social_network-add-wrp"],[1,"social_network-add-input-wrp"],["for","socialLink"],["id","socialLink","type","text","placeholder","https://www.facebook.com/grencity","name","text","required","",1,"form-control",3,"ngModel","pattern","ngModelChange"],["socialLink","ngModel"],["class","social_network-input-error",4,"ngIf"],[1,"social_network-btn-wrp"],["type","button",1,"secondary-global-button",3,"click"],["type","button",1,"primary-global-button",3,"disabled","click"],[1,"social_network-input-error"],["type","button",1,"add-button","social-btn",3,"disabled","click"],["alt","add-icon",1,"social-img-add",3,"src"]],template:function(e,t){1&e&&(C["\u0275\u0275template"](0,yn,2,1,"ng-container",0),C["\u0275\u0275elementStart"](1,"div"),C["\u0275\u0275template"](2,_n,15,13,"div",1),C["\u0275\u0275template"](3,Mn,4,5,"button",2),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275property"]("ngIf",t.socialNetworks&&t.socialNetworks.length>0),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.showInput),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.showInput))},directives:[s.u,s.t,dn.d,dn.E,dn.t,dn.w,dn.A],pipes:[d.d],styles:[".social_network-wrp[_ngcontent-%COMP%]{display:grid;grid-template-columns:calc(100% - 47px) 47px;margin-bottom:20px}.secondary-global-button[_ngcontent-%COMP%]{background:transparent}.social_network-link-text[_ngcontent-%COMP%]{color:#494b4a;width:190px;display:flex;align-items:center}.social_network-link-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;margin:0;overflow:hidden}.social_network-edit-wrp[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.social_network-add-wrp[_ngcontent-%COMP%]{display:grid;grid-template-rows:50px auto;row-gap:20px}.social_network-add-wrp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:capitalize;height:32px;padding-left:24px;padding-right:24px;margin-left:24px}.social_network-btn-wrp[_ngcontent-%COMP%]{margin:0 0 0 auto}.social_network-add-input-wrp[_ngcontent-%COMP%]{display:flex;flex-direction:column}.social_network-add-input-wrp[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:12px;line-height:16px;color:var(--primary-dark-grey);margin-bottom:4px}.social-btn[_ngcontent-%COMP%]{display:flex;align-items:center}.social-btn[_ngcontent-%COMP%]:disabled{filter:grayscale(100%)}.delete-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:none;padding:0}.add-button[_ngcontent-%COMP%]{border:transparent;background-color:transparent;padding:0;color:#046c33}.add-button[_ngcontent-%COMP%]:focus{outline:none}.social-img[_ngcontent-%COMP%]{height:24px;min-width:24px;width:24px;filter:grayscale(100%);margin-right:16px;border-radius:3px}.social-img-add[_ngcontent-%COMP%]{height:26px;width:26px;margin-right:16px}.link-text[_ngcontent-%COMP%]{color:var(--primary-dark-grey);font-family:var(--primary-font);font-size:14px;line-height:24px;margin-left:16px}.social_network-input-error[_ngcontent-%COMP%]{color:var(--error-ligh-red);font-family:var(--primary-font);font-size:10px;line-height:12px}.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid var(--error-ligh-red)}@media (min-width:375px){.social_network-link-text[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:75%}}"]}),Pn),kn=function(){return{"margin-bottom":"41px"}},Sn=function(){return{"margin-bottom":"53px"}},In=((wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var a;return _classCallCheck(this,n),(a=t.call(this,r,i)).injector=e,a.dialog=i,a.router=r,a.editProfileForm=null,a.userInfo={id:0,avatarUrl:"./assets/img/profileAvatarBig.png",name:{first:"Brandier",last:"Webb"},location:"Lviv",status:"online",rate:658,userCredo:"My Credo is to make small steps that leads to huge impact. Let\u2019s change the world together."},a.previousPath="/profile",a.popupConfig={hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"popup-dialog-container",data:{popupTitle:"user.edit-profile.profile-popup.title",popupSubtitle:"user.edit-profile.profile-popup.subtitle",popupConfirm:"user.edit-profile.profile-popup.confirm",popupCancel:"user.edit-profile.profile-popup.cancel"}},a.socialNetworksToServer=[],a.checkLocation=!1,a.checkEcoPlaces=!1,a.checkShoppingList=!1,a.namePattern=/^(?!\.)(?!.*\.$)(?!.*?\.\.)[\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f0-9.\ '\u2019-]{6,30}$/,a.cityPattern=/^[\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f][\u0456\u0406\u0454\u0404\u0457\u0407\u0451\u0401a-zA-Z\u0430-\u044f\u0410-\u042f\-,\u2019)( ]*$/,a.builder=e.get(pn),a.editProfileService=e.get(un.a),a.profileService=e.get(k.a),a.snackBar=e.get(A.a),a.localStorageService=e.get(w.a),a.translate=e.get(d.e),a.ngZone=e.get(C.NgZone),a}return _createClass(n,[{key:"ngOnInit",value:function(){this.setupInitialValue(),this.getInitialValue(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.options={types:["(cities)"],componentRestrictions:{country:"UA"}}}},{key:"ngDoCheck",value:function(){this.checkLocation=this.editProfileForm.value.showLocation,this.checkEcoPlaces=this.editProfileForm.value.showEcoPlace,this.checkShoppingList=this.editProfileForm.value.showShoppingList}},{key:"getFormValues",value:function(){return{firstName:this.editProfileForm.value.name,city:this.editProfileForm.value.city,userCredo:this.editProfileForm.value.credo,showLocation:this.editProfileForm.value.showLocation,showEcoPlace:this.editProfileForm.value.showEcoPlace,showShoppingList:this.editProfileForm.value.showShoppingList,socialNetworks:this.editProfileForm.value.socialNetworks}}},{key:"getFormInitialValues",value:function(e){this.initialValues={firstName:e.firstName,get city(){return null===e.city?"":e.city},get userCredo(){return null===e.userCredo?"":e.userCredo},showLocation:e.showLocation,showEcoPlace:e.showEcoPlace,showShoppingList:e.showShoppingList,socialNetworks:e.socialNetworks}}},{key:"onCityChange",value:function(e){this.cityName=e.formatted_address.split(",")[0]}},{key:"emitSocialLinks",value:function(e){this.socialNetworksToServer=e}},{key:"setupInitialValue",value:function(){this.editProfileForm=this.builder.getProfileForm()}},{key:"getInitialValue",value:function(){var e=this;this.profileService.getUserInfo().pipe(Object(x.a)(1)).subscribe((function(t){t&&(e.setupExistingData(t),e.socialNetworks=t.socialNetworks,e.getFormInitialValues(t))}))}},{key:"setupExistingData",value:function(e){this.editProfileForm=this.builder.getEditProfileForm(e)}},{key:"onSubmit",value:function(){this.areChangesSaved=!0,this.sendFormData(this.editProfileForm)}},{key:"sendFormData",value:function(e){var t=this;this.editProfileService.postDataUserProfile(JSON.stringify({city:e.value.city,name:e.value.name,userCredo:e.value.credo,showLocation:e.value.showLocation,showEcoPlace:e.value.showEcoPlace,showShoppingList:e.value.showShoppingList,socialNetworks:this.socialNetworksToServer})).subscribe((function(){t.router.navigate(["profile",t.profileService.userId]),t.snackBar.openSnackBar("changesSaved"),t.localStorageService.setFirstName(e.value.name)}))}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}},{key:"subscribeToLangChange",value:function(){var e=this;this.langChangeSub=this.localStorageService.languageSubject.subscribe((function(t){return e.bindLang(t)}))}},{key:"ngOnDestroy",value:function(){this.langChangeSub.unsubscribe()}}]),n}(hn.a)).\u0275fac=function(e){return new(e||wn)(C["\u0275\u0275directiveInject"](C.Injector),C["\u0275\u0275directiveInject"](Tt.c),C["\u0275\u0275directiveInject"](I.g))},wn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:wn,selectors:[["app-edit-profile"]],features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:73,vars:60,consts:[[1,"container","p-0"],[1,"edit_prof-container"],[1,"edit_prof-wrap"],[3,"formGroup","ngSubmit","keydown.enter"],["formEditProf",""],[1,"wrapper"],[1,"input-block",3,"ngStyle"],["for","name"],["type","text","formControlName","name","id","name",3,"placeholder","pattern"],["for","city"],["type","text","formControlName","city","autocorrect","off","autocapitalize","off","spellcheck","false","id","city",3,"placeholder","pattern"],["search",""],[1,"input-block"],["for","credo"],["formControlName","credo","id","credo",3,"placeholder"],["formControlName","socialNetworks","ngDefaultControl","",3,"socialNetworks","socialNetworksChange"],[1,"privacy-wrapper"],[1,"title"],[1,"label-wrapper"],["type","checkbox","formControlName","showLocation"],[1,"checkmark"],["type","checkbox","formControlName","showEcoPlace"],["type","checkbox","formControlName","showShoppingList"],[1,"buttons"],["type","button",3,"click"],["type","submit",3,"disabled"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"h2"),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](6,"app-personal-photo"),C["\u0275\u0275elementStart"](7,"form",3,4),C["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()}))("keydown.enter",(function(e){return e.preventDefault()})),C["\u0275\u0275elementStart"](9,"div",5),C["\u0275\u0275elementStart"](10,"p"),C["\u0275\u0275text"](11),C["\u0275\u0275pipe"](12,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",6),C["\u0275\u0275elementStart"](14,"label",7),C["\u0275\u0275text"](15),C["\u0275\u0275pipe"](16,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](17,"input",8),C["\u0275\u0275elementStart"](18,"span"),C["\u0275\u0275text"](19),C["\u0275\u0275pipe"](20,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",6),C["\u0275\u0275elementStart"](22,"label",9),C["\u0275\u0275text"](23),C["\u0275\u0275pipe"](24,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](25,"input",10,11),C["\u0275\u0275elementStart"](27,"span"),C["\u0275\u0275text"](28),C["\u0275\u0275pipe"](29,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](30,"div",12),C["\u0275\u0275elementStart"](31,"label",13),C["\u0275\u0275text"](32),C["\u0275\u0275pipe"](33,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](34,"textarea",14),C["\u0275\u0275elementStart"](35,"span"),C["\u0275\u0275text"](36),C["\u0275\u0275pipe"](37,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](38,"div",5),C["\u0275\u0275elementStart"](39,"p"),C["\u0275\u0275text"](40),C["\u0275\u0275pipe"](41,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](42,"app-social-networks",15),C["\u0275\u0275listener"]("socialNetworksChange",(function(e){return t.emitSocialLinks(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](43,"div",16),C["\u0275\u0275elementStart"](44,"p",17),C["\u0275\u0275text"](45),C["\u0275\u0275pipe"](46,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](47,"ul"),C["\u0275\u0275elementStart"](48,"li"),C["\u0275\u0275elementStart"](49,"label",18),C["\u0275\u0275element"](50,"input",19),C["\u0275\u0275element"](51,"span",20),C["\u0275\u0275text"](52),C["\u0275\u0275pipe"](53,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](54,"li"),C["\u0275\u0275elementStart"](55,"label",18),C["\u0275\u0275element"](56,"input",21),C["\u0275\u0275element"](57,"span",20),C["\u0275\u0275text"](58),C["\u0275\u0275pipe"](59,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](60,"li"),C["\u0275\u0275elementStart"](61,"label",18),C["\u0275\u0275element"](62,"input",22),C["\u0275\u0275element"](63,"span",20),C["\u0275\u0275text"](64),C["\u0275\u0275pipe"](65,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](66,"div",23),C["\u0275\u0275elementStart"](67,"button",24),C["\u0275\u0275listener"]("click",(function(){return t.cancel()})),C["\u0275\u0275text"](68),C["\u0275\u0275pipe"](69,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](70,"button",25),C["\u0275\u0275text"](71),C["\u0275\u0275pipe"](72,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](5,28,"user.edit-profile.edit-profile")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("formGroup",t.editProfileForm),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](12,30,"user.edit-profile.info")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngStyle",C["\u0275\u0275pureFunction0"](58,kn)),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](16,32,"user.edit-profile.name")),C["\u0275\u0275advance"](2),C["\u0275\u0275propertyInterpolate"]("placeholder",t.userInfo.name.first+" "+t.userInfo.name.last),C["\u0275\u0275property"]("pattern",t.namePattern),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](20,34,"user.edit-profile.name-warning")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngStyle",C["\u0275\u0275pureFunction0"](59,Sn)),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](24,36,"user.edit-profile.city")),C["\u0275\u0275advance"](2),C["\u0275\u0275propertyInterpolate"]("placeholder",t.userInfo.location),C["\u0275\u0275property"]("pattern",t.cityPattern),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](29,38,"user.edit-profile.city-warning")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](33,40,"user.edit-profile.title")),C["\u0275\u0275advance"](2),C["\u0275\u0275propertyInterpolate"]("placeholder",t.userInfo.userCredo),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](37,42,"user.edit-profile.title-warning")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](41,44,"user.edit-profile.links")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("socialNetworks",t.socialNetworks),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](46,46,"user.edit-profile.privacy")),C["\u0275\u0275advance"](5),C["\u0275\u0275attribute"]("checked",t.checkLocation),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](53,48,"user.edit-profile.location")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275attribute"]("checked",t.checkEcoPlaces),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](59,50,"user.edit-profile.eco-place")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275attribute"]("checked",t.checkShoppingList),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](65,52,"user.edit-profile.shopping-list")," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](69,54,"user.edit-profile.btn.cancel")," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!t.editProfileForm.valid||t.editProfileForm.pristine),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](72,56,"user.edit-profile.btn.save")," "))},directives:[mn,dn.J,dn.u,dn.l,s.x,dn.d,dn.t,dn.j,dn.A,On,dn.b],pipes:[d.d],styles:['.checkmark[_ngcontent-%COMP%]{border:1px solid var(--primary-green);border-radius:4px;height:20px;width:20px;margin-right:12px}.checkmark[_ngcontent-%COMP%]:after{border:solid #fff;border-width:0 2px 2px 0;content:"";display:none;height:12px;left:6px;position:absolute;top:4px;transform:rotate(45deg);width:7px}input[type=checkbox][_ngcontent-%COMP%]{height:0;opacity:0;width:0}input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--primary-green)}input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.edit_prof-container[_ngcontent-%COMP%]{width:100%}.edit_prof-wrap[_ngcontent-%COMP%]{max-width:554px;box-sizing:content-box}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e3;margin-top:40px;padding-bottom:40px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:24px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:12px;height:16px;line-height:16px;margin:0}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--secondary-grey);border-radius:5px;box-sizing:border-box;font-family:var(--primary-font);font-size:16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:48px;padding:12px 40px 12px 16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:115px;padding:12px 16px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:10px;height:12px;line-height:12px;color:var(--secondary-grey)}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid var(--error-red)!important}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:var(--error-dark-red)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid var(--primary-green);box-sizing:border-box;border-radius:5px;font-family:var(--primary-font);font-style:normal;font-weight:600;font-size:16px;height:48px;line-height:16px;margin:32px 0 16px 24px;width:132px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#fff;color:var(--primary-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:var(--primary-green);color:#fff}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{border:1px solid var(--secondary-dark-green);color:var(--secondary-dark-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:disabled{border:1px solid var(--primary-grey);color:var(--primary-grey)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:var(--secondary-dark-green)}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:disabled{background:var(--primary-grey);border:1px solid var(--primary-grey)}h2[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;height:48px;font-size:2.1em;line-height:48px;margin-bottom:40px;color:var(--primary-dark-grey)}.privacy-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e3;margin-top:40px;padding-bottom:40px}.privacy-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:24px}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0;padding:0;list-style-type:none!important}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:24px}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .label-wrapper[_ngcontent-%COMP%]{color:var(--primary-dark-grey);cursor:pointer;font-family:var(--primary-font);font-size:16px;line-height:24px;margin:0;position:relative;display:flex;align-items:center}@media screen and (max-width:576px){.edit_prof-wrap[_ngcontent-%COMP%]{padding:0 5%}}@media screen and (max-width:320px){.edit_prof-wrap[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px;line-height:32px;text-align:center}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px}.edit_prof-wrap[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-direction:column}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;width:288px}.edit_prof-wrap[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0 0 8px}.edit_prof-wrap[_ngcontent-%COMP%]   .privacy-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .label-wrapper[_ngcontent-%COMP%]{font-size:14px}}']}),wn);n("Nu1B"),n("Txnn"),n("8gFn"),n("dbUT");var En,Fn=n("QibW"),Dn=n("q5jP"),An=((En=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||En)},En.\u0275cmp=C["\u0275\u0275defineComponent"]({type:En,selectors:[["app-user-component"]],decls:1,vars:0,template:function(e,t){1&e&&C["\u0275\u0275element"](0,"router-outlet")},directives:[I.l],encapsulation:2}),En),Ln=function(e){return{"current-day-name":e}};function Tn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",13),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=C["\u0275\u0275nextContext"](2);C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,Ln,n===i.currentDayName)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",n," ")}}function zn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",11),C["\u0275\u0275template"](1,Tn,2,4,"div",12),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.daysName)}}function jn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",16),C["\u0275\u0275listener"]("click",(function(e){C["\u0275\u0275restoreView"](n);var i=t.$implicit;return C["\u0275\u0275nextContext"](2).showHabits(e,i)})),C["\u0275\u0275elementStart"](1,"span"),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275property"]("ngClass",r.chooseDisplayClass(i)),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",i.numberOfDate," ")}}var Nn=function(e){return{disabled:e}};function Bn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",14),C["\u0275\u0275template"](1,jn,3,2,"div",15),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,Nn,n.checkAnswer)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.calendarDay)}}var Rn=function(e){return{"current-month":e}};function Vn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",19),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).buildSelectedMonthCalendar(e)})),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](2,Rn,i===r.activeMonth&&r.currentYear)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",i," ")}}function Hn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275template"](1,Vn,3,4,"div",18),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.monthsCalendar)}}var qn,Wn=((qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,i,r,a)).translate=e,o.languageService=i,o.habitAsignService=r,o.dialog=a,o}return _createClass(n,[{key:"ngOnInit",value:function(){this.bindDefaultTranslate(),this.subscribeToLangChange(),this.buildCalendar(),this.getUserHabits(!0,this.calendarDay)}},{key:"showHabits",value:function(e,t){this.checkCanOpenPopup(t)&&this.openDialogDayHabits(e,!0,t)}}]),n}(Lt.a)).\u0275fac=function(e){return new(e||qn)(C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](Z.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](Tt.c))},qn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:qn,selectors:[["app-habit-calendar"]],features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:6,consts:[[1,"calendar"],[1,"top"],[1,"month-year"],[3,"click"],["alt","arrow previous",1,"arrow-previous",3,"src"],[1,"monthAndYear",3,"click"],["alt","arrow next",1,"arrow-next",3,"src"],["class","days",4,"ngIf"],[1,"middle"],["class","calendar-grid",3,"ngClass",4,"ngIf"],["class","calendar-grid-month",4,"ngIf"],[1,"days"],["class","days-name",3,"ngClass",4,"ngFor","ngForOf"],[1,"days-name",3,"ngClass"],[1,"calendar-grid",3,"ngClass"],["class","calendar-grid-day",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"calendar-grid-day",3,"ngClass","click"],[1,"calendar-grid-month"],[4,"ngFor","ngForOf"],[1,"calendar-grid-month-view",3,"ngClass","click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275listener"]("click",(function(){return t.monthView?t.previousMonth():t.previousYear()})),C["\u0275\u0275element"](4,"img",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"span",5),C["\u0275\u0275listener"]("click",(function(){return t.toggleCalendarView()})),C["\u0275\u0275text"](6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",3),C["\u0275\u0275listener"]("click",(function(){return t.monthView?t.nextMonth():t.nextYear()})),C["\u0275\u0275element"](8,"img",6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](9,zn,2,1,"div",7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",8),C["\u0275\u0275template"](11,Bn,2,4,"div",9),C["\u0275\u0275template"](12,Hn,2,1,"div",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("src",t.calendarImages.arrowPrevious,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",t.monthView?t.monthAndYearName:t.yearData," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.calendarImages.arrowNext,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.monthView),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.monthView),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.monthView))},directives:[s.u,s.t,s.r],styles:[".calendar[_ngcontent-%COMP%]{display:block;background:var(--primary-white);box-shadow:1px 4px 8px var(--quintynary-dark-grey);border-radius:4px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-previous[_ngcontent-%COMP%]{margin-top:22px;margin-left:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:13px;line-height:13px;color:var(--primary-dark-grey);margin-top:15px;margin-bottom:12px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]{margin-top:22px;margin-right:18px;margin-bottom:16px;cursor:pointer}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);justify-content:center;text-align:center;font-size:11px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .days-name[_ngcontent-%COMP%]{margin:0;font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:12px;color:var(--tertiary-light-grey)}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .current-day-name[_ngcontent-%COMP%]{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:none;pointer-events:none;opacity:.7}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding-bottom:5px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,24px);grid-auto-rows:24px;grid-row-gap:5px;justify-content:space-around;margin:8px 0 0;padding:0 3px;font-family:var(--secondary-font);font-size:11px;line-height:13px;color:var(--primary-dark-grey);text-align:center}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:hover{color:var(--primary-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]{background-color:var(--primary-green);border-radius:50%;background-repeat:no-repeat;background-position:50%;color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:hover{color:var(--primary-white)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .current-day[_ngcontent-%COMP%]:active{color:var(--secondary-dark-green)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,23px);grid-template-rows:repeat(4,13px);grid-row-gap:32px;grid-column-gap:47px;justify-content:center;margin:32px 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .calendar-grid-month-view[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-weight:600;font-size:11px;line-height:13px;color:var(--secondary-grey);text-align:center;text-transform:uppercase;cursor:pointer}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid-month[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{color:var(--primary-green)}.enrolled-day[_ngcontent-%COMP%]{background-color:var(--primary-light-green);color:var(--primary-dark-grey)}.enrolled-day[_ngcontent-%COMP%], .unenrolled-day[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;border-radius:50%}.unenrolled-day[_ngcontent-%COMP%]{background-color:var(--quaternary-light-grey)}.enrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--primary-light-green);border-radius:50%}.enrolled-past-day[_ngcontent-%COMP%], .unenrolled-past-day[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%}.unenrolled-past-day[_ngcontent-%COMP%]{border:1px solid var(--quaternary-light-grey);border-radius:50%}@media only screen and (min-width:1200px){.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,35px)}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{padding:0 8px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:6px 0 0;font-size:13px}}.backdropBackground[_ngcontent-%COMP%]{background:none}",".calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:416px;max-height:316px;height:316px;background-color:#fbfbfb;border-radius:5px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]   .monthAndYear[_ngcontent-%COMP%]{font-size:16px}.calendar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{grid-template-columns:repeat(7,52px);margin:0 9px 0 22px;padding:7px 0 0}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{align-self:center;padding-top:24px}.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,30px);grid-row-gap:8px;grid-column-gap:25px;grid-auto-rows:28px;font-size:16px;margin:0}@media screen and (max-width:1024px){.calendar[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-grid-day[_ngcontent-%COMP%]{padding:7px 1px 0 0}}"]}),qn);function Un(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",10),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().enroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](1,"div",11),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](i.habitMark),C["\u0275\u0275property"]("disabled",i.isRequest),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,5,"user.habit.one-habit.done"))}}function $n(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"button",10),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().unenroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](1,"div",12),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](i.habitMark),C["\u0275\u0275property"]("disabled",i.isRequest),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate2"]("",i.habit.habitStreak," ",C["\u0275\u0275pipeBind1"](3,6,"user.habit.one-habit.good"),"")}}function Yn(e,t){if(1&e&&(C["\u0275\u0275element"](0,"div"),C["\u0275\u0275elementStart"](1,"div",12),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275classMap"](n.habitMark),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,4,"user.habit.one-habit.great"))}}var Gn,Qn=((Gn=function(){function e(t){var n=this;_classCallCheck(this,e),this.habitAssignService=t,this.indicator=7,this.isRequest=!1,this.descriptionType={acquired:function(){n.daysCounter=n.habit.duration,n.showPhoto=!1,n.habitMark=Be.AQUIRED},done:function(){n.daysCounter=n.habit.workingDays,n.showPhoto=!1,n.habitMark=Be.DONE},undone:function(){n.daysCounter=n.habit.workingDays,n.showPhoto=!0,n.habitMark=Be.UNDONE}},this.nowAcquiredHabit=new C.EventEmitter}return _createClass(e,[{key:"buildHabitDescription",value:function(){var e=this,t=this.habit.habitStatusCalendarDtoList.some((function(t){return t.enrollDate===e.currentDate}));this.habit.status===ke.ACQUIRED?this.descriptionType.acquired():this.habit.status===ke.INPROGRESS&&(t?this.descriptionType.done():this.descriptionType.undone())}},{key:"enroll",value:function(){var e=this;this.isRequest=!0,this.habitAssignService.enrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(x.a)(1)).subscribe((function(t){t.status===ke.ACQUIRED?(e.descriptionType.acquired(),e.nowAcquiredHabit.emit(t)):(e.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,e.habit.workingDays=t.workingDays,e.habit.habitStreak=t.habitStreak,e.buildHabitDescription(),e.isRequest=!1)}))}},{key:"unenroll",value:function(){var e=this;this.isRequest=!0,this.habitAssignService.unenrollByHabit(this.habit.habit.id,this.currentDate).pipe(Object(x.a)(1)).subscribe((function(t){e.habit.habitStatusCalendarDtoList=t.habitStatusCalendarDtoList,e.habit.workingDays=t.workingDays,e.habit.habitStreak=t.habitStreak,e.buildHabitDescription(),e.isRequest=!1}))}}]),e}()).\u0275fac=function(e){return new(e||Gn)(C["\u0275\u0275directiveInject"](S.a))},Gn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Gn,selectors:[["app-habit-progress"]],inputs:{habit:"habit"},outputs:{nowAcquiredHabit:"nowAcquiredHabit"},decls:13,vars:6,consts:[[1,"progressHabit"],[1,"progressText"],[1,"markAsDone",3,"ngSwitch"],["ngSwitchCase","undone"],["ngSwitchCase","done"],["ngSwitchDefault","aquired"],[1,"calendar"],[1,"daysDuration"],[1,"indicator"],[1,"startLine"],[3,"disabled","click"],[1,"grey"],[1,"green"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",2),C["\u0275\u0275template"](5,Un,4,7,"ng-template",3),C["\u0275\u0275template"](6,$n,4,8,"ng-template",4),C["\u0275\u0275template"](7,Yn,4,6,"ng-template",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275element"](9,"app-habit-calendar"),C["\u0275\u0275elementStart"](10,"div",7),C["\u0275\u0275element"](11,"div",8),C["\u0275\u0275element"](12,"div",9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,4,"user.habit.progress-title")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngSwitch",t.habitMark),C["\u0275\u0275advance"](7),C["\u0275\u0275styleProp"]("height",t.indicator,"%"))},directives:[s.y,s.z,s.A,Wn],pipes:[d.d],styles:[".progressHabit[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin-bottom:40px;height:32px}.progressHabit[_ngcontent-%COMP%]   .progressText[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%], .progressHabit[_ngcontent-%COMP%]   .progressText[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;line-height:24px;display:flex;align-items:center}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--primary-green)}.progressHabit[_ngcontent-%COMP%]   .markAsDone[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:9px}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;width:38px;height:317px;background:#e6ebea;border-radius:4px}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:38px;background-color:var(--primary-green);border-radius:4px 4px 0 0}.calendar[_ngcontent-%COMP%]   .daysDuration[_ngcontent-%COMP%]   .startLine[_ngcontent-%COMP%]{width:38px;height:4px;background:linear-gradient(180deg,#13aa57 -137.5%,rgba(215,254,60,.47));border-radius:0 0 4px 4px}"]}),Gn);function Xn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"li"),C["\u0275\u0275elementStart"](1,"mat-checkbox",7),C["\u0275\u0275listener"]("ngModelChange",(function(e){return C["\u0275\u0275restoreView"](n),t.$implicit.added=e}))("ngModelChange",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().updateAllAdd()})),C["\u0275\u0275elementStart"](2,"div",8),C["\u0275\u0275element"](3,"app-user-profile-image",9),C["\u0275\u0275elementStart"](4,"p",10),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngModel",i.added),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("imgPath",i.profilePicture)("firstName",i.name)("additionalImgClass","friend-user-profile"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](i.name)}}var Kn,Zn=((Kn=function(){function e(t,n){_classCallCheck(this,e),this.userFriendsService=t,this.localStorageService=n,this.destroyed$=new xe.a,this.allAdd=!1,this.addedFriends=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUserId(),this.getFriends()}},{key:"getUserId",value:function(){this.userId=this.localStorageService.getUserId()}},{key:"getFriends",value:function(){var e=this;this.userFriendsService.getAllFriends(this.userId).pipe(Object(M.a)(this.destroyed$)).subscribe((function(t){e.friends=t.page}))}},{key:"updateAllAdd",value:function(){this.allAdd=null!==this.friends&&this.friends.every((function(e){return e.added}))}},{key:"someAdd",value:function(){if(this.friends)return this.friends.filter((function(e){return e.added})).length>0&&!this.allAdd}},{key:"setAll",value:function(e){if(this.allAdd=e,this.friends)return this.friends.map((function(t){return t.added=e}))}},{key:"setAddedFriends",value:function(){var e=this;return this.friends.map((function(t){t.added&&e.userFriendsService.addedFriendsToHabit(t)}))}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Kn)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](w.a))},Kn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Kn,selectors:[["app-habit-invite-friends-pop-up"]],decls:14,vars:13,consts:[[1,"friends-images"],[1,"popup-section"],[1,"all-friends",3,"checked","indeterminate","change"],[4,"ngFor","ngForOf"],["align","end",1,"invite-popup-footer"],["mat-dialog-close","",1,"btn","btn-outline-success"],["cdkFocusInitial","",1,"btn","btn-success",3,"mat-dialog-close","click"],[3,"ngModel","ngModelChange"],[1,"friend"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-name"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"section",1),C["\u0275\u0275elementStart"](2,"mat-checkbox",2),C["\u0275\u0275listener"]("change",(function(e){return t.setAll(e.checked)})),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"ul"),C["\u0275\u0275template"](6,Xn,6,5,"li",3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"mat-dialog-actions",4),C["\u0275\u0275elementStart"](8,"button",5),C["\u0275\u0275text"](9),C["\u0275\u0275pipe"](10,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"button",6),C["\u0275\u0275listener"]("click",(function(){return t.setAddedFriends()})),C["\u0275\u0275text"](12),C["\u0275\u0275pipe"](13,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("checked",t.allAdd)("indeterminate",t.someAdd()),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](4,7,"user.habit.invite.all")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.friends),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](10,9,"user.habit.invite.btn.cancel")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("mat-dialog-close",!0),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](13,11,"user.habit.invite.btn.invite")," "))},directives:[wt.a,s.t,Tt.d,Tt.e,dn.t,dn.w,ne.a],pipes:[d.d],styles:[".friends-images[_ngcontent-%COMP%]{width:360px;display:flex;justify-content:space-around;flex-wrap:wrap;box-sizing:border-box;padding:0}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]{margin:12px 0}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-height:200px;min-width:360px;overflow-y:auto;list-style-type:none;margin-top:4px}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .all-friends[_ngcontent-%COMP%]{padding-left:40px;margin:10px auto;font-size:24px;font-weight:500;color:var(--ubs-tertiary-light-green)}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 5px;color:var(--ubs-tertiary-light-green)}.friends-images[_ngcontent-%COMP%]   .popup-section[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:var(--primary-green)!important}.friends-images[_ngcontent-%COMP%]   .invite-popup-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around}.friends-images[_ngcontent-%COMP%]   .invite-popup-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]}),Kn);function Jn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275element"](1,"app-user-profile-image",8),C["\u0275\u0275elementStart"](2,"p",9),C["\u0275\u0275text"](3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("imgPath",n.profilePicture)("firstName",n.name)("additionalImgClass","friend-user-profile"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](n.name)}}var ei,ti,ni=((ti=function(){function e(t,n){_classCallCheck(this,e),this.userFriendsService=t,this.dialog=n,this.destroyed$=new xe.a,this.addedFriends=[]}return _createClass(e,[{key:"openInviteFriendsDialog",value:function(){var e=this;this.dialog.open(Zn,{hasBackdrop:!0}),this.dialog.afterAllClosed.pipe(Object(M.a)(this.destroyed$)).subscribe((function(){return e.getAddedFriends()}))}},{key:"getAddedFriends",value:function(){this.addedFriends=this.userFriendsService.addedFriends}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||ti)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](Tt.c))},ti.\u0275cmp=C["\u0275\u0275defineComponent"]({type:ti,selectors:[["app-habit-invite-friends"]],decls:14,vars:7,consts:[[1,"invite-container"],[1,"invite-title"],[1,"invite-content"],[1,"plus-circle"],["src","assets/img/icon/plus-circle.png","alt","plus-circle",3,"click"],[1,"invite-friends"],[4,"ngFor","ngForOf"],[1,"invite-detail"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-name"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"p"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",2),C["\u0275\u0275elementStart"](6,"div",3),C["\u0275\u0275elementStart"](7,"img",4),C["\u0275\u0275listener"]("click",(function(){return t.openInviteFriendsDialog()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",5),C["\u0275\u0275template"](9,Jn,4,4,"div",6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",7),C["\u0275\u0275elementStart"](11,"p"),C["\u0275\u0275text"](12),C["\u0275\u0275pipe"](13,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](4,3,"user.habit.invite.title")),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("ngForOf",t.addedFriends),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](13,5,"user.habit.invite.message")))},directives:[s.t,ne.a],pipes:[d.d],styles:[".invite-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:var(--secondary-grey)}.invite-container[_ngcontent-%COMP%]   .invite-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;line-height:24px;color:var(--primary-black)}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]{display:flex}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .invite-friends[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:400px;max-height:100px;overflow-y:auto}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .plus-circle[_ngcontent-%COMP%]{width:100px;margin:0 10px}.invite-container[_ngcontent-%COMP%]   .invite-content[_ngcontent-%COMP%]   .plus-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px auto;width:60px;height:60px}.invite-container[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{margin:5px;width:80px}.invite-container[_ngcontent-%COMP%]   .invite-detail[_ngcontent-%COMP%]{height:15px;margin:5px 10px}"]}),ti),ii=((ei=function(){function e(){_classCallCheck(this,e),this.list=[],this.list$=new xe.a}return _createClass(e,[{key:"fillList",value:function(e){this.list=e,this.list$.next(this.list)}},{key:"getList",value:function(){return this.list$.asObservable()}},{key:"addItem",value:function(e){this.list=[{status:"ACTIVE",text:e,selected:!1}].concat(_toConsumableArray(this.list)),this.list$.next(this.list)}},{key:"deleteItem",value:function(e){this.list=this.list.filter((function(t){return t.text!==e.text})),this.list$.next(this.list)}},{key:"select",value:function(e){e.selected=!e.selected}}]),e}()).\u0275fac=function(e){return new(e||ei)},ei.\u0275prov=C["\u0275\u0275defineInjectable"]({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei),ri=function(e,t){return{selected:e,done:t}};function ai(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"li"),C["\u0275\u0275elementStart"](1,"label",8),C["\u0275\u0275elementStart"](2,"input",9),C["\u0275\u0275listener"]("change",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"]().select(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](3,"span",10),C["\u0275\u0275elementStart"](4,"span",11),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"button",12),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"]().delete(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction2"](3,ri,"INPROGRESS"===i.status,"DONE"===i.status)),C["\u0275\u0275advance"](3),C["\u0275\u0275propertyInterpolate"]("ngbPopover",i.text),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](i.text)}}var oi,si,li,ci=((li=function(){function e(t,n,i,r,a,o){_classCallCheck(this,e),this.shoppinglistService=t,this.route=n,this.habitService=i,this.habitAssignService=r,this.localStorageService=a,this.translate=o,this.itemForm=new dn.k({item:new dn.h("",[dn.H.required,dn.H.minLength(3),dn.H.maxLength(18)])}),this.list=[],this.newList=new C.EventEmitter,this.destroySub=new xe.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscribeToLangChange(),this.route.params.subscribe((function(t){e.habitId=+t.habitId})),this.checkIfAssigned(),this.subscription=this.shoppinglistService.getList().pipe(Object(M.a)(this.destroySub)).subscribe((function(t){e.list=t,e.newList.emit(e.list)}))}},{key:"getListItems",value:function(e){e?this.getCustomItems():this.getDefaultItems()}},{key:"getDefaultItems",value:function(){var e=this;this.habitService.getHabitById(this.habitId).pipe(Object(x.a)(1)).subscribe((function(t){e.shoppinglistService.fillList(t.shoppingListItems)}))}},{key:"getCustomItems",value:function(){var e=this;this.habitAssignService.getCustomHabit(this.habitId).pipe(Object(x.a)(1)).subscribe((function(t){e.shoppinglistService.fillList(t.shoppingListItems)}))}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}},{key:"subscribeToLangChange",value:function(){var e=this;this.langChangeSub=this.localStorageService.languageSubject.subscribe((function(t){e.bindLang(t),e.checkIfAssigned()}))}},{key:"checkIfAssigned",value:function(){var e=this;this.habitAssignService.getAssignedHabits().pipe(Object(x.a)(1)).subscribe((function(t){t.some((function(t){return t.habit.id===e.habitId}))?e.getListItems(!0):e.getListItems(!1)}))}},{key:"add",value:function(e){this.shoppinglistService.addItem(e)}},{key:"delete",value:function(e){this.shoppinglistService.deleteItem(e)}},{key:"select",value:function(e){this.shoppinglistService.select(e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.langChangeSub.unsubscribe(),this.destroySub.next(!0),this.destroySub.complete()}}]),e}()).\u0275fac=function(e){return new(e||li)(C["\u0275\u0275directiveInject"](ii),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](O),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](d.e))},li.\u0275cmp=C["\u0275\u0275defineComponent"]({type:li,selectors:[["app-habit-edit-shopping-list"]],inputs:{habitShoppingListIniteal:"habitShoppingListIniteal"},outputs:{newList:"newList"},decls:10,vars:6,consts:[[1,"title"],[1,"checkbox-list"],[4,"ngFor","ngForOf"],[3,"formGroup"],["id","add-field","type","text","formControlName","item","autocomplete","off"],["newItem",""],["id","add-btn","type","submit","value","+",3,"disabled","click"],["btn",""],[3,"ngClass"],["type","checkbox",3,"change"],[1,"checkmark"],["triggers","mouseenter:mouseleave","placement","top","data-container","body",1,"text",3,"ngbPopover"],["id","del-btn",3,"click"]],template:function(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"ul",1),C["\u0275\u0275template"](4,ai,7,6,"li",2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"form",3),C["\u0275\u0275element"](6,"input",4,5),C["\u0275\u0275elementStart"](8,"input",6,7),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275reference"](7),i=C["\u0275\u0275reference"](9);return t.add(e.value),e.value="",i.disabled=!0})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](2,4,"user.habit.shopping")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.list),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("formGroup",t.itemForm),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",!t.itemForm.valid))},directives:[s.t,dn.J,dn.u,dn.l,dn.d,dn.t,dn.j,s.r,o.e],pipes:[d.d],styles:['.title[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:18px;line-height:24px;height:20px;margin-bottom:20px}.popover[_ngcontent-%COMP%]{font-size:25px}.checkbox-list[_ngcontent-%COMP%]{list-style-type:none;padding:0 0 19px;margin:0;overflow:hidden;overflow-y:scroll;height:115px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;margin:0 0 10px;height:30px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{height:17px;width:150px;font-style:normal;font-weight:400;font-size:14px;line-height:17px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;margin:0 0 20px;display:flex;align-items:center;cursor:pointer;position:relative}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:block;height:0;opacity:0;width:0}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{border:1px solid var(--primary-green);border-radius:1px;height:12px;width:12px;margin-right:8px}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{border:solid var(--primary-white);border-width:0 1px 1px 0;content:"";width:4px;height:7px;left:4px;top:4px;position:absolute;transform:rotate(45deg);display:none}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--primary-green)}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   #del-btn[_ngcontent-%COMP%]{height:12px;width:12px;background-image:url(cross.8201d04a22b54652b56f.svg);background-color:none;border:none;position:absolute;left:90%}form[_ngcontent-%COMP%]{position:relative;top:10px}form[_ngcontent-%COMP%]   #add-field[_ngcontent-%COMP%]{width:80%;height:26px;font-size:14px;padding:8px;border:1px solid var(--quintynary-light-grey);border-radius:4px}form[_ngcontent-%COMP%]   #add-btn[_ngcontent-%COMP%]{width:25px;height:25px;padding:0;border:none;border-radius:50%;background:var(--primary-green);color:var(--primary-white);margin-left:10px}.selected[_ngcontent-%COMP%]{color:var(--primary-green)}.done[_ngcontent-%COMP%]{text-decoration:line-through}@media (min-width:520px){.checkbox-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:60%;top:1260px}}@media (min-width:1180px){.checkbox-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;top:760px;left:80%}}']}),li),di=((si=function(){function e(t,n){_classCallCheck(this,e),this.elm=t,this.renderer=n,this.min=null,this.max=null,this.min=this.elm.nativeElement.min,this.max=this.elm.nativeElement.max}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.durationProgres=this.elm.nativeElement.value,this.calcGradientVal(),this.renderer.setStyle(this.elm.nativeElement,"background-image","linear-gradient(90deg,\n      rgb(19, 170, 87) 0%,\n      rgb(19, 170, 87) ".concat(this.gradientProgres,"%,\n      rgb(212, 224, 222) ").concat(this.gradientProgres,"%,\n      rgb(212, 224, 222) 100%)"))}},{key:"onInput",value:function(){this.durationProgres=this.elm.nativeElement.value,this.calcGradientVal(),this.setGradient("linear-gradient(90deg,\n      rgb(19, 170, 87) 0%,\n      rgb(19, 170, 87) ".concat(this.gradientProgres,"%,\n      rgb(212, 224, 222) ").concat(this.gradientProgres,"%,\n      rgb(212, 224, 222) 100%)"))}},{key:"setGradient",value:function(e){this.renderer.setStyle(this.elm.nativeElement,"background-image",e)}},{key:"calcGradientVal",value:function(){this.gradientProgres=(this.durationProgres-this.min)/(this.max-this.min)*100}}]),e}()).\u0275fac=function(e){return new(e||si)(C["\u0275\u0275directiveInject"](C.ElementRef),C["\u0275\u0275directiveInject"](C.Renderer2))},si.\u0275dir=C["\u0275\u0275defineDirective"]({type:si,selectors:[["","appGradient",""]],hostBindings:function(e,t){1&e&&C["\u0275\u0275listener"]("input",(function(){return t.onInput()}))}}),si),pi=((oi=function(){function e(t,n){_classCallCheck(this,e),this.elm=t,this.renderer=n,this.changeDuration=new C.EventEmitter,this.newDuration=0,this.habitDuration=new dn.h(""),this.position=null,this.thumbWidth="12px"}return _createClass(e,[{key:"ngOnInit",value:function(){this.habitDuration.setValue(this.habitDurationInitial),this.updateDuration(),this.getRangeWidth(),this.getRangeMin(),this.getRangeMax(),this.getThumbWidth(),this.getThumbLabelWidth()}},{key:"updateDuration",value:function(){var e=(this.getRangeWidth()-this.getThumbWidth())/(this.getRangeMax()-this.getRangeMin()),t=this.getThumbLabelWidth()/2-this.getThumbWidth()/2;this.position=(this.habitDuration.value-this.getRangeMin())*e-t+"px",this.renderer.setStyle(this.elm.nativeElement.children[1],"left",this.position),this.changeDuration.emit(this.habitDuration.value),this.newDuration=this.habitDuration.value}},{key:"getRangeWidth",value:function(){return this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).clientWidth}},{key:"getRangeMin",value:function(){return+this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).getAttribute("min")}},{key:"getRangeMax",value:function(){return+this.elm.nativeElement.getElementsByClassName("form-control-range").item(0).getAttribute("max")}},{key:"getThumbLabelWidth",value:function(){return this.elm.nativeElement.getElementsByClassName("thumbLabel").item(0).clientWidth}},{key:"getThumbWidth",value:function(){return parseInt(this.thumbWidth,10)}}]),e}()).\u0275fac=function(e){return new(e||oi)(C["\u0275\u0275directiveInject"](C.ElementRef),C["\u0275\u0275directiveInject"](C.Renderer2))},oi.\u0275cmp=C["\u0275\u0275defineComponent"]({type:oi,selectors:[["app-habit-duration"]],inputs:{habitDurationInitial:"habitDurationInitial"},outputs:{changeDuration:"changeDuration"},decls:18,vars:19,consts:[[1,"title"],[1,"thumbLabel"],["type","range","min","7","max","56","step","1","appGradient","",1,"form-control-range",3,"formControl","input"],["range",""],[1,"rangeLabel"],[1,"text"],[1,"message"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"div",1),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"input",2,3),C["\u0275\u0275listener"]("input",(function(){return t.updateDuration()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",4),C["\u0275\u0275elementStart"](9,"div",5),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",5),C["\u0275\u0275text"](13),C["\u0275\u0275pipe"](14,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](15,"div",6),C["\u0275\u0275text"](16),C["\u0275\u0275pipe"](17,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](7);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](2,9,"user.habit.duration.title")),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate2"]("",t.habitDuration.value," ",C["\u0275\u0275pipeBind1"](5,11,"user.habit.duration.day"),""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("formControl",t.habitDuration),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate2"]("",n.min," ",C["\u0275\u0275pipeBind1"](11,13,"user.habit.duration.day"),""),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate2"]("",n.max," ",C["\u0275\u0275pipeBind1"](14,15,"user.habit.duration.day"),""),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](17,17,"user.habit.duration.text"))}},directives:[dn.C,dn.d,di,dn.t,dn.i],pipes:[d.d],styles:[".title[_ngcontent-%COMP%]{font-size:18px;line-height:24px;height:20px;margin-bottom:28px}.thumbLabel[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-style:normal;font-weight:600}.thumbLabel[_ngcontent-%COMP%]{width:90px;height:50px;padding:15px 10px;position:relative;top:0;background-image:url(duration-thumb-label.f22ec00ed20470f557a2.png);font-family:var(--secondary-font);font-size:16px;line-height:16px;align-items:center;text-align:center}.rangeLabel[_ngcontent-%COMP%]{height:16px;display:flex;justify-content:space-between;margin-bottom:32px}.rangeLabel[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:11px}.message[_ngcontent-%COMP%], .rangeLabel[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:400;line-height:16px;color:#6a8079}.message[_ngcontent-%COMP%]{font-size:12px}input[type=range].form-control-range[_ngcontent-%COMP%]{width:100%;margin:4px 0;background-color:transparent;border-radius:26px;-webkit-appearance:none}input[type=range].form-control-range[_ngcontent-%COMP%]:focus{outline:none}input[type=range].form-control-range[_ngcontent-%COMP%]::-webkit-slider-runnable-track{border-radius:26px;width:100%;height:4px;cursor:pointer}input[type=range].form-control-range[_ngcontent-%COMP%]::-webkit-slider-thumb{margin-top:-4px;width:12px;height:12px;background:var(--primary-green);border-radius:6px;cursor:pointer;-webkit-appearance:none}input[type=range].form-control-range[_ngcontent-%COMP%]::-moz-range-track{background:var(--primary-green);border-radius:26px;width:100%;height:4px;cursor:pointer}input[type=range].form-control-range[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;background:var(--primary-green);border-radius:6px;cursor:pointer}.form-control-range[_ngcontent-%COMP%]::-webkit-fill-lower{background-color:var(--primary-green);border-radius:52px}.form-control-range[_ngcontent-%COMP%]::-webkit-fill-upper{background-color:#bbbebd;border-radius:52px}"]}),oi);function ui(e,t){1&e&&C["\u0275\u0275element"](0,"img",27),2&e&&C["\u0275\u0275property"]("src",t.$implicit,C["\u0275\u0275sanitizeUrl"])}function hi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",28),C["\u0275\u0275elementStart"](1,"app-habit-duration",29),C["\u0275\u0275listener"]("changeDuration",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().getDuration(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("habitDurationInitial",i.initialDuration)}}function gi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",30),C["\u0275\u0275elementStart"](1,"button",31),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().cancel()})),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"button",32),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().addHabit()})),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,2,"user.habit.btn.cancel")),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](6,4,"user.habit.btn.add")," "))}function fi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",30),C["\u0275\u0275elementStart"](1,"button",33),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().deleteHabit()})),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"button",34),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().updateHabit()})),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](3,2,"user.habit.btn.give-up")," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](6,4,"user.habit.btn.save")," "))}var mi,vi=((mi=function(){function e(t,n,i,r,a,o,s){_classCallCheck(this,e),this.route=t,this.router=n,this.habitService=i,this.snackBar=r,this.habitAssignService=a,this.localStorageService=o,this.translate=s,this.isAssigned=!1,this.whiteStar="assets/img/icon/star-2.png",this.greenStar="assets/img/icon/star-1.png",this.stars=[this.whiteStar,this.whiteStar,this.whiteStar]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getUserId(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.route.params.subscribe((function(t){e.habitId=+t.habitId})),this.checkIfAssigned()}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}},{key:"subscribeToLangChange",value:function(){var e=this;this.langChangeSub=this.localStorageService.languageSubject.subscribe((function(t){e.bindLang(t),e.checkIfAssigned()}))}},{key:"initHabitData",value:function(e){this.habitResponse=e,this.getStars(e.complexity),this.initialDuration=e.defaultDuration,this.initialShoppingList=e.shoppingListItems}},{key:"getDefaultItems",value:function(){var e=this;this.habitService.getHabitById(this.habitId).pipe(Object(x.a)(1)).subscribe((function(t){e.initHabitData(t)}))}},{key:"getCustomItems",value:function(){var e=this;this.habitAssignService.getCustomHabit(this.habitId).pipe(Object(x.a)(1)).subscribe((function(t){e.initHabitData(t)}))}},{key:"getStars",value:function(e){for(this.star=0;this.star<e;this.star++)this.stars[this.star]=this.greenStar}},{key:"goToMyHabits",value:function(){this.router.navigate(["/profile/".concat(this.userId,"/allhabits")])}},{key:"getUserId",value:function(){this.userId=localStorage.getItem("userId")}},{key:"getDuration",value:function(e){this.newDuration=e}},{key:"getList",value:function(e){this.newList=e}},{key:"checkIfAssigned",value:function(){var e=this;this.habitAssignService.getAssignedHabits().pipe(Object(x.a)(1)).subscribe((function(t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;)if(n.value.habit.id===e.habitId){e.isAssigned=!0;break}}catch(r){i.e(r)}finally{i.f()}e.isAssigned?e.getCustomItems():e.getDefaultItems()}))}},{key:"cancel",value:function(){this.router.navigate(["profile",this.userId])}},{key:"addHabit",value:function(){var e=this,t=this.newList.filter((function(e){return!0===e.selected})).map((function(e){return e.id}));this.habitAssignService.assignCustomHabit(this.habitId,this.newDuration,t).pipe(Object(x.a)(1)).subscribe((function(){e.router.navigate(["profile",e.userId]),e.snackBar.openSnackBar("habitAdded")}))}},{key:"updateHabit",value:function(){var e=this,t=this.newList.filter((function(e){return!0===e.selected})).map((function(e){return e.id}));this.habitAssignService.updateHabit(this.habitId,this.newDuration,t).pipe(Object(x.a)(1)).subscribe((function(){e.router.navigate(["profile",e.userId]),e.snackBar.openSnackBar("habitUpdated")}))}},{key:"deleteHabit",value:function(){var e=this;this.habitAssignService.deleteHabitById(this.habitId).pipe(Object(x.a)(1)).subscribe((function(){e.router.navigate(["profile",e.userId]),e.snackBar.openSnackBar("habitDeleted")}))}},{key:"ngOnDestroy",value:function(){this.langChangeSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mi)(C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](O),C["\u0275\u0275directiveInject"](A.a),C["\u0275\u0275directiveInject"](S.a),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](d.e))},mi.\u0275cmp=C["\u0275\u0275defineComponent"]({type:mi,selectors:[["app-add-new-habit"]],decls:42,vars:19,consts:[[1,"wrapper"],[1,"backToMyHabits",3,"click"],[1,"arrow"],[1,"text"],[1,"habitContainer"],[1,"habitInfo"],[1,"header"],[1,"tags"],[1,"line"],[1,"aquired"],[1,"stars"],["alt","star",3,"src",4,"ngFor","ngForOf"],[1,"habitTitle"],[1,"description"],[1,"habitImg"],["alt","",1,"img",3,"src"],[1,"habitEdit"],[1,"divider"],[1,"containerHabitEdit"],[1,"habitProgress"],[1,"habitInfoRightBlock"],[1,"inviteFriends"],[1,"durationShoping"],["class","duration",4,"ngIf"],[1,"shopping"],[3,"newList"],["class","add-habit-container",4,"ngIf"],["alt","star",3,"src"],[1,"duration"],[3,"habitDurationInitial","changeDuration"],[1,"add-habit-container"],[1,"primary-global-button","cancel-habit-button",3,"click"],["type","submit",1,"primary-global-button","add-habit-button",3,"click"],["type","submit",1,"primary-global-button","delete-habit-button",3,"click"],["type","submit",1,"primary-global-button","save-habit-button",3,"click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275listener"]("click",(function(){return t.goToMyHabits()})),C["\u0275\u0275element"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",4),C["\u0275\u0275elementStart"](7,"div",5),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275elementStart"](9,"div",7),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](12,"div",8),C["\u0275\u0275elementStart"](13,"div",9),C["\u0275\u0275text"](14),C["\u0275\u0275pipe"](15,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](16,"div",8),C["\u0275\u0275elementStart"](17,"div",10),C["\u0275\u0275template"](18,ui,1,1,"img",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"div",12),C["\u0275\u0275text"](20),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",13),C["\u0275\u0275elementStart"](22,"p"),C["\u0275\u0275text"](23),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"div",14),C["\u0275\u0275element"](25,"img",15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](26,"div",16),C["\u0275\u0275text"](27),C["\u0275\u0275pipe"](28,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](29,"div",17),C["\u0275\u0275elementStart"](30,"div",18),C["\u0275\u0275elementStart"](31,"div",19),C["\u0275\u0275element"](32,"app-habit-progress"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](33,"div",20),C["\u0275\u0275elementStart"](34,"div",21),C["\u0275\u0275element"](35,"app-habit-invite-friends"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](36,"div",22),C["\u0275\u0275template"](37,hi,2,1,"div",23),C["\u0275\u0275elementStart"](38,"div",24),C["\u0275\u0275elementStart"](39,"app-habit-edit-shopping-list",25),C["\u0275\u0275listener"]("newList",(function(e){return t.getList(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](40,gi,7,6,"div",26),C["\u0275\u0275template"](41,fi,7,6,"div",26),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](5,11,"user.habit.btn.back-to-habit")),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](11,13,"user.habit.header.tags")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](15,15,"user.habit.header.aquired")),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngForOf",t.stars),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",null==t.habitResponse?null:t.habitResponse.habitTranslation.name," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",null==t.habitResponse?null:t.habitResponse.habitTranslation.description," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",null==t.habitResponse?null:t.habitResponse.image,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](28,17,"user.habit.info")),C["\u0275\u0275advance"](10),C["\u0275\u0275property"]("ngIf",t.habitResponse),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",!t.isAssigned),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isAssigned))},directives:[s.t,Qn,ni,s.u,ci,pi],pipes:[d.d],styles:[".wrapper[_ngcontent-%COMP%]{max-width:1170px;margin:-30px auto 30px;padding:0 15px}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]{height:30px;display:flex;flex-direction:row;align-items:flex-start;margin-bottom:4px;padding:4px 0 0 4px;color:var(--secondary-dark-green);cursor:pointer}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:5px;height:7px;margin-right:6px;align-self:center;background:url(/assets/img/profile/icons/back-arrow.svg) no-repeat}.wrapper[_ngcontent-%COMP%]   .backToMyHabits[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:22px;display:flex;align-self:center;-webkit-text-decoration-line:underline;text-decoration-line:underline}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]{height:360px;padding:20px 0 0;margin-bottom:24px;display:flex;flex-direction:row;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:24px;display:flex;align-items:center;color:var(--primary-green);margin-bottom:8px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .aquired[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{font-style:regular;font-size:14px;letter-spacing:1px;text-transform:uppercase;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;width:88px;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:1px;height:18px;margin:0 18px;background-image:url(/assets/img/profile/icons/line.svg)}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .habitTitle[_ngcontent-%COMP%]{margin-bottom:16px;font-family:var(--secondary-font);font-size:36px;font-style:normal;font-weight:500;line-height:48px;letter-spacing:0;text-align:left}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--primary-font);font-size:16px;line-height:24px;color:var(--primary-black);max-width:652px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitImg[_ngcontent-%COMP%]{width:395px;align-self:flex-end;margin-left:25px}.wrapper[_ngcontent-%COMP%]   .habitContainer[_ngcontent-%COMP%]   .habitImg[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:395px}.wrapper[_ngcontent-%COMP%]   .habitEdit[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-style:normal;font-weight:500;font-size:24px;line-height:35px;color:var(--secondary-dark-grey)}.wrapper[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;margin:18px 0 40px;background-color:var(--secondary-light-grey)}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitProgress[_ngcontent-%COMP%]{width:554px;height:468px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitProgress[_ngcontent-%COMP%]{padding:36px;background-color:var(--secondary-light-grey);border-radius:8px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .inviteFriends[_ngcontent-%COMP%]{width:554px;height:182px;padding:12px;background:var(--secondary-light-grey);border-radius:8px}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:554px;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .durationShoping[_ngcontent-%COMP%]   .shopping[_ngcontent-%COMP%]{width:261px;height:254px;background:var(--secondary-light-grey);border-radius:8px;padding:24px;font-family:var(--secondary-font)}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]{margin-top:60px;width:100%;display:flex;flex-direction:row;justify-content:flex-end}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .add-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .save-habit-button[_ngcontent-%COMP%]{width:160px;height:48px}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%]{margin-right:40px;background-color:var(--primary-white);color:var(--primary-green)}.wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .cancel-habit-button[_ngcontent-%COMP%]:hover, .wrapper[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]   .delete-habit-button[_ngcontent-%COMP%]:hover{border:3px solid var(--primary-green)}@media screen and (max-width:1200px){.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]{justify-content:center}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .habitInfoRightBlock[_ngcontent-%COMP%]   .inviteFriends[_ngcontent-%COMP%]{margin:32px auto}.wrapper[_ngcontent-%COMP%]   .containerHabitEdit[_ngcontent-%COMP%]   .add-habit-container[_ngcontent-%COMP%]{width:554px}}"]}),mi),bi=n("Kj3r");function xi(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p",9),C["\u0275\u0275elementStart"](1,"span"),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275classProp"]("friend-mutual-link",!n.userId),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"]("",n.friend.mutualFriends," ",C["\u0275\u0275pipeBind1"](3,4,"profile.friends.mutual-friends"),"")}}var yi,Ci=((yi=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.route=n,this.friendEventEmit=new C.EventEmitter,this.userId=+this.route.snapshot.params.userId}return _createClass(e,[{key:"friendEvent",value:function(e){this.friendEventEmit.emit(e)}},{key:"toUsersInfo",value:function(){this.userId||this.router.navigate([this.friend.name,this.friend.id],{relativeTo:this.route,queryParams:{tab:"All firends",index:3}})}},{key:"showMutualFriends",value:function(){this.router.navigate([this.friend.name,this.friend.id],{relativeTo:this.route,queryParams:{tab:"Mutual friends",index:4}})}},{key:"clickHandler",value:function(e){var t=e.target;"BUTTON"===t.tagName?this.friendEvent(this.friend.id):"SPAN"!==t.tagName||this.userId?this.toUsersInfo():this.showMutualFriends()}}]),e}()).\u0275fac=function(e){return new(e||yi)(C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](I.a))},yi.\u0275cmp=C["\u0275\u0275defineComponent"]({type:yi,selectors:[["app-friend-item"]],inputs:{friend:"friend",btnName:"btnName"},outputs:{friendEventEmit:"friendEventEmit"},decls:14,vars:12,consts:[[1,"friend-item",3,"click"],[1,"friend-img",3,"imgPath","firstName","additionalImgClass"],[1,"friend-info"],[1,"main-info",3,"ngClass"],[1,"friend-name"],[1,"friend-rate",3,"ngClass"],["class","friend-mutual",4,"ngIf"],[1,"friend-city"],[1,"friend-btn"],[1,"friend-mutual"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275listener"]("click",(function(e){return t.clickHandler(e)})),C["\u0275\u0275element"](1,"app-user-profile-image",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275elementStart"](4,"p",4),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"p",5),C["\u0275\u0275text"](7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](8,xi,4,6,"p",6),C["\u0275\u0275elementStart"](9,"p",7),C["\u0275\u0275text"](10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",8),C["\u0275\u0275elementStart"](12,"button"),C["\u0275\u0275text"](13),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275styleProp"]("cursor",t.userId?"default":"pointer"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("imgPath",t.friend.profilePicturePath)("firstName",t.friend.name)("additionalImgClass","friend-item"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",t.friend.profilePicturePath?"friend-with-photo":"friend-without-photo"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](t.friend.name),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",t.friend.profilePicturePath?"rate-with-photo":"rate-without-photo"),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",t.friend.rating," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.friend.mutualFriends>0),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](t.friend.city),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](t.btnName))},directives:[ne.a,s.r,s.u],pipes:[d.d],styles:['.friend-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:554px;height:194px;padding:24px;border-radius:8px;box-shadow:0 0 7px var(--tertiary-light-grey);margin:7px 16px}.friend-item[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{box-sizing:border-box;background:var(--primary-white);font-family:var(--primary-font)}button[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;text-align:center;border-radius:4px;width:104px;height:36px;color:var(--primary-green);border:1px solid var(--primary-green)}.rate-with-photo[_ngcontent-%COMP%]{background:rgba(19,170,87,.12)}.rate-with-photo[_ngcontent-%COMP%]:before{content:"Rate:"}.friend-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:28px;margin:2px}.friend-city[_ngcontent-%COMP%], .friend-mutual[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:var(--quaternary-grey);margin:2px}.friend-city[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%], .friend-mutual[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]{transition:.2s}.friend-city[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]:hover, .friend-mutual[_ngcontent-%COMP%]   .friend-mutual-link[_ngcontent-%COMP%]:hover{color:var(--tertiary-dark-grey)}.friend-rate[_ngcontent-%COMP%]{color:var(--primary-green);font-family:var(--quaternary-font);font-weight:600;font-size:12px;line-height:16px;width:89px;height:24px;border-radius:4px;display:flex;justify-content:center;align-items:center;margin:2px}.friend-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;flex:3;margin-left:28px}.friend-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-end;flex:1}.friend-img[_ngcontent-%COMP%]{flex:1}.friend-with-photo[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.friend-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rate-without-photo[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-family:var(--primary-font);width:40px;background:none}@media only screen and (min-width:768px){.friend-item[_ngcontent-%COMP%]{width:554px;flex-direction:row}}@media only screen and (min-width:576px){.friend-item[_ngcontent-%COMP%]{justify-content:center}}']}),yi);function _i(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-friend-item",6),C["\u0275\u0275listener"]("friendEventEmit",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).handleDeleteFriend(e)})),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("btnName",C["\u0275\u0275pipeBind1"](2,2,"profile.friends.delete-friend")),C["\u0275\u0275property"]("friend",i)}}function Mi(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",4),C["\u0275\u0275template"](1,_i,3,4,"div",5),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.friends)}}function Pi(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}var wi=function(e){return{searchQuery:e}};function Oi(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p",11),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind2"](2,1,"search.search-not-found.not-found-text",C["\u0275\u0275pureFunction1"](4,wi,n.searchQuery))," ")}}function ki(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"p",11),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](2,1,"profile.zero-friends")))}function Si(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",7),C["\u0275\u0275template"](2,Oi,3,6,"p",8),C["\u0275\u0275elementStart"](3,"div",9),C["\u0275\u0275element"](4,"img",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div"),C["\u0275\u0275template"](6,ki,3,3,"p",8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",n.emptySearchList),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",n.absent,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!n.emptySearchList)}}var Ii,Ei=((Ii=function(){function e(t,n,i){_classCallCheck(this,e),this.userFriendsService=t,this.localStorageService=n,this.matSnackBar=i,this.friends=[],this.destroy$=new xe.a,this.scroll=!1,this.currentPage=0,this.emptySearchList=!1,this.searchQuery="",this.isFetching=!1,this.searchMode=!1,this.absent="assets/img/noNews.jpg"}return _createClass(e,[{key:"ngOnInit",value:function(){this.initUser(),this.getAllFriends(this.userId,this.currentPage)}},{key:"getAllFriends",value:function(e,t){var n=this;this.isFetching=!0,this.userFriendsService.getAllFriends(e,t).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){n.totalPages=e.totalPages,n.friends=n.friends.concat(e.page),n.isFetching=!1,n.emptySearchList=!1,n.scroll=!1}),(function(e){n.matSnackBar.openSnackBar("snack-bar.error.default"),n.isFetching=!1}))}},{key:"findFriendByName",value:function(e){var t=this;this.isFetching=!0,this.searchQuery=e,this.searchMode=!0,this.userFriendsService.findFriendByName(e).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){t.emptySearchList=!e.page.length,t.friends=e.page,t.isFetching=!1,t.searchMode=!1}),(function(e){t.matSnackBar.openSnackBar("snack-bar.error.default"),t.isFetching=!1,t.searchMode=!1}))}},{key:"deleteFriendsFromList",value:function(e,t){var n=t.findIndex((function(t){return t.id===e}));t.splice(n,1)}},{key:"onScroll",value:function(){this.scroll||this.emptySearchList||(this.scroll=!0,this.currentPage<this.totalPages&&(this.currentPage+=1,this.getAllFriends(this.userId,this.currentPage)))}},{key:"handleDeleteFriend",value:function(e){var t=this;this.userFriendsService.deleteFriend(this.userId,e).pipe(Object(M.a)(this.destroy$)).subscribe((function(){t.deleteFriendsFromList(e,t.friends)}))}},{key:"initUser",value:function(){var e=this;this.localStorageService.userIdBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.userId=t}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ii)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](A.a))},Ii.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Ii,selectors:[["app-all-friends"]],decls:6,vars:5,consts:[[1,"friends-list"],["class","container",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"container"],[4,"ngFor","ngForOf"],[3,"friend","btnName","friendEventEmit"],[1,"noFriends-wraper"],["class","noFriends",4,"ngIf"],[1,"img-absent"],["alt","absent-friends",3,"src"],[1,"noFriends"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",0),C["\u0275\u0275template"](2,Mi,2,1,"div",1),C["\u0275\u0275template"](3,Pi,1,0,"app-spinner",2),C["\u0275\u0275elementStart"](4,"div",3),C["\u0275\u0275listener"]("scrolled",(function(){return t.onScroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](5,Si,7,3,"div",2)),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!t.searchMode||!t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0===(null==t.friends?null:t.friends.length)&&!t.isFetching))},directives:[s.u,F.a,s.t,Ci,j.a],pipes:[d.d],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;margin:auto;padding:0;min-width:95%}@media only screen and (min-width:1224px){.container[_ngcontent-%COMP%]{justify-content:center}}.noFriends-wraper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px}.noFriends-wraper[_ngcontent-%COMP%]   .noFriends[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}.friends-list[_ngcontent-%COMP%]{margin:44px auto 30px}"]}),Ii);function Fi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-friend-item",7),C["\u0275\u0275listener"]("friendEventEmit",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).addFriend(e)})),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("btnName",C["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),C["\u0275\u0275property"]("friend",i)}}function Di(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",5),C["\u0275\u0275template"](1,Fi,3,4,"div",6),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n.recommendedFriends)}}function Ai(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}var Li=function(e){return{searchQuery:e}};function Ti(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p",12),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind2"](2,1,"search.search-not-found.not-found-text",C["\u0275\u0275pureFunction1"](4,Li,n.searchQuery))," ")}}function zi(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",8),C["\u0275\u0275template"](1,Ti,3,6,"p",9),C["\u0275\u0275elementStart"](2,"div",10),C["\u0275\u0275element"](3,"img",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"div"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.emptySearchList),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",n.absent,C["\u0275\u0275sanitizeUrl"])}}var ji,Ni,Bi=((Ni=function(){function e(t,n,i){_classCallCheck(this,e),this.userFriendsService=t,this.localStorageService=n,this.matSnackBar=i,this.recommendedFriends=[],this.destroy$=new xe.a,this.scroll=!1,this.currentPage=0,this.isFetching=!1,this.emptySearchList=!1,this.sizePage=10,this.searchQuery="",this.searchMode=!1,this.absent="assets/img/noNews.jpg"}return _createClass(e,[{key:"ngOnInit",value:function(){this.initUser(),this.getPossibleFriends(this.userId,this.currentPage)}},{key:"findUserByName",value:function(e){var t=this;this.searchQuery=e,this.isFetching=!0,this.searchMode=!0,this.userFriendsService.findNewFriendsByName(e).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){t.emptySearchList=!e.page.length,t.recommendedFriends=e.page,t.isFetching=!1,t.searchMode=!1}),(function(e){t.matSnackBar.openSnackBar("snack-bar.error.default"),t.isFetching=!1,t.searchMode=!1}))}},{key:"deleteFriendsFromList",value:function(e,t){var n=t.findIndex((function(t){return t.id===e}));t.splice(n,1)}},{key:"getPossibleFriends",value:function(e,t){var n=this;this.isFetching=!0,this.userFriendsService.getPossibleFriends(e,t).subscribe((function(e){n.totalPages=e.totalPages,n.recommendedFriends=n.recommendedFriends.concat(e.page),n.emptySearchList=!1,n.isFetching=!1,n.scroll=!1}),(function(e){n.matSnackBar.openSnackBar("snack-bar.error.default"),n.isFetching=!1}))}},{key:"onScroll",value:function(){this.scroll||this.emptySearchList||(this.scroll=!0,this.currentPage<this.totalPages&&(this.currentPage+=1,this.getPossibleFriends(this.userId,this.currentPage)))}},{key:"addFriend",value:function(e){var t=this;this.userFriendsService.addFriend(this.userId,e).pipe(Object(M.a)(this.destroy$)).subscribe((function(){t.deleteFriendsFromList(e,t.recommendedFriends)}))}},{key:"initUser",value:function(){var e=this;this.localStorageService.userIdBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.userId=t}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ni)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](A.a))},Ni.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Ni,selectors:[["app-recommended-friends"]],decls:6,vars:5,consts:[[1,"friends-recommended-list"],["class","container",4,"ngIf"],[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","noFriends-wraper",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[3,"friend","btnName","friendEventEmit"],[1,"noFriends-wraper"],["class","noFriends",4,"ngIf"],[1,"img-absent"],["alt","absent-friends",3,"src"],[1,"noFriends"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",0),C["\u0275\u0275template"](2,Di,2,1,"div",1),C["\u0275\u0275template"](3,Ai,1,0,"app-spinner",2),C["\u0275\u0275elementStart"](4,"div",3),C["\u0275\u0275listener"]("scrolled",(function(){return t.onScroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](5,zi,5,2,"div",4),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!t.searchMode||!t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("infiniteScrollDistance",1)("infiniteScrollThrottle",500),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.isFetching&&t.emptySearchList&&0===t.recommendedFriends.length))},directives:[s.u,F.a,s.t,Ci,j.a],pipes:[d.d],styles:[".friends-recommended-list[_ngcontent-%COMP%]{margin-top:50px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;margin:auto;padding:0;min-width:95%}.search_not-found-text[_ngcontent-%COMP%]{color:var(--secondary-dark-grey);font-family:var(--secondary-font);font-size:1.3rem;margin:0 auto 40px}.noFriends-wraper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px}.noFriends-wraper[_ngcontent-%COMP%]   .noFriends[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}@media only screen and (min-width:1224px){.container[_ngcontent-%COMP%]{justify-content:center}}"]}),Ni),Ri=((ji=function(){function e(){_classCallCheck(this,e),this.acceptEvent=new C.EventEmitter,this.declineEvent=new C.EventEmitter}return _createClass(e,[{key:"accept",value:function(e){this.acceptEvent.emit(e)}},{key:"decline",value:function(e){this.declineEvent.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||ji)},ji.\u0275cmp=C["\u0275\u0275defineComponent"]({type:ji,selectors:[["app-request-item"]],inputs:{request:"request",btnName:"btnName"},outputs:{acceptEvent:"acceptEvent",declineEvent:"declineEvent"},decls:20,vars:18,consts:[[1,"request-item"],[1,"request-img",3,"imgPath","firstName","additionalImgClass"],[1,"request-info"],[1,"main-info",3,"ngClass"],[1,"request-name"],[1,"request-rate",3,"ngClass"],[1,"request-mutual"],[1,"request-city"],[1,"request-btn"],[3,"click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275element"](1,"app-user-profile-image",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275elementStart"](4,"p",4),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"p",5),C["\u0275\u0275text"](7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"p",6),C["\u0275\u0275text"](9),C["\u0275\u0275pipe"](10,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"p",7),C["\u0275\u0275text"](12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",8),C["\u0275\u0275elementStart"](14,"button",9),C["\u0275\u0275listener"]("click",(function(){return t.accept(t.request.id)})),C["\u0275\u0275text"](15),C["\u0275\u0275pipe"](16,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"button",9),C["\u0275\u0275listener"]("click",(function(){return t.decline(t.request.id)})),C["\u0275\u0275text"](18),C["\u0275\u0275pipe"](19,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("imgPath",t.request.profilePicturePath)("firstName",t.request.name)("additionalImgClass","friend-item"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",t.request.profilePicturePath?"friend-with-photo":"friend-without-photo"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](t.request.name),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",t.request.profilePicturePath?"rate-with-photo":"rate-without-photo"),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](t.request.rating),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate2"]("",t.request.mutualFriends," ",C["\u0275\u0275pipeBind1"](10,12,"profile.friends.mutual-friends"),""),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](t.request.city),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](16,14,"profile.friends.request-accept")),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](19,16,"profile.friends.request-decline")))},directives:[ne.a,s.r],pipes:[d.d],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");@import url("https://fonts.googleapis.com/css?family=Montserrat&display=swap");@import url("https://fonts.googleapis.com/css2?family=Lato&display=swap");.request-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px;background:#f8f9fa;padding:24px;border-radius:8px}.request-item[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Lato,sans-serif}button[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;text-align:center;box-sizing:border-box;border-radius:4px;width:104px;height:36px;color:#13aa57;border:1px solid #13aa57;background:#fff}.friend-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.request-with-photo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.request-without-photo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rate-without-photo[_ngcontent-%COMP%]{background:none;align-items:flex-end}.rate-with-photo[_ngcontent-%COMP%]{background:rgba(19,170,87,.12);align-items:center}.rate-with-photo[_ngcontent-%COMP%]:before{content:"Rate:"}.request-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:28px;margin:2px}.request-city[_ngcontent-%COMP%], .request-mutual[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:#64727d;margin:2px}.request-rate[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:12px;line-height:16px;width:60px;height:24px;border-radius:4px;display:flex;justify-content:center;color:#13aa57;margin:2px}.request-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;flex:3}.request-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end;flex:1}.request-img[_ngcontent-%COMP%]{flex:1}@media only screen and (min-width:768px){.request-item[_ngcontent-%COMP%]{width:554px;flex-direction:row}}@media only screen and (min-width:576px){.request-item[_ngcontent-%COMP%]{justify-content:center}}']}),ji);function Vi(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",6),C["\u0275\u0275elementStart"](2,"div",7),C["\u0275\u0275element"](3,"img",8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div"),C["\u0275\u0275elementStart"](5,"p",9),C["\u0275\u0275text"](6),C["\u0275\u0275pipe"](7,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("src",n.absent,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](7,2,"profile.zero-requests"))}}function Hi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-request-item",10),C["\u0275\u0275listener"]("acceptEvent",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).accept(e)}))("declineEvent",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).decline(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("request",i)}}function qi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275template"](2,Vi,8,4,"div",3),C["\u0275\u0275template"](3,Hi,2,1,"div",4),C["\u0275\u0275elementStart"](4,"div",5),C["\u0275\u0275listener"]("scrolled",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onScroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",null!==i.requests&&0===i.requests.length),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",i.requests),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("infiniteScrollDistance",0)("infiniteScrollThrottle",500)}}function Wi(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}var Ui,$i=((Ui=function(){function e(t,n){_classCallCheck(this,e),this.localStorageService=t,this.userFriendsService=n,this.requests=null,this.destroy$=new xe.a,this.currentPage=0,this.absent="assets/img/noNews.jpg"}return _createClass(e,[{key:"ngOnInit",value:function(){this.initUser(),this.getRequests()}},{key:"deleteFriendsFromList",value:function(e,t){var n=t.findIndex((function(t){return t.id===e}));t.splice(n,1)}},{key:"accept",value:function(e){var t=this;this.userFriendsService.acceptRequest(this.userId,e).pipe(Object(M.a)(this.destroy$)).subscribe((function(){t.deleteFriendsFromList(e,t.requests)}))}},{key:"decline",value:function(e){var t=this;this.userFriendsService.declineRequest(this.userId,e).pipe(Object(M.a)(this.destroy$)).subscribe((function(){t.deleteFriendsFromList(e,t.requests)}))}},{key:"initUser",value:function(){var e=this;this.localStorageService.userIdBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.userId=t}))}},{key:"getRequests",value:function(){var e=this;this.userFriendsService.getRequests(this.userId).pipe(Object(M.a)(this.destroy$)).subscribe((function(t){e.requests=t.page}))}},{key:"onScroll",value:function(){var e=this;this.scroll=!0,this.currentPage+=1,this.userFriendsService.getRequests(this.userId,this.currentPage).pipe(Object(M.a)(this.destroy$)).subscribe((function(t){e.requests=e.requests.concat(t.page)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ui)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](te))},Ui.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Ui,selectors:[["app-friend-requests"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"noRequests-wraper"],[1,"img-absent"],["alt","absent-requests",3,"src"],[1,"noRequests"],[3,"request","acceptEvent","declineEvent"]],template:function(e,t){if(1&e&&(C["\u0275\u0275template"](0,qi,5,4,"div",0),C["\u0275\u0275template"](1,Wi,1,0,"ng-template",null,1,C["\u0275\u0275templateRefExtractor"])),2&e){var n=C["\u0275\u0275reference"](2);C["\u0275\u0275property"]("ngIf",null!==t.requests)("ngIfElse",n)}},directives:[s.u,s.t,F.a,Ri,j.a],pipes:[d.d],styles:['@import url("https://fonts.googleapis.com/css?family=Montserrat&display=swap");.container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.container[_ngcontent-%COMP%], .noRequests-wraper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.noRequests-wraper[_ngcontent-%COMP%]{flex-direction:column}.noRequests-wraper[_ngcontent-%COMP%]   .noRequests[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px;font-weight:500;font-style:normal;line-height:48px}']}),Ui);function Yi(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"form",6),C["\u0275\u0275element"](1,"img",7),C["\u0275\u0275elementStart"](2,"input",8,9),C["\u0275\u0275listener"]("input",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275reference"](3);return C["\u0275\u0275nextContext"]().onInput(e)})),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("src",i.searchIcon,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("placeholder",C["\u0275\u0275pipeBind1"](4,2,"search.search-popup.placeholder"))}}var Gi,Qi=function(e){return["/profile",e]},Xi=function(e){return["/profile",e,"friends"]},Ki=function(){return{exact:!0}},Zi=function(e){return["/profile",e,"friends","recommended"]},Ji=function(e){return["/profile",e,"friends","requests"]},er=((Gi=function(){function e(t,n){_classCallCheck(this,e),this.localStorageService=t,this.translate=n,this.destroy$=new xe.a,this.searchTerm$=new xe.a,this.searchIcon="assets/img/places/search.svg",this.hideInput=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.initUser(),this.subscribeToLangChange(),this.bindLang(this.localStorageService.getCurrentLanguage()),this.preventFrequentQuery(),this.hideInputField()}},{key:"preventFrequentQuery",value:function(){var e=this;this.searchTerm$.pipe(Object(bi.a)(400),Object(M.a)(this.destroy$)).subscribe((function(t){e.searchForFriends(t)}))}},{key:"onInput",value:function(e){this.searchTerm$.next(e.value)}},{key:"onActivate",value:function(e){this.componentRef=e}},{key:"searchForFriends",value:function(e){this.componentRef instanceof Bi&&this.componentRef.findUserByName(e),this.componentRef instanceof Ei&&this.componentRef.findFriendByName(e)}},{key:"hideInputField",value:function(){this.hideInput=this.componentRef instanceof $i}},{key:"initUser",value:function(){var e=this;this.localStorageService.userIdBehaviourSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.userId=t}))}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}},{key:"subscribeToLangChange",value:function(){this.langChangeSub=this.localStorageService.languageSubject.subscribe(this.bindLang.bind(this))}},{key:"ngOnDestroy",value:function(){this.langChangeSub.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.searchTerm$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Gi)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](d.e))},Gi.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Gi,selectors:[["app-friend-dashboard"]],decls:21,vars:34,consts:[[1,"container"],[1,"profile-link",3,"routerLink"],[1,"friends"],["name","searchForm","class","searchField",4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[3,"activate"],["name","searchForm",1,"searchField"],["alt","search-friend",3,"src"],["type","text",1,"search",3,"placeholder","input"],["search",""]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"a",1),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",2),C["\u0275\u0275elementStart"](5,"h1"),C["\u0275\u0275text"](6),C["\u0275\u0275pipe"](7,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div"),C["\u0275\u0275template"](9,Yi,5,4,"form",3),C["\u0275\u0275elementStart"](10,"span"),C["\u0275\u0275elementStart"](11,"a",4),C["\u0275\u0275text"](12),C["\u0275\u0275pipe"](13,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"a",4),C["\u0275\u0275text"](15),C["\u0275\u0275pipe"](16,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"a",4),C["\u0275\u0275text"](18),C["\u0275\u0275pipe"](19,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](20,"router-outlet",5),C["\u0275\u0275listener"]("activate",(function(e){return t.onActivate(e)})),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](23,Qi,t.userId)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"]("<",C["\u0275\u0275pipeBind1"](3,13,"profile.friends.link-to-profile"),""),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](7,15,"profile.friends.friends")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",!t.hideInput),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](25,Xi,t.userId))("routerLinkActiveOptions",C["\u0275\u0275pureFunction0"](27,Ki)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](13,17,"profile.friends.all-friends")," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](28,Zi,t.userId))("routerLinkActiveOptions",C["\u0275\u0275pureFunction0"](30,Ki)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](16,19,"profile.friends.search-friends")," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](31,Ji,t.userId))("routerLinkActiveOptions",C["\u0275\u0275pureFunction0"](33,Ki)),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](19,21,"profile.friends.requests")," "))},directives:[I.j,s.u,I.i,I.l,dn.J,dn.u,dn.v],pipes:[d.d],styles:[".container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--primary-green)}.container[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-family:var(--primary-font)}.container[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:48px;line-height:48px;font-family:var(--secondary-font)}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]{display:inline;position:relative}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:426px;height:36px;border:1px solid var(--quintynary-light-grey);border-radius:4px;padding:8px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 3px 0 var(--quintynary-light-grey)}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--ubs-primary-light-grey);font-family:var(--primary-font);font-size:14px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--ubs-primary-light-grey);font-family:var(--primary-font);font-size:14px}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:1px;right:13px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--primary-font);color:var(--ubs-quaternary-dark-grey);margin:0 16px;font-size:16px;line-height:18.75px}.container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--primary-green);padding:5px 5px 0;text-decoration:none}@media (max-width:992px){.container[_ngcontent-%COMP%]{margin:auto}.container[_ngcontent-%COMP%]   .searchField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:30px;max-width:35%}}"]}),Gi),tr=n("F2BE");function nr(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-friend-item",11),C["\u0275\u0275listener"]("friendEventEmit",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().addFriend(e)})),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("btnName",C["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),C["\u0275\u0275property"]("friend",i)}}function ir(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}function rr(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",3),C["\u0275\u0275elementStart"](1,"h3",12),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"img",5),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,2,"profile.zero-user-friends")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",n.absentContent,C["\u0275\u0275sanitizeUrl"])}}function ar(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"app-friend-item",11),C["\u0275\u0275listener"]("friendEventEmit",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().addFriend(e)})),C["\u0275\u0275pipe"](2,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("btnName",C["\u0275\u0275pipeBind1"](2,2,"profile.friends.add-new-friend")),C["\u0275\u0275property"]("friend",i)}}function or(e,t){1&e&&C["\u0275\u0275element"](0,"app-spinner")}function sr(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",3),C["\u0275\u0275elementStart"](1,"h3",12),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"img",5),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](3,2,"profile.zero-user-friends")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",n.absentContent,C["\u0275\u0275sanitizeUrl"])}}var lr,cr=((lr=function(){function e(t,n,i,r){_classCallCheck(this,e),this.userFriendsService=t,this.route=n,this.router=i,this.location=r,this.destroy$=new xe.a,this.scroll=!1,this.currentFriendPage=0,this.currentMutualPage=0,this.isActiveInfinityScroll=!1,this.isFetching=!0,this.friendsList=[],this.mutualFriendsList=[],this.selectedIndex=0,this.absentContent="assets/img/noNews.jpg"}return _createClass(e,[{key:"ngOnInit",value:function(){this.userId=+this.route.snapshot.params.userId,this.currentUserId=+this.route.snapshot.params.id,this.selectedIndex=+this.route.snapshot.queryParams.index,this.isActiveInfinityScroll=3===this.selectedIndex||4===this.selectedIndex,this.getAllFriends(this.userId),this.getMutualFriends(this.userId)}},{key:"getAllFriends",value:function(e,t){var n=this;this.isFetching=!0,this.userFriendsService.getAllFriends(e,t).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){n.numberAllFriends=e.totalElements,n.friendsList=n.friendsList.concat(e.page),n.scroll=!1,n.isFetching=!1}))}},{key:"getMutualFriends",value:function(e,t){var n=this;this.isFetching=!0,this.userFriendsService.getPossibleFriends(e,t).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){n.numberAllMutualFriends=e.totalElements,n.mutualFriendsList=n.mutualFriendsList.concat(e.page),n.scroll=!1,n.isFetching=!1}))}},{key:"onScroll",value:function(){3===this.selectedIndex&&!this.scroll&&this.friendsList.length<this.numberAllFriends&&(this.scroll=!0,this.currentFriendPage+=1,this.getAllFriends(this.userId,this.currentFriendPage)),4===this.selectedIndex&&!this.scroll&&this.mutualFriendsList.length<this.numberAllMutualFriends&&(this.scroll=!0,this.currentMutualPage+=1,this.getMutualFriends(this.userId,this.currentMutualPage))}},{key:"tabChanged",value:function(e){var t=this.router.createUrlTree([],{relativeTo:this.route,queryParams:{tab:e.tab.textLabel,index:e.index}}).toString();this.location.replaceState(t),this.isActiveInfinityScroll=3===e.index||4===e.index}},{key:"addFriend",value:function(e){var t=this;this.userFriendsService.addFriend(this.currentUserId,e).pipe(Object(M.a)(this.destroy$)).subscribe((function(){t.friendsList=t.friendsList.filter((function(t){return t.id!==e}))}),(function(e){return console.error(e.message)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||lr)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](I.g),C["\u0275\u0275directiveInject"](s.o))},lr.\u0275cmp=C["\u0275\u0275defineComponent"]({type:lr,selectors:[["app-friend-profile-dashboard"]],decls:37,vars:37,consts:[[1,"dashboard"],["animationDuration","400ms",3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label"],[1,"img-absent"],[1,"title"],["alt","absent-friends",3,"src"],[1,"friends-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","img-absent",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[3,"friend","btnName","friendEventEmit"],[1,"no-friends"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div"),C["\u0275\u0275elementStart"](2,"mat-tab-group",1),C["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabChanged(e)}))("selectedIndexChange",(function(e){return t.selectedIndex=e})),C["\u0275\u0275elementStart"](3,"mat-tab",2),C["\u0275\u0275pipe"](4,"translate"),C["\u0275\u0275elementStart"](5,"div",3),C["\u0275\u0275elementStart"](6,"h3",4),C["\u0275\u0275text"](7),C["\u0275\u0275pipe"](8,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](9,"img",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"mat-tab",2),C["\u0275\u0275pipe"](11,"translate"),C["\u0275\u0275elementStart"](12,"div",3),C["\u0275\u0275elementStart"](13,"h3",4),C["\u0275\u0275text"](14),C["\u0275\u0275pipe"](15,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](16,"img",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"mat-tab",2),C["\u0275\u0275pipe"](18,"translate"),C["\u0275\u0275elementStart"](19,"div",3),C["\u0275\u0275elementStart"](20,"h3",4),C["\u0275\u0275text"](21),C["\u0275\u0275pipe"](22,"translate"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](23,"img",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"mat-tab",2),C["\u0275\u0275pipe"](25,"translate"),C["\u0275\u0275elementStart"](26,"div",6),C["\u0275\u0275template"](27,nr,3,4,"div",7),C["\u0275\u0275template"](28,ir,1,0,"app-spinner",8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](29,rr,5,4,"div",9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](30,"mat-tab",2),C["\u0275\u0275pipe"](31,"translate"),C["\u0275\u0275elementStart"](32,"div",6),C["\u0275\u0275template"](33,ar,3,4,"div",7),C["\u0275\u0275template"](34,or,1,0,"app-spinner",8),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](35,sr,5,4,"div",9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](36,"div",10),C["\u0275\u0275listener"]("scrolled",(function(){return t.onScroll()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("selectedIndex",t.selectedIndex),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](4,21,"user.habit.all-habits.title")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](8,23,"user.habit.all-habits.title")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.absentContent,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](11,25,"user.habit.all-habits.mutual")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](15,27,"user.habit.all-habits.mutual")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.absentContent,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](18,29,"profile.dashboard.my-habits")),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](22,31,"profile.dashboard.my-habits")),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("src",t.absentContent,C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](25,33,"user.habit.invite.all")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.friendsList),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0===t.numberAllFriends&&!t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275propertyInterpolate"]("label",C["\u0275\u0275pipeBind1"](31,35,"profile.friends.all-mutual-friends")),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngForOf",t.mutualFriendsList),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0===t.numberAllMutualFriends&&!t.isFetching),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("infiniteScrollDistance",1)("infiniteScrollThrottle",500)("infiniteScrollDisabled",!t.isActiveInfinityScroll))},directives:[Ie.b,Ie.a,s.t,s.u,F.a,Ci,j.a],pipes:[d.d],styles:[".dashboard[_ngcontent-%COMP%]{font-family:var(--primary-font);margin-bottom:30px}.friends-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:25px}.img-absent[_ngcontent-%COMP%]{display:inline-block;width:50%;text-align:center}.no-friends[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-family:var(--secondary-font);font-size:32px;font-weight:500;font-style:normal;line-height:48px}  .mat-tab-header{margin-bottom:24px}  .mat-tab-header,   .mat-tab-nav-bar{border-bottom:none}  .mat-ink-bar,   .mat-tab-header-pagination{display:none}  .mat-tab-labels .mat-tab-label{height:40px;min-width:auto;border-bottom:1px solid var(--quintynary-light-grey);opacity:1}  .mat-tab-label-content{font-family:var(--primary-font);font-size:16px;line-height:24px;font-weight:400;color:var(--quaternary-dark-grey)}  .mat-tab-labels .mat-tab-label-active{border-bottom:1px solid var(--primary-green)}  .mat-tab-labels .mat-tab-label-active .mat-tab-label-content{color:var(--primary-green)}"]}),lr);function dr(e,t){1&e&&C["\u0275\u0275element"](0,"app-eco-places",7)}function pr(e,t){1&e&&C["\u0275\u0275element"](0,"app-shopping-list",8)}function ur(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275element"](2,"app-profile-header",3),C["\u0275\u0275element"](3,"app-users-achievements"),C["\u0275\u0275template"](4,dr,1,0,"app-eco-places",4),C["\u0275\u0275template"](5,pr,1,0,"app-shopping-list",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",6),C["\u0275\u0275element"](7,"app-friend-profile-dashboard"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("userInfo",n.userInfo)("progress",n.progress),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",n.userInfo.showEcoPlace),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.userInfo.showShoppingList)}}var hr,gr,fr,mr=((hr=function(){function e(t,n,i,r){_classCallCheck(this,e),this.userFriendsService=t,this.route=n,this.translate=i,this.localStorageService=r,this.destroy$=new xe.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.translate.setDefaultLang(this.localStorageService.getCurrentLanguage()),this.bindLang(),this.userId=this.route.snapshot.params.userId,this.getUserInfo(this.userId),this.getUserActivities()}},{key:"bindLang",value:function(){var e=this;this.localStorageService.languageSubject.pipe(Object(M.a)(this.destroy$)).subscribe((function(t){return e.translate.setDefaultLang(t)}))}},{key:"getUserInfo",value:function(e){var t=this;this.userFriendsService.getUserInfo(e).pipe(Object(M.a)(this.destroy$)).subscribe((function(e){t.userInfo=e}))}},{key:"getUserActivities",value:function(){var e=this;this.userFriendsService.getUserProfileStatistics(this.userId).pipe(Object(M.a)(this.destroy$)).subscribe((function(t){e.progress=t}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||hr)(C["\u0275\u0275directiveInject"](te),C["\u0275\u0275directiveInject"](I.a),C["\u0275\u0275directiveInject"](d.e),C["\u0275\u0275directiveInject"](w.a))},hr.\u0275cmp=C["\u0275\u0275defineComponent"]({type:hr,selectors:[["app-friend-profile-page"]],decls:1,vars:1,consts:[["class","profile-wrapper",4,"ngIf"],[1,"profile-wrapper"],[1,"side-bar"],[1,"app-profile-header",3,"userInfo","progress"],["class","app-eco-places",4,"ngIf"],["class","app-shopping-list",4,"ngIf"],[1,"content"],[1,"app-eco-places"],[1,"app-shopping-list"]],template:function(e,t){1&e&&C["\u0275\u0275template"](0,ur,8,4,"div",0),2&e&&C["\u0275\u0275property"]("ngIf",t.userInfo)},directives:[s.u,ge,be,cr,Mt,At],styles:[".profile-wrapper[_ngcontent-%COMP%]{margin:-95px auto 30px;height:100%;display:flex;justify-content:space-between}.profile-wrapper[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:20%;box-shadow:4px 0 8px -4px var(--quintynary-dark-grey)}.profile-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:80%;margin:25px auto auto 25px;height:100%}"]}),hr),vr=[{path:"",component:An,canActivate:[Dn.a],children:[{path:":id",component:cn},{path:":id/edit",component:In,canDeactivate:[tr.a]},{path:":id/allhabits",component:K},{path:":id/allhabits/addhabit/:habitId",component:vi},{path:"",component:cn},{path:":id/friends",component:er,children:[{path:"",component:Ei},{path:"recommended",component:Bi},{path:"requests",component:$i}]},{path:":id/friends/:userName/:userId",component:mr},{path:":id/friends/recommended/:userName/:userId",component:mr},{path:"",redirectTo:":id",pathMatch:"full"}]}],br=((gr=function e(){_classCallCheck(this,e)}).\u0275mod=C["\u0275\u0275defineNgModule"]({type:gr}),gr.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(e){return new(e||gr)},imports:[[I.k.forChild(vr)],I.k]}),gr),xr=n("PCNd"),yr=n("7itd"),Cr=n("bTqV"),_r=((fr=function e(){_classCallCheck(this,e)}).\u0275mod=C["\u0275\u0275defineNgModule"]({type:fr}),fr.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(e){return new(e||fr)},providers:[pn],imports:[[o.c,yr.GooglePlaceModule,br,s.c,f.a,xr.a,Cr.b,Fn.c,h.b,g.b,l.d,c.c,u.a.forRoot({apiKey:r.a.agmCoreModuleApiKey,libraries:["places"]}),d.c.forChild({loader:{provide:d.b,useFactory:Mr,deps:[c.b]},isolate:!0}),F.b,a.a,Ie.c]]}),fr);function Mr(e){return new p.a(e,"./assets/i18n/",".json")}},hSFZ:function(e,t){!function(){"use strict";if("undefined"!=typeof Chart){"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n});var e={};["pie","doughnut","polarArea","bar"].forEach((function(t){e[t]=!0})),t.prototype.setup=function(e,t){this.chart=e,this.ctx=e.ctx,this.args={},this.barTotal={};var n=e.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:n.defaultFontSize,fontColor:n.defaultFontColor,fontStyle:n.defaultFontStyle,fontFamily:n.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},t),"bar"===e.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},t.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},t.prototype.renderToDataset=function(e,t){this.totalPercentage=0,this.total=null;var n=this.args[t];n.meta.data.forEach((function(t,i){this.renderToElement(e,n,t,i)}).bind(this))},t.prototype.renderToElement=function(e,t,n,i){if(this.shouldRenderToElement(t.meta,n)){this.percentage=null;var r=this.getLabel(e,n,i);if(r){var a=this.ctx;a.save(),a.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily);var o=this.getRenderInfo(n,r);this.drawable(n,r,o)?(a.beginPath(),a.fillStyle=this.getFontColor(e,n,i),this.renderLabel(r,o),a.restore()):a.restore()}}},t.prototype.renderLabel=function(e,t){return this.options.arc?this.renderArcLabel(e,t):this.renderBaseLabel(e,t)},t.prototype.renderBaseLabel=function(e,t){var n=this.ctx;if("object"==typeof e)n.drawImage(e,t.x-e.width/2,t.y-e.height/2,e.width,e.height);else{n.save(),n.textBaseline="top",n.textAlign="center",this.options.textShadow&&(n.shadowOffsetX=this.options.shadowOffsetX,n.shadowOffsetY=this.options.shadowOffsetY,n.shadowColor=this.options.shadowColor,n.shadowBlur=this.options.shadowBlur);for(var i=e.split("\n"),r=0;r<i.length;r++)n.fillText(i[r],t.x,t.y-this.options.fontSize/2*i.length+this.options.fontSize*r);n.restore()}},t.prototype.renderArcLabel=function(e,t){var n=this.ctx,i=t.radius,r=t.view;if(n.save(),n.translate(r.x,r.y),"string"==typeof e){n.rotate(t.startAngle),n.textBaseline="middle",n.textAlign="left";var a=e.split("\n"),o=0,s=[],l=0;"border"===this.options.position&&(l=(a.length-1)*this.options.fontSize/2);for(var c=0;c<a.length;++c){var d=n.measureText(a[c]);d.width>o&&(o=d.width),s.push(d.width)}for(c=0;c<a.length;++c){var p=a[c],u=(a.length-1-c)*-this.options.fontSize+l;n.save(),n.rotate((o-s[c])/2/i);for(var h=0;h<p.length;h++){var g=p.charAt(h);d=n.measureText(g),n.save(),n.translate(0,-1*i),n.fillText(g,0,u),n.restore(),n.rotate(d.width/i)}n.restore()}}else n.rotate((r.startAngle+Math.PI/2+t.endAngle)/2),n.translate(0,-1*i),this.renderLabel(e,{x:0,y:0});n.restore()},t.prototype.shouldRenderToElement=function(e,t){return!e.hidden&&!t.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==t._view.outerRadius:0!==t._view.circumference)},t.prototype.getLabel=function(e,t,n){var i;if("function"==typeof this.options.render)i=this.options.render({label:this.chart.config.data.labels[n],value:e.data[n],percentage:this.getPercentage(e,t,n),dataset:e,index:n});else switch(this.options.render){case"value":i=e.data[n];break;case"label":i=this.chart.config.data.labels[n];break;case"image":i=this.options.images[n]?this.loadImage(this.options.images[n]):"";break;case"percentage":default:i=this.getPercentage(e,t,n)+"%"}return"object"==typeof i?i=this.loadImage(i):null!=i&&(i=i.toString()),i},t.prototype.getFontColor=function(e,t,n){var i=this.options.fontColor;return"function"==typeof i?i=i({label:this.chart.config.data.labels[n],value:e.data[n],percentage:this.getPercentage(e,t,n),backgroundColor:e.backgroundColor[n],dataset:e,index:n}):"string"!=typeof i&&(i=i[n]||this.chart.config.options.defaultFontColor),i},t.prototype.getPercentage=function(e,t,n){if(null!==this.percentage)return this.percentage;var i;if("polarArea"===this.chart.config.type){if(null===this.total){this.total=0;for(var r=0;r<e.data.length;++r)this.total+=e.data[r]}i=e.data[n]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[n])for(this.barTotal[n]=0,r=0;r<this.chart.data.datasets.length;++r)this.barTotal[n]+=this.chart.data.datasets[r].data[n];i=e.data[n]/this.barTotal[n]*100}else i=t._view.circumference/this.chart.config.options.circumference*100;return i=parseFloat(i.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[n]||0),this.totalPercentage+=i,this.totalPercentage>100&&(i-=this.totalPercentage-100,i=parseFloat(i.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[n]=this.totalPercentage)),this.percentage=i,i},t.prototype.getRenderInfo=function(e,t){return"bar"===this.chart.config.type?this.getBarRenderInfo(e,t):this.options.arc?this.getArcRenderInfo(e,t):this.getBaseRenderInfo(e,t)},t.prototype.getBaseRenderInfo=function(e,t){if("outside"===this.options.position||"border"===this.options.position){var n,i,r=e._view,a=r.startAngle+(r.endAngle-r.startAngle)/2,o=r.outerRadius/2;if("border"===this.options.position?i=(r.outerRadius-o)/2+o:"outside"===this.options.position&&(i=r.outerRadius-o+o+this.options.textMargin),n={x:r.x+Math.cos(a)*i,y:r.y+Math.sin(a)*i},"outside"===this.options.position){var s=this.options.textMargin+this.measureLabel(t).width/2;n.x+=n.x<r.x?-s:s}return n}return e.tooltipPosition()},t.prototype.getArcRenderInfo=function(e,t){var n,i=e._view;n="outside"===this.options.position?i.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(i.outerRadius/2+i.outerRadius)/2:(i.innerRadius+i.outerRadius)/2;var r=i.startAngle,a=i.endAngle,o=a-r;return r+=Math.PI/2,{radius:n,startAngle:r+=((a+=Math.PI/2)-(this.measureLabel(t).width/n+r))/2,endAngle:a,totalAngle:o,view:i}},t.prototype.getBarRenderInfo=function(e,t){var n=e.tooltipPosition();return n.y-=this.measureLabel(t).height/2+this.options.textMargin,n},t.prototype.drawable=function(e,t,n){if(this.options.overlap)return!0;if(this.options.arc)return n.endAngle-n.startAngle<=n.totalAngle;var i=this.measureLabel(t),r=n.x-i.width/2,a=n.x+i.width/2,o=n.y-i.height/2,s=n.y+i.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(r,a,o,s):e.inRange(r,o)&&e.inRange(r,s)&&e.inRange(a,o)&&e.inRange(a,s)},t.prototype.outsideInRange=function(e,t,n,i){for(var r=this.labelBounds,a=0;a<r.length;++a){for(var o=r[a],s=[[e,n],[e,i],[t,n],[t,i]],l=0;l<s.length;++l){var c=s[l][1];if((d=s[l][0])>=o.left&&d<=o.right&&c>=o.top&&c<=o.bottom)return!1}for(s=[[o.left,o.top],[o.left,o.bottom],[o.right,o.top],[o.right,o.bottom]],l=0;l<s.length;++l){var d;if(c=s[l][1],(d=s[l][0])>=e&&d<=t&&c>=n&&c<=i)return!1}}return r.push({left:e,right:t,top:n,bottom:i}),!0},t.prototype.measureLabel=function(e){if("object"==typeof e)return{width:e.width,height:e.height};for(var t=0,n=e.split("\n"),i=0;i<n.length;++i){var r=this.ctx.measureText(n[i]);r.width>t&&(t=r.width)}return{width:t,height:this.options.fontSize*n.length}},t.prototype.loadImage=function(e){var t=new Image;return t.src=e.src,t.width=e.width,t.height=e.height,t},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(n,i){if(e[n.config.type]){Array.isArray(i)||(i=[i]);var r=i.length;n._labels&&r===n._labels.length||(n._labels=i.map((function(){return new t})));for(var a=!1,o=0,s=0;s<r;++s){var l=n._labels[s];if(l.setup(n,i[s]),"outside"===l.options.position){a=!0;var c=1.5*l.options.fontSize+l.options.outsidePadding;c>o&&(o=c)}}a&&(n.chartArea.top+=o,n.chartArea.bottom-=o)}},afterDatasetUpdate:function(t,n,i){e[t.config.type]&&t._labels.forEach((function(e){e.args[n.index]=n}))},beforeDraw:function(t){e[t.config.type]&&t._labels.forEach((function(e){e.barTotalPercentage={}}))},afterDatasetsDraw:function(t){e[t.config.type]&&t._labels.forEach((function(e){e.render()}))}})}else console.error("Can not find Chart object.");function t(){this.renderToDataset=this.renderToDataset.bind(this)}}()}}]);