function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0TN5":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n("mrSG"),a=n("fXoL"),o=n("tk/3"),r=n("82Ky"),i=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.localStorageService=n,this.url="https://greencity-ubs.azurewebsites.net/ubs/client"}return _createClass(e,[{key:"getAllUserOrders",value:function(){var e="ua"===localStorage.getItem("language")?1:2;return this.http.get("".concat(this.url,"/get-all-orders-data/").concat(e))}}]),e}();i.ctorParameters=function(){return[{type:o.b},{type:r.a}]},i=Object(s.__decorate)([Object(a.Injectable)({providedIn:"root"})],i);var c=n("1G5W"),l=n("JIr8"),u=n("XNiG"),p=n("z6cu"),d=n("BhRD"),g=function(){function e(t,n){_classCallCheck(this,e),this.snackBar=t,this.userOrdersService=n,this.destroy=new u.a,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userOrdersService.getAllUserOrders().pipe(Object(c.a)(this.destroy),Object(l.a)((function(t){return e.snackBar.openSnackBar("Oops, something went wrong. Please reload page or try again later."),Object(p.a)(t)}))).subscribe((function(t){e.orders=t,e.loading=!0,e.currentOrders=e.orders.filter((function(e){return"DONE"!==e.orderStatus&&"CANCELLED"!==e.orderStatus})),e.orderHistory=e.orders.filter((function(e){return"DONE"===e.orderStatus||"CANCELLED"===e.orderStatus}))}))}},{key:"ngOnDestroy",value:function(){this.destroy.next(),this.destroy.unsubscribe()}}]),e}();g.ctorParameters=function(){return[{type:d.a},{type:i}]},g=Object(s.__decorate)([Object(a.Component)({selector:"app-ubs-user-orders",template:Object(s.__importDefault)(n("8uLK")).default,styles:[Object(s.__importDefault)(n("FSe9")).default]})],g)},"41W/":function(e,t,n){"use strict";n.r(t),t.default=".bonuses-container {\n  padding: 40px 32px;\n  font-family: var(--primary-font);\n}\n\n.no-bonuses-wrapper {\n  padding-top: 30px;\n}\n\n.no-bonuses-text {\n  padding-right: 8px;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n}\n\n.more-about-bonuses-link {\n  color: var(--primary-green);\n}\n\n.link-center {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  padding: 24px 0 64px 0;\n}\n\n.bonuses-exist-wrapper {\n  width: 100%;\n}\n\n.total-bonuses-number {\n  width: 228px;\n  height: 140px;\n  background-color: var(--primary-white);\n  box-shadow: 1px 4px 8px rgba(100, 114, 125, 0.18);\n  text-align: center;\n  padding-top: 24px;\n  margin: 0 auto;\n}\n\n.total-bonuses-number__header {\n  font-size: 20px;\n  font-weight: 700;\n  letter-spacing: 0.2px;\n  line-height: 28px;\n}\n\n.total-bonuses-number__amount {\n  font-weight: 700;\n  font-size: 32px;\n  letter-spacing: 0.2px;\n  line-height: 40px;\n}\n\n.bonuses-table-wrapper {\n  max-width: 775px;\n  margin: 0 auto;\n}\n\n.mat-header-cell,\n.mat-cell {\n  color: var(--ubs-primary-grey);\n  padding: 17px 0;\n  font-size: 14px;\n  line-height: 20px;\n}\n\n.date-sort-icon {\n  padding-left: 6.5px;\n  font-size: 12px;\n  font-weight: 400;\n}\n\n.mat-header-cell {\n  font-weight: 700;\n  letter-spacing: 0.1px;\n}"},"7Gk6":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s={arrowLeft:"assets/img/icon/econews/arrow_left.svg",ellipse:"assets/img/icon/econews/ellipse.svg",largeImage:"assets/img/icon/econews/news-default-large.png",twitter:"assets/img/icon/econews/twitter.svg",facebook:"assets/img/icon/econews/facebook.svg",linkedIn:"assets/img/icon/econews/linkedin.svg"}},"7itd":function(e,t,n){!function(e,t,n){"use strict";var s=function(e){e&&Object.assign(this,e)},a=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new s),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",(function(){e.handleChangeEvent()}))),this.el.nativeElement.addEventListener("keydown",(function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())})),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout((function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var n=0,s=t;n<s.length;n++){var a=s[n];a&&a.addEventListener("touchend",(function(e){e.stopImmediatePropagation()}))}}}),500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run((function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)}))},t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={options:[{type:n.Input,args:["options"]}],onAddressChange:[{type:n.Output}]},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}(),o=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({factory:function(e){return new(e||t)}}),("undefined"==typeof ngJitMode||ngJitMode)&&e.\u0275\u0275setNgModuleScope(t,{declarations:[a],exports:[a]}),t}();t.GooglePlaceModule=o,t.GooglePlaceDirective=a,Object.defineProperty(t,"__esModule",{value:!0})}(n("fXoL"),t,n("fXoL"))},"8msc":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n("mrSG"),a=n("fXoL"),o=n("Dh3D"),r=n("+0xr"),i=n("AytR"),c=n("tk/3"),l=function(){function e(t){_classCallCheck(this,e),this.http=t,this.url=i.a.backendUbsLink}return _createClass(e,[{key:"getUserBonuses",value:function(){return this.http.get(this.url+"/ubs/client/users-pointsToUse")}}]),e}();l.ctorParameters=function(){return[{type:c.b}]},l=Object(s.__decorate)([Object(a.Injectable)({providedIn:"root"})],l);var u=function(){function e(t){_classCallCheck(this,e),this.bonusesService=t,this.displayedColumns=["dateOfEnrollment","amount","reasone"],this.dataSource=new r.a,this.isLoading=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.getBonusesData()}},{key:"matSort",set:function(e){this.dataSource&&(this.dataSource.sort=e)}},{key:"ngAfterViewInit",value:function(){this.dataSource.sortingDataAccessor=function(e,t){return"dateOfEnrollment"===t?new Date(e.dateOfEnrollment):e[t]}}},{key:"getBonusesData",value:function(){var e=this;this.isLoading=!0,this.subscription=this.bonusesService.getUserBonuses().subscribe((function(t){e.dataSource.data=t.ubsUserBonuses,e.totalBonuses=t.userBonuses,e.isLoading=!1}),(function(t){e.isLoading=!1,console.log(t)}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}();u.ctorParameters=function(){return[{type:l}]},Object(s.__decorate)([Object(a.ViewChild)(o.a,{static:!1})],u.prototype,"matSort",null),u=Object(s.__decorate)([Object(a.Component)({selector:"app-ubs-client-bonuses",template:Object(s.__importDefault)(n("f63O")).default,styles:[Object(s.__importDefault)(n("41W/")).default]})],u)},"8uLK":function(e,t,n){"use strict";n.r(t),t.default='<div class="wrapper">\n  <div class="main_header">{{ \'user-orders.order-title\' | translate }}</div>\n  <div *ngIf="loading; else spinner">\n    <div *ngIf="!orders || orders.length === 0" class="if_empty">\n      <span>{{ \'user-orders.no-orders\' | translate }}</span\n      ><a href="#">{{ \'user-orders.make-order\' | translate }}</a>\n    </div>\n    <div *ngIf="orders && orders.length !== 0" class="cards">\n      <mat-tab-group animationDuration="0ms">\n        <mat-tab label="{{ \'user-orders.current-orders\' | translate }}">\n          <app-ubs-user-orders-list [orders]="currentOrders"></app-ubs-user-orders-list>\n        </mat-tab>\n        <mat-tab label="{{ \'user-orders.order-history\' | translate }}">\n          <app-ubs-user-orders-list [orders]="orderHistory"></app-ubs-user-orders-list>\n        </mat-tab>\n      </mat-tab-group>\n      <div class="empty"></div>\n    </div>\n  </div>\n  <ng-template #spinner>\n    <app-spinner></app-spinner>\n  </ng-template>\n</div>\n'},FSe9:function(e,t,n){"use strict";n.r(t),t.default=".wrapper {\n  height: 100vh;\n  margin-top: 35px;\n  font-size: 16px;\n  line-height: 24px;\n  color: var(--ubs-primary-black);\n  font-family: var(--primary-font);\n  background-color: var(--after-primary-light-grey);\n}\n\n.main_header {\n  margin: 0 0 51px 44px;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 32px;\n  line-height: 40px;\n}\n\n.if_empty {\n  margin: 16px 0 0 44px;\n}\n\n.if_empty a {\n  margin-left: 13px;\n  color: var(--ubs-primary-green);\n}\n\n.cards {\n  width: 862px;\n}\n\n.cards .empty {\n  height: 80px;\n}"},cP9i:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n("mrSG"),a=n("fXoL"),o=n("tk/3"),r=n("jtHE"),i=n("HDdC"),c=n("1G5W"),l=n("IzEk"),u=n("AytR"),p=n("82Ky"),d=function(){function e(t,n){var s=this;_classCallCheck(this,e),this.http=t,this.localStorageService=n,this.backEnd=u.a.backendLink,this.destroyed$=new r.a(1),this.localStorageService.languageBehaviourSubject.pipe(Object(c.a)(this.destroyed$)).subscribe((function(e){return s.language=e}))}return _createClass(e,[{key:"getAllPresentTags",value:function(){return this.http.get("".concat(this.backEnd,"econews/tags/all?lang=").concat(this.language))}},{key:"getEcoNewsListByPage",value:function(e,t){return this.http.get("".concat(this.backEnd,"econews?page=").concat(e,"&size=").concat(t))}},{key:"getNewsListByTags",value:function(e,t,n){return this.http.get("".concat(this.backEnd,"econews/tags?page=").concat(e,"&size=").concat(t,"&tags=").concat(n))}},{key:"getNewsList",value:function(){var e=this;return(new o.d).set("Content-type","application/json"),new i.a((function(t){e.http.get(e.backEnd+"econews").pipe(Object(l.a)(1)).subscribe((function(e){t.next(e)}))}))}},{key:"getEcoNewsById",value:function(e){return this.http.get("".concat(this.backEnd,"econews/").concat(e,"?lang=").concat(this.language))}},{key:"getRecommendedNews",value:function(e){return this.http.get("".concat(this.backEnd,"econews/recommended?openedEcoNewsId=").concat(e))}},{key:"getIsLikedByUser",value:function(e){return this.http.get(this.backEnd+"econews/isLikedByUser",{params:{econewsId:e}})}},{key:"postToggleLike",value:function(e){return this.http.post("".concat(this.backEnd,"econews/like?id=").concat(e),{})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}();d.ctorParameters=function(){return[{type:o.b},{type:p.a}]},d=Object(s.__decorate)([Object(a.Injectable)({providedIn:"root"})],d)},f63O:function(e,t,n){"use strict";n.r(t),t.default='<div class="bonuses-container">\n  <ng-container *ngIf="!isLoading">\n    <div class="no-bonuses-wrapper" *ngIf="!totalBonuses">\n      <span class="no-bonuses-text">{{ \'bonuses.no-bonuses\' | translate }}</span>\n      <a href="#" class="more-about-bonuses-link">{{ \'bonuses.get-bonuses\' | translate }}</a>\n    </div>\n    <div class="bonuses-exist-wrapper" *ngIf="totalBonuses">\n      <div class="total-bonuses-number">\n        <p class="total-bonuses-number__header">{{ \'bonuses.title\' | translate }}</p>\n        <p class="total-bonuses-number__amount">{{ totalBonuses }}</p>\n      </div>\n      <a href="" class="more-about-bonuses-link link-center">{{ \'bonuses.about-bonuses-system\' | translate }}</a>\n      <div class="bonuses-table-wrapper">\n        <table mat-table [dataSource]="dataSource" class="table" matSort aria-label="user\'s bonuses table">\n          <ng-container matColumnDef="dateOfEnrollment">\n            <th mat-header-cell *matHeaderCellDef class="table-header" mat-sort-header scope="col">\n              {{ \'bonuses.enrollment-date\' | translate }}\n            </th>\n            <td mat-cell *matCellDef="let element">{{ element.dateOfEnrollment | date: \'d.MM.yyyy\' }}</td>\n          </ng-container>\n          <ng-container matColumnDef="amount">\n            <th mat-header-cell *matHeaderCellDef scope="col">{{ \'bonuses.amount\' | translate }}</th>\n            <td mat-cell *matCellDef="let element">{{ element.amount }}</td>\n          </ng-container>\n          <ng-container matColumnDef="reasone">\n            <th mat-header-cell *matHeaderCellDef scope="col">{{ \'bonuses.reason\' | translate }}</th>\n            <td mat-cell *matCellDef="let element">{{ \'bonuses.order\' | translate }} \u2116{{ element.numberOfOrder }}</td>\n          </ng-container>\n          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>\n        </table>\n      </div>\n    </div>\n  </ng-container>\n  <app-spinner *ngIf="isLoading"></app-spinner>\n</div>\n'},q5jP:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var s=n("mrSG"),a=n("fXoL"),o=n("tyNb"),r=n("LRne"),i=n("82Ky"),c=n("pLZG"),l=n("fOhs"),u=n("0IaG"),p=function(){function e(t,n,s){var a=this;_classCallCheck(this,e),this.localStorageService=t,this.router=n,this.dialog=s,this.isLoggedIn=!1,this.localStorageService.userIdBehaviourSubject.subscribe((function(e){return a.isLoggedIn=null!==e&&!isNaN(e)})),this.localStorageService.ubsRegBehaviourSubject.subscribe((function(e){return a.ubsRegValue=e}))}return _createClass(e,[{key:"canActivate",value:function(e,t){return this.isLoggedIn?Object(r.a)(!0):this.ubsRegValue?(this.openSingInWindow("sign-up"),Object(r.a)(!1)):(this.openSingInWindow("sign-in"),Object(r.a)(!1))}},{key:"openSingInWindow",value:function(e){var t=this;this.dialog.open(l.a,{hasBackdrop:!0,closeOnNavigation:!0,panelClass:"custom-dialog-container",data:{popUpName:e}}).afterClosed().pipe(Object(c.a)(Boolean)).subscribe((function(e){t.ubsRegValue?t.router.navigateByUrl("/ubs/order"):t.router.navigateByUrl(e+"/profile")}))}}]),e}();p.ctorParameters=function(){return[{type:i.a},{type:o.g},{type:u.c}]},p=Object(s.__decorate)([Object(a.Injectable)({providedIn:"root"})],p)}}]);